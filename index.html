<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fridgee's Site</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #89f7fe, #66a6ff);
            color: #fff;
            text-align: center;
            overflow-y: auto;
            height: 100vh;
        }

        .content {
            position: relative;
            z-index: 2;
            background: rgba(0, 0, 0, 0.6);
            margin: 50px auto;
            padding: 20px;
            border-radius: 15px;
            max-width: 600px;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        p {
            font-size: 1.2rem;
            margin: 10px 0;
        }

        .fridge {
            position: absolute;
            width: 100px;
            opacity: 0.7;
            animation: float 10s infinite ease-in-out;
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); }
            50% { transform: translateY(50vh) rotate(180deg); }
            100% { transform: translateY(-150px) rotate(360deg); }
        }

        .joke {
            margin-top: 20px;
            font-style: italic;
            color: #ffd;
        }
    </style>
</head>
<body>
    <!-- Gambling Machine UI -->
    <div id="gumball-container" style="position:fixed;bottom:30px;right:30px;z-index:10;">
            <div id="gumball-machine" style="width:160px;height:260px;background:rgba(255,255,255,0.15);border-radius:30px 30px 60px 60px;box-shadow:0 4px 20px #0006;position:relative;padding:20px 20px 40px 20px;">
                    <div style="text-align:center;">
                            <div id="reels" style="display:flex;justify-content:center;align-items:center;font-size:2.5rem;height:48px;margin-bottom:10px;">
                                    <span id="reel1">üç¨</span>
                                    <span id="reel2">üç¨</span>
                                    <span id="reel3">üç¨</span>
                            </div>
                            <button id="spin-btn" style="margin-top:10px;padding:8px 24px;font-size:1.1rem;border-radius:20px;border:none;background:#ff5e62;color:#fff;cursor:pointer;box-shadow:0 2px 8px #0003;">Pull Handle</button>
                            <div id="gumball-result" style="margin-top:12px;min-height:30px;font-size:1.1rem;"></div>
                    </div>
                    <div id="toggle-machine" style="position:absolute;bottom:-30px;left:50%;transform:translateX(-50%);width:40px;height:60px;background:#c0c0c0;border-radius:20px;box-shadow:0 2px 8px #0003;cursor:pointer;"></div>
            </div>
    </div>

    <!-- Dollar Sign Button -->
    <button id="dollar-btn" title="Click for money!" style="position:fixed;top:30px;right:30px;z-index:10;font-size:2.2rem;background:gold;border:none;border-radius:50%;width:54px;height:54px;box-shadow:0 2px 8px #0003;cursor:pointer;display:flex;align-items:center;justify-content:center;">üí≤</button>
    
    <!-- Wallet Display -->
    <div id="wallet-display" style="position:fixed;top:30px;right:100px;z-index:10;font-size:1.5rem;font-weight:bold;color:#fff;text-shadow:2px 2px 4px #000;background:rgba(0,0,0,0.6);padding:8px 16px;border-radius:20px;">$0</div>
    
    <!-- Shop Button -->
    <button id="shop-btn" title="Open Shop" style="position:fixed;top:30px;right:200px;z-index:10;font-size:1.5rem;background:#4CAF50;border:none;border-radius:50%;width:44px;height:44px;box-shadow:0 2px 8px #0003;cursor:pointer;display:flex;align-items:center;justify-content:center;">üõí</button>

    <!-- Floating fridges -->
    <img src="https://www.leons.ca/cdn/shop/products/Shopify_JPEG-L2_57G18101_LRT18S4AWWC_F_3qtr_800x.jpg?v=1694460768" class="fridge" style="left:5%; animation-duration: 12s;">
    <img src="https://www.leons.ca/cdn/shop/products/Shopify_JPEG-L2_57G18101_LRT18S4AWWC_F_3qtr_800x.jpg?v=1694460768" class="fridge" style="left:40%; animation-duration: 15s;">
    <img src="https://www.leons.ca/cdn/shop/products/Shopify_JPEG-L2_57G18101_LRT18S4AWWC_F_3qtr_800x.jpg?v=1694460768" class="fridge" style="left:70%; animation-duration: 18s;">
    
    <!-- Shop Modal -->
    <div id="shop-modal" style="position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);background:rgba(0,0,0,0.9);color:#fff;padding:30px;border-radius:20px;z-index:100;display:none;max-width:400px;width:80%;max-height:80vh;box-shadow:0 0 20px #000;overflow-y:auto;">
        <h2 style="margin-top:0;text-align:center;">Upgrades Shop</h2>
        <div style="margin:20px 0;">
            <div style="margin-bottom:15px;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;">
                <h3>Double Click ($50)</h3>
                <p>Earn $2 per click instead of $1</p>
                <button id="buy-doubleClick" onclick="buyUpgrade('doubleClick')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;background:#ccc;margin-right:8px;">Buy</button>
                <button id="toggle-doubleClick" onclick="toggleUpgrade('doubleClick')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;display:none;">OFF</button>
            </div>
            <div style="margin-bottom:15px;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;">
                <h3>Triple Click ($200)</h3>
                <p>Earn $3 per click instead of $1</p>
                <button id="buy-tripleClick" onclick="buyUpgrade('tripleClick')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;background:#ccc;margin-right:8px;">Buy</button>
                <button id="toggle-tripleClick" onclick="toggleUpgrade('tripleClick')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;display:none;">OFF</button>
            </div>
            <div style="margin-bottom:15px;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;">
                <h3>Rainbow Fridges ($100)</h3>
                <p>Make your fridges colorful and animated</p>
                <button id="buy-rainbowFridges" onclick="buyUpgrade('rainbowFridges')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;background:#ccc;margin-right:8px;">Buy</button>
                <button id="toggle-rainbowFridges" onclick="toggleUpgrade('rainbowFridges')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;display:none;">OFF</button>
            </div>
            <div style="margin-bottom:15px;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;">
                <h3>Confetti Click ($75)</h3>
                <p>Get confetti every time you click</p>
                <button id="buy-confettiClick" onclick="buyUpgrade('confettiClick')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;background:#ccc;margin-right:8px;">Buy</button>
                <button id="toggle-confettiClick" onclick="toggleUpgrade('confettiClick')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;display:none;">OFF</button>
            </div>
            <div style="margin-bottom:15px;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;">
                <h3>Auto Clicker ($300)</h3>
                <p>Earn $1 every 10 seconds automatically</p>
                <button id="buy-autoClicker" onclick="buyUpgrade('autoClicker')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;background:#ccc;margin-right:8px;">Buy</button>
                <button id="toggle-autoClicker" onclick="toggleUpgrade('autoClicker')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;display:none;">OFF</button>
            </div>
            <div style="margin-bottom:15px;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;">
                <h3>Golden Dollar ($500)</h3>
                <p>Double your click value permanently</p>
                <button id="buy-goldenDollar" onclick="buyUpgrade('goldenDollar')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;background:#ccc;margin-right:8px;">Buy</button>
                <button id="toggle-goldenDollar" onclick="toggleUpgrade('goldenDollar')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;display:none;">OFF</button>
            </div>
            <div style="margin-bottom:15px;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;">
                <h3>Lucky Gambler ($150)</h3>
                <p>Better odds at the gambling machine</p>
                <button id="buy-luckyGambler" onclick="buyUpgrade('luckyGambler')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;background:#ccc;margin-right:8px;">Buy</button>
                <button id="toggle-luckyGambler" onclick="toggleUpgrade('luckyGambler')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;display:none;">OFF</button>
            </div>
            <div style="margin-bottom:15px;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;">
                <h3>Background Theme ($80)</h3>
                <p>Change the background to a cool theme</p>
                <button id="buy-backgroundTheme" onclick="buyUpgrade('backgroundTheme')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;background:#ccc;margin-right:8px;">Buy</button>
                <button id="toggle-backgroundTheme" onclick="toggleUpgrade('backgroundTheme')" style="padding:8px 16px;border:none;border-radius:5px;cursor:pointer;display:none;">OFF</button>
            </div>
        </div>
        <button onclick="document.getElementById('shop-modal').style.display='none'" style="padding:10px 20px;background:#ff5e62;color:#fff;border:none;border-radius:5px;cursor:pointer;width:100%;margin-top:20px;">Close Shop</button>
    </div>

    <!-- Main Content -->
    <div class="content">
        <h1>Hello this is Fridgee's Site about me</h1>
        <p>Email: <b>IamFridgee@gmail.com</b></p>
        <div class="joke" id="joke"></div>
    </div>
    
    <script>
        // Shop button functionality
        document.getElementById('shop-btn').onclick = function() {
            const modal = document.getElementById('shop-modal');
            modal.style.display = 'block';
            updateShopButtons();
        };
        
        // Close modal when clicking outside or on close button
        window.onclick = function(event) {
            const modal = document.getElementById('shop-modal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        };
        
        // Close shop with escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                document.getElementById('shop-modal').style.display = 'none';
            }
        });
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    @media (max-width: 700px) {
        .content {
            margin: 18px 4vw;
            padding: 12px;
            max-width: 98vw;
        }
        #gumball-container {
            right: 10px !important;
            bottom: 10px !important;
            transform: scale(0.82);
        }
        #dollar-btn {
            right: 10px !important;
            top: 10px !important;
            width: 44px !important;
            height: 44px !important;
            font-size: 1.5rem !important;
        }
        .fridge {
            width: 60px !important;
        }
        #gamble-msg {
            left: 10px !important;
            bottom: 10px !important;
            font-size: 1rem !important;
            padding: 8px 14px !important;
        }
    }
</style>
<!-- Gambling Message Box -->
<div id="gamble-msg" style="position:fixed;left:30px;bottom:30px;z-index:11;background:rgba(0,0,0,0.7);color:#fff;padding:12px 22px;border-radius:14px;font-size:1.15rem;box-shadow:0 2px 8px #0003;">
    Let's go Gambling!
</div>
    
    <script>
        // Game state
        let money = 0;
        let clickValue = 1;
        let upgrades = {
            doubleClick: { bought: false, active: false, cost: 50 },
            tripleClick: { bought: false, active: false, cost: 200 },
            rainbowFridges: { bought: false, active: false, cost: 100 },
            confettiClick: { bought: false, active: false, cost: 75 },
            autoClicker: { bought: false, active: false, cost: 300 },
            goldenDollar: { bought: false, active: false, cost: 500 },
            luckyGambler: { bought: false, active: false, cost: 150 },
            backgroundTheme: { bought: false, active: false, cost: 80 }
        };
        let autoClickerInterval = null;

        // Update money display
        function updateMoneyDisplay() {
            const walletDisplay = document.getElementById('wallet-display');
            if (walletDisplay) {
                walletDisplay.innerText = `${money}`;
            }
        }

        // Save game state to localStorage
        function saveGame() {
            const gameData = {
                money: money,
                clickValue: clickValue,
                upgrades: upgrades
            };
            localStorage.setItem('fridgeeGame', JSON.stringify(gameData));
        }

        // Load game state from localStorage
        function loadGame() {
            const savedData = localStorage.getItem('fridgeeGame');
            if (savedData) {
                const gameData = JSON.parse(savedData);
                money = gameData.money || 0;
                clickValue = gameData.clickValue || 1;
                
                // Merge with default upgrades to ensure all properties exist
                const defaultUpgrades = {
                    doubleClick: { bought: false, active: false, cost: 50 },
                    tripleClick: { bought: false, active: false, cost: 200 },
                    rainbowFridges: { bought: false, active: false, cost: 100 },
                    confettiClick: { bought: false, active: false, cost: 75 },
                    autoClicker: { bought: false, active: false, cost: 300 },
                    goldenDollar: { bought: false, active: false, cost: 500 },
                    luckyGambler: { bought: false, active: false, cost: 150 },
                    backgroundTheme: { bought: false, active: false, cost: 80 }
                };
                
                upgrades = { ...defaultUpgrades, ...(gameData.upgrades || {}) };
                
                // Apply active upgrades
                applyActiveUpgrades();
                updateMoneyDisplay();
                updateShopButtons();
            }
        }

        // Update shop buttons based on purchase status
        function updateShopButtons() {
            Object.keys(upgrades).forEach(upgradeKey => {
                const btn = document.getElementById(`buy-${upgradeKey}`);
                const toggleBtn = document.getElementById(`toggle-${upgradeKey}`);
                if (btn) {
                    const upgrade = upgrades[upgradeKey];
                    if (upgrade.bought) {
                        btn.disabled = true;
                        btn.innerText = 'Purchased';
                        btn.style.background = '#4CAF50';
                        if (toggleBtn) {
                            toggleBtn.style.display = 'inline-block';
                            toggleBtn.innerText = upgrade.active ? 'ON' : 'OFF';
                            toggleBtn.style.background = upgrade.active ? '#4CAF50' : '#ff5e62';
                        }
                    } else if (money >= upgrade.cost) {
                        btn.disabled = false;
                        btn.style.background = '#4CAF50';
                        if (toggleBtn) toggleBtn.style.display = 'none';
                    } else {
                        btn.disabled = true;
                        btn.style.background = '#ccc';
                        if (toggleBtn) toggleBtn.style.display = 'none';
                    }
                }
            });
        }

        // Apply all active upgrades
        function applyActiveUpgrades() {
            Object.keys(upgrades).forEach(upgradeKey => {
                const upgrade = upgrades[upgradeKey];
                if (upgrade.bought && upgrade.active) {
                    switch(upgradeKey) {
                        case 'doubleClick':
                            clickValue = 2;
                            break;
                        case 'tripleClick':
                            clickValue = 3;
                            break;
                        case 'rainbowFridges':
                            applyRainbowFridges();
                            break;
                        case 'autoClicker':
                            startAutoClicker();
                            break;
                        case 'goldenDollar':
                            clickValue *= 2;
                            break;
                        // Other upgrades are applied when used
                    }
                }
            });
        }

        // Toggle upgrade function
        function toggleUpgrade(upgradeKey) {
            const upgrade = upgrades[upgradeKey];
            if (upgrade.bought) {
                upgrade.active = !upgrade.active;
                
                // Apply or remove the upgrade effect
                switch(upgradeKey) {
                    case 'doubleClick':
                        clickValue = upgrade.active ? 2 : 1;
                        // If tripleClick is active, prioritize it
                        if (upgrades.tripleClick.active) clickValue = 3;
                        break;
                    case 'tripleClick':
                        clickValue = upgrade.active ? 3 : 1;
                        // If doubleClick is active but triple is off, use double
                        if (!upgrade.active && upgrades.doubleClick.active) clickValue = 2;
                        break;
                    case 'rainbowFridges':
                        if (upgrade.active) {
                            applyRainbowFridges();
                        } else {
                            const fridges = document.querySelectorAll('.fridge');
                            fridges.forEach(fridge => {
                                fridge.style.filter = '';
                            });
                        }
                        break;
                    case 'confettiClick':
                        // Handled in click event
                        break;
                    case 'autoClicker':
                        if (upgrade.active) {
                            startAutoClicker();
                        } else {
                            stopAutoClicker();
                        }
                        break;
                    case 'goldenDollar':
                        if (upgrade.active) {
                            clickValue *= 2;
                        } else {
                            clickValue /= 2;
                            // Re-apply other click upgrades
                            if (upgrades.doubleClick.active) clickValue = 2;
                            if (upgrades.tripleClick.active) clickValue = 3;
                        }
                        break;
                }
                
                updateShopButtons();
                saveGame();
                showPurchaseMessage(`${upgradeKey.replace(/([A-Z])/g, ' $1').toLowerCase()} turned ${upgrade.active ? 'ON' : 'OFF'}`);
            }
        }

        function startAutoClicker() {
            if (autoClickerInterval) clearInterval(autoClickerInterval);
            autoClickerInterval = setInterval(() => {
                money += 1;
                updateMoneyDisplay();
                saveGame();
            }, 10000);
        }

        function stopAutoClicker() {
            if (autoClickerInterval) {
                clearInterval(autoClickerInterval);
                autoClickerInterval = null;
            }
        }

        // Buy upgrade function
        function buyUpgrade(upgradeKey) {
            const upgrade = upgrades[upgradeKey];
            if (!upgrade.bought && money >= upgrade.cost) {
                money -= upgrade.cost;
                upgrade.bought = true;
                upgrade.active = true; // Auto-activate when bought
                
                switch(upgradeKey) {
                    case 'doubleClick':
                        clickValue = 2;
                        break;
                    case 'tripleClick':
                        clickValue = 3;
                        break;
                    case 'rainbowFridges':
                        applyRainbowFridges();
                        break;
                    case 'autoClicker':
                        startAutoClicker();
                        break;
                    case 'goldenDollar':
                        clickValue *= 2;
                        break;
                    // Other upgrades are applied when used
                }
                
                updateMoneyDisplay();
                updateShopButtons();
                saveGame();
                showPurchaseMessage(`Upgrade purchased: ${upgradeKey.replace(/([A-Z])/g, ' $1').toLowerCase()}`);
            }
        }

        function applyRainbowFridges() {
            const fridges = document.querySelectorAll('.fridge');
            fridges.forEach(fridge => {
                fridge.style.filter = 'hue-rotate(90deg)';
                setInterval(() => {
                    const hue = Math.floor(Math.random() * 360);
                    fridge.style.filter = `hue-rotate(${hue}deg)`;
                }, 2000);
            });
        }

        function showPurchaseMessage(message) {
            const msg = document.createElement('div');
            msg.innerText = message;
            msg.style.position = 'fixed';
            msg.style.top = '50%';
            msg.style.left = '50%';
            msg.style.transform = 'translate(-50%, -50%)';
            msg.style.background = 'rgba(0,0,0,0.8)';
            msg.style.color = '#fff';
            msg.style.padding = '15px 25px';
            msg.style.borderRadius = '10px';
            msg.style.zIndex = 10000;
            document.body.appendChild(msg);
            setTimeout(() => msg.remove(), 2000);
        }

        const symbols = [
                {emoji: "7Ô∏è‚É£", name: "Jackpot", weight: 2},
                {emoji: "ü§ë", name: "Money", weight: 5},
                {emoji: "?", name: "Mystery", weight: 8},
                {emoji: "üçû", name: "Bread", weight: 10},
                {emoji: "üç¨", name: "Candy", weight: 12},
                {emoji: "üçé", name: "Apple", weight: 14},
        ];

        function weightedRandomSymbol() {
                const total = symbols.reduce((sum, s) => sum + s.weight, 0);
                let r = Math.random() * total;
                for (const s of symbols) {
                        if (r < s.weight) return s.emoji;
                        r -= s.weight;
                }
                return symbols[symbols.length-1].emoji;
        }

        const reels = [document.getElementById('reel1'), document.getElementById('reel2'), document.getElementById('reel3')];
        const spinBtn = document.getElementById('spin-btn');
        const resultDiv = document.getElementById('gumball-result');
        let spinning = false;

        function spinReelsAnimation(final, duration=4500) {
                const start = Date.now();
                const interval = 80;
                let timer;
                function animate() {
                        const elapsed = Date.now() - start;
                        if (elapsed < duration - 400) {
                                reels.forEach(r => r.innerText = weightedRandomSymbol());
                                timer = setTimeout(animate, interval);
                        } else {
                                let steps = [0, 200, 400];
                                reels.forEach((r, i) => {
                                        setTimeout(() => { r.innerText = final[i]; }, steps[i]);
                                });
                                setTimeout(() => {
                                        spinning = false;
                                        checkResult(final);
                                }, Math.max(...steps) + 400);
                        }
                }
                animate();
        }

        function checkResult(final) {
                if (final[0] === final[1] && final[1] === final[2]) {
                        switch(final[0]) {
                                case "7Ô∏è‚É£":
                                        resultDiv.innerHTML = "üéâ JACKPOT! <b>Confetti!</b> <span style='font-size:2rem;'>üéäüéäüéä</span>";
                                        confetti();
                                        break;
                                case "ü§ë":
                                        money += 100;
                                        updateMoneyDisplay();
                                        saveGame();
                                        resultDiv.innerHTML = "üí∞ MONEY! +$100! <span style='font-size:2rem;'>ü§ëü§ëü§ë</span>";
                                        moneyConfetti();
                                        break;
                                case "?":
                                        resultDiv.innerHTML = "‚ùì Mystery! The colors are changing!";
                                        randomizeColors();
                                        break;
                                case "üçû":
                                        resultDiv.innerHTML = "üçû BREAD! You got a loaf! <span style='font-size:2rem;'>üçû</span>";
                                        break;
                                case "üç¨":
                                        resultDiv.innerHTML = "üç¨ Sweet! You got candy!";
                                        break;
                                case "üçé":
                                        resultDiv.innerHTML = "üçé Apple! Healthy choice!";
                                        break;
                                default:
                                        resultDiv.innerHTML = "You got something!";
                        }
                } else {
                        resultDiv.innerHTML = "Try again!";
                }
        }

        spinBtn.onclick = function() {
                if (spinning) return;
                spinning = true;
                resultDiv.innerHTML = "";
                const final = [weightedRandomSymbol(), weightedRandomSymbol(), weightedRandomSymbol()];
                spinReelsAnimation(final, 4000 + Math.random()*2000);
        };

        function confetti() {
                for(let i=0;i<30;i++) {
                        let c = document.createElement('div');
                        c.innerText = "üéä";
                        c.style.position = 'fixed';
                        c.style.left = (10 + Math.random()*80) + '%';
                        c.style.top = '-40px';
                        c.style.fontSize = (1.5 + Math.random()) + 'rem';
                        c.style.pointerEvents = 'none';
                        c.style.zIndex = 9999;
                        document.body.appendChild(c);
                        setTimeout(() => {
                                c.style.transition = 'top 2.5s cubic-bezier(.2,.8,.2,1)';
                                c.style.top = (60 + Math.random()*30) + '%';
                        }, 10);
                        setTimeout(() => c.remove(), 2600);
                }
        }

        function moneyConfetti() {
                for(let i=0;i<25;i++) {
                        let c = document.createElement('div');
                        c.innerText = "üíµ";
                        c.style.position = 'fixed';
                        c.style.left = (15 + Math.random()*70) + '%';
                        c.style.top = '-40px';
                        c.style.fontSize = (1.3 + Math.random()) + 'rem';
                        c.style.pointerEvents = 'none';
                        c.style.zIndex = 9999;
                        document.body.appendChild(c);
                        setTimeout(() => {
                                c.style.transition = 'top 2.2s cubic-bezier(.2,.8,.2,1)';
                                c.style.top = (60 + Math.random()*30) + '%';
                        }, 10);
                        setTimeout(() => c.remove(), 2300);
                }
        }

        // Toggle gambling machine visibility
        document.getElementById('toggle-machine').onclick = function() {
                const machine = document.getElementById('gumball-machine');
                const reelsContainer = document.getElementById('reels');
                const spinButton = document.getElementById('spin-btn');
                const resultDisplay = document.getElementById('gumball-result');
                
                if (reelsContainer.style.display === 'none') {
                        reelsContainer.style.display = 'flex';
                        spinButton.style.display = 'block';
                        resultDisplay.style.display = 'block';
                } else {
                        reelsContainer.style.display = 'none';
                        spinButton.style.display = 'none';
                        resultDisplay.style.display = 'none';
                }
        };

        function randomizeColors() {
                const c1 = `#${Math.floor(Math.random()*0xFFFFFF).toString(16).padStart(6,'0')}`;
                const c2 = `#${Math.floor(Math.random()*0xFFFFFF).toString(16).padStart(6,'0')}`;
                document.body.style.background = `linear-gradient(135deg, ${c1}, ${c2})`;
                setTimeout(() => {
                        document.body.style.background = '';
                }, 4000);
        }

        document.getElementById('dollar-btn').onclick = function() {
                money += clickValue;
                updateMoneyDisplay();
                saveGame();
                
                let d = document.createElement('div');
                d.innerHTML = `<span style='font-size:2.5rem;'>üí∏üí∏üí∏</span><br><b>+${clickValue}!</b><br>Total: ${money}`;
                d.style.position = 'fixed';
                d.style.top = '80px';
                d.style.right = '40px';
                d.style.background = '#fff';
                d.style.color = '#222';
                d.style.padding = '18px 30px';
                d.style.borderRadius = '18px';
                d.style.boxShadow = '0 2px 12px #0004';
                d.style.zIndex = 9999;
                document.body.appendChild(d);
                
                if (upgrades.confettiClick.bought && upgrades.confettiClick.active) {
                    confetti();
                }
                
                setTimeout(()=>d.remove(), 2200);
        };

        const jokes = [
            "Why did the fridge apply for a job? It wanted to chill at work!",
            "What do you call a broken fridge? A cool-less wonder.",
            "Why don‚Äôt fridges ever get lonely? Because they‚Äôre always chilling with friends!",
            "What did the fridge say to the hungry kid? \"Broke ahh!\"",
            "What to do when the Fridge runs away? Catch it!",
            "It's a Knoc Knoc joke, you start!"
        ];
        document.getElementById("joke").innerText = jokes[Math.floor(Math.random() * jokes.length)];
    </script>
</body>
</html>
