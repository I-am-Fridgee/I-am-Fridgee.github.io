<!DOCTYPE html>
<html>
<head>
  <title>Open Any File</title>
</head>
<body>
  <h2>Open Any File</h2>
  
  <!-- File input -->
  <input type="file" id="fileInput">
  
  <!-- Drag and drop zone -->
  <div id="dropZone" style="margin-top:20px; width:300px; height:100px; border:2px dashed #444; text-align:center; line-height:100px;">
    Drag & Drop File Here
  </div>

  <pre id="output"></pre>

  <script>
    const fileInput = document.getElementById('fileInput');
    const dropZone = document.getElementById('dropZone');
    const output = document.getElementById('output');

    // Function to read file
    function readFile(file) {
      const reader = new FileReader();

      // if it's text, read as text. if not, read as binary
      if (file.type.startsWith("text") || file.name.endsWith(".json")) {
        reader.readAsText(file);
      } else {
        reader.readAsArrayBuffer(file);
      }

      reader.onload = function(event) {
        output.textContent = event.target.result;
      };

      reader.onerror = function() {
        output.textContent = "Error reading file.";
      };
    }

    // File input
    fileInput.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) readFile(file);
    });

    // Drag & drop
    dropZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropZone.style.background = "#eee";
    });

    dropZone.addEventListener('dragleave', () => {
      dropZone.style.background = "";
    });

    dropZone.addEventListener('drop', (e) => {
      e.preventDefault();
      dropZone.style.background = "";
      const file = e.dataTransfer.files[0];
      if (file) readFile(file);
    });
  </script>
</body>
</html>
