function _R(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function NE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DE={exports:{}},gh={},ME={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),bR=Symbol.for("react.portal"),ER=Symbol.for("react.fragment"),TR=Symbol.for("react.strict_mode"),SR=Symbol.for("react.profiler"),CR=Symbol.for("react.provider"),kR=Symbol.for("react.context"),AR=Symbol.for("react.forward_ref"),IR=Symbol.for("react.suspense"),PR=Symbol.for("react.memo"),RR=Symbol.for("react.lazy"),sw=Symbol.iterator;function NR(t){return t===null||typeof t!="object"?null:(t=sw&&t[sw]||t["@@iterator"],typeof t=="function"?t:null)}var jE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VE=Object.assign,OE={};function pa(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||jE}pa.prototype.isReactComponent={};pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LE(){}LE.prototype=pa.prototype;function Mg(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||jE}var jg=Mg.prototype=new LE;jg.constructor=Mg;VE(jg,pa.prototype);jg.isPureReactComponent=!0;var iw=Array.isArray,FE=Object.prototype.hasOwnProperty,Vg={current:null},BE={key:!0,ref:!0,__self:!0,__source:!0};function UE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)FE.call(e,r)&&!BE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:sc,type:t,key:i,ref:o,props:s,_owner:Vg.current}}function DR(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Og(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function MR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ow=/\/+/g;function Nf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MR(""+t.key):e.toString(36)}function Lu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sc:case bR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Nf(o,0):r,iw(s)?(n="",t!=null&&(n=t.replace(ow,"$&/")+"/"),Lu(s,e,n,"",function(c){return c})):s!=null&&(Og(s)&&(s=DR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ow,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",iw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Nf(i,a);o+=Lu(i,e,n,l,s)}else if(l=NR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Nf(i,a++),o+=Lu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zc(t,e,n){if(t==null)return t;var r=[],s=0;return Lu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function jR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},Fu={transition:null},VR={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Vg};function $E(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!Og(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=pa;Re.Fragment=ER;Re.Profiler=SR;Re.PureComponent=Mg;Re.StrictMode=TR;Re.Suspense=IR;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VR;Re.act=$E;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Vg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)FE.call(e,l)&&!BE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sc,type:t.type,key:s,ref:i,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:kR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CR,_context:t},t.Consumer=t};Re.createElement=UE;Re.createFactory=function(t){var e=UE.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:AR,render:t}};Re.isValidElement=Og;Re.lazy=function(t){return{$$typeof:RR,_payload:{_status:-1,_result:t},_init:jR}};Re.memo=function(t,e){return{$$typeof:PR,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Fu.transition;Fu.transition={};try{t()}finally{Fu.transition=e}};Re.unstable_act=$E;Re.useCallback=function(t,e){return ln.current.useCallback(t,e)};Re.useContext=function(t){return ln.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};Re.useEffect=function(t,e){return ln.current.useEffect(t,e)};Re.useId=function(){return ln.current.useId()};Re.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return ln.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};Re.useRef=function(t){return ln.current.useRef(t)};Re.useState=function(t){return ln.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return ln.current.useTransition()};Re.version="18.3.1";ME.exports=Re;var w=ME.exports;const Y=NE(w),yh=_R({__proto__:null,default:Y},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR=w,LR=Symbol.for("react.element"),FR=Symbol.for("react.fragment"),BR=Object.prototype.hasOwnProperty,UR=OR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$R={key:!0,ref:!0,__self:!0,__source:!0};function zE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BR.call(e,r)&&!$R.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:LR,type:t,key:i,ref:o,props:s,_owner:UR.current}}gh.Fragment=FR;gh.jsx=zE;gh.jsxs=zE;DE.exports=gh;var f=DE.exports,Wp={},WE={exports:{}},Rn={},HE={exports:{}},GE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,K){var X=O.length;O.push(K);e:for(;0<X;){var se=X-1>>>1,ve=O[se];if(0<s(ve,K))O[se]=K,O[X]=ve,X=se;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var K=O[0],X=O.pop();if(X!==K){O[0]=X;e:for(var se=0,ve=O.length,j=ve>>>1;se<j;){var $=2*(se+1)-1,G=O[$],J=$+1,B=O[J];if(0>s(G,X))J<ve&&0>s(B,G)?(O[se]=B,O[J]=X,se=J):(O[se]=G,O[$]=X,se=$);else if(J<ve&&0>s(B,X))O[se]=B,O[J]=X,se=J;else break e}}return K}function s(O,K){var X=O.sortIndex-K.sortIndex;return X!==0?X:O.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,g=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(O){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=O)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function k(O){if(y=!1,T(O),!v)if(n(l)!==null)v=!0,W(N);else{var K=n(c);K!==null&&te(k,K.startTime-O)}}function N(O,K){v=!1,y&&(y=!1,x(_),_=-1),g=!0;var X=p;try{for(T(K),d=n(l);d!==null&&(!(d.expirationTime>K)||O&&!M());){var se=d.callback;if(typeof se=="function"){d.callback=null,p=d.priorityLevel;var ve=se(d.expirationTime<=K);K=t.unstable_now(),typeof ve=="function"?d.callback=ve:d===n(l)&&r(l),T(K)}else r(l);d=n(l)}if(d!==null)var j=!0;else{var $=n(c);$!==null&&te(k,$.startTime-K),j=!1}return j}finally{d=null,p=X,g=!1}}var V=!1,C=null,_=-1,A=5,P=-1;function M(){return!(t.unstable_now()-P<A)}function D(){if(C!==null){var O=t.unstable_now();P=O;var K=!0;try{K=C(!0,O)}finally{K?I():(V=!1,C=null)}}else V=!1}var I;if(typeof E=="function")I=function(){E(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ee=H.port2;H.port1.onmessage=D,I=function(){ee.postMessage(null)}}else I=function(){S(D,0)};function W(O){C=O,V||(V=!0,I())}function te(O,K){_=S(function(){O(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,W(N))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var X=p;p=K;try{return O()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,K){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=p;p=O;try{return K()}finally{p=X}},t.unstable_scheduleCallback=function(O,K,X){var se=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?se+X:se):X=se,O){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=X+ve,O={id:h++,callback:K,priorityLevel:O,startTime:X,expirationTime:ve,sortIndex:-1},X>se?(O.sortIndex=X,e(c,O),n(l)===null&&O===n(c)&&(y?(x(_),_=-1):y=!0,te(k,X-se))):(O.sortIndex=ve,e(l,O),v||g||(v=!0,W(N))),O},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(O){var K=p;return function(){var X=p;p=K;try{return O.apply(this,arguments)}finally{p=X}}}})(GE);HE.exports=GE;var zR=HE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR=w,In=zR;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qE=new Set,kl={};function qi(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(kl[t]=e,t=0;t<e.length;t++)qE.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hp=Object.prototype.hasOwnProperty,HR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aw={},lw={};function GR(t){return Hp.call(lw,t)?!0:Hp.call(aw,t)?!1:HR.test(t)?lw[t]=!0:(aw[t]=!0,!1)}function qR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KR(t,e,n,r){if(e===null||typeof e>"u"||qR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lg=/[\-:]([a-z])/g;function Fg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lg,Fg);$t[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lg,Fg);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lg,Fg);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bg(t,e,n,r){var s=$t.hasOwnProperty(e)?$t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KR(e,n,s,r)&&(n=null),r||s===null?GR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ns=WR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),Ug=Symbol.for("react.strict_mode"),Gp=Symbol.for("react.profiler"),KE=Symbol.for("react.provider"),QE=Symbol.for("react.context"),$g=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),Kp=Symbol.for("react.suspense_list"),zg=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),YE=Symbol.for("react.offscreen"),cw=Symbol.iterator;function La(t){return t===null||typeof t!="object"?null:(t=cw&&t[cw]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Df;function Ya(t){if(Df===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Df=e&&e[1]||""}return`
`+Df+t}var Mf=!1;function jf(t,e){if(!t||Mf)return"";Mf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ya(t):""}function QR(t){switch(t.tag){case 5:return Ya(t.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 2:case 15:return t=jf(t.type,!1),t;case 11:return t=jf(t.type.render,!1),t;case 1:return t=jf(t.type,!0),t;default:return""}}function Qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case go:return"Fragment";case mo:return"Portal";case Gp:return"Profiler";case Ug:return"StrictMode";case qp:return"Suspense";case Kp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QE:return(t.displayName||"Context")+".Consumer";case KE:return(t._context.displayName||"Context")+".Provider";case $g:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zg:return e=t.displayName||null,e!==null?e:Qp(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return Qp(t(e))}catch{}}return null}function YR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qp(e);case 8:return e===Ug?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XR(t){var e=XE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tu(t){t._valueTracker||(t._valueTracker=XR(t))}function JE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yp(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZE(t,e){e=e.checked,e!=null&&Bg(t,"checked",e,!1)}function Xp(t,e){ZE(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jp(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jp(t,e,n){(e!=="number"||dd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xa=Array.isArray;function No(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Xa(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function eT(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function em(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nu,nT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nu=nu||document.createElement("div"),nu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JR=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(t){JR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ll[e]=ll[t]})});function rT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ll.hasOwnProperty(t)&&ll[t]?(""+e).trim():e+"px"}function sT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ZR=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tm(t,e){if(e){if(ZR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rm=null;function Wg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sm=null,Do=null,Mo=null;function pw(t){if(t=ac(t)){if(typeof sm!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=bh(e),sm(t.stateNode,t.type,e))}}function iT(t){Do?Mo?Mo.push(t):Mo=[t]:Do=t}function oT(){if(Do){var t=Do,e=Mo;if(Mo=Do=null,pw(t),e)for(t=0;t<e.length;t++)pw(e[t])}}function aT(t,e){return t(e)}function lT(){}var Vf=!1;function cT(t,e,n){if(Vf)return t(e,n);Vf=!0;try{return aT(t,e,n)}finally{Vf=!1,(Do!==null||Mo!==null)&&(lT(),oT())}}function Il(t,e){var n=t.stateNode;if(n===null)return null;var r=bh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var im=!1;if(Wr)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){im=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{im=!1}function eN(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var cl=!1,hd=null,fd=!1,om=null,tN={onError:function(t){cl=!0,hd=t}};function nN(t,e,n,r,s,i,o,a,l){cl=!1,hd=null,eN.apply(tN,arguments)}function rN(t,e,n,r,s,i,o,a,l){if(nN.apply(this,arguments),cl){if(cl){var c=hd;cl=!1,hd=null}else throw Error(Q(198));fd||(fd=!0,om=c)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mw(t){if(Ki(t)!==t)throw Error(Q(188))}function sN(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return mw(s),t;if(i===r)return mw(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function dT(t){return t=sN(t),t!==null?hT(t):null}function hT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hT(t);if(e!==null)return e;t=t.sibling}return null}var fT=In.unstable_scheduleCallback,gw=In.unstable_cancelCallback,iN=In.unstable_shouldYield,oN=In.unstable_requestPaint,gt=In.unstable_now,aN=In.unstable_getCurrentPriorityLevel,Hg=In.unstable_ImmediatePriority,pT=In.unstable_UserBlockingPriority,pd=In.unstable_NormalPriority,lN=In.unstable_LowPriority,mT=In.unstable_IdlePriority,vh=null,pr=null;function cN(t){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(vh,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:hN,uN=Math.log,dN=Math.LN2;function hN(t){return t>>>=0,t===0?32:31-(uN(t)/dN|0)|0}var ru=64,su=4194304;function Ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ja(a):(i&=o,i!==0&&(r=Ja(i)))}else o=n&~s,o!==0?r=Ja(o):i!==0&&(r=Ja(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),s=1<<n,r|=t[n],e&=~s;return r}function fN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=fN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function am(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gT(){var t=ru;return ru<<=1,!(ru&4194240)&&(ru=64),t}function Of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function mN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Gg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var $e=0;function yT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vT,qg,wT,xT,_T,lm=!1,iu=[],As=null,Is=null,Ps=null,Pl=new Map,Rl=new Map,ys=[],gN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yw(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(e.pointerId)}}function Ba(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ac(e),e!==null&&qg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yN(t,e,n,r,s){switch(e){case"focusin":return As=Ba(As,t,e,n,r,s),!0;case"dragenter":return Is=Ba(Is,t,e,n,r,s),!0;case"mouseover":return Ps=Ba(Ps,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pl.set(i,Ba(Pl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rl.set(i,Ba(Rl.get(i)||null,t,e,n,r,s)),!0}return!1}function bT(t){var e=Ei(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=uT(n),e!==null){t.blockedOn=e,_T(t.priority,function(){wT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rm=r,n.target.dispatchEvent(r),rm=null}else return e=ac(n),e!==null&&qg(e),t.blockedOn=n,!1;e.shift()}return!0}function vw(t,e,n){Bu(t)&&n.delete(e)}function vN(){lm=!1,As!==null&&Bu(As)&&(As=null),Is!==null&&Bu(Is)&&(Is=null),Ps!==null&&Bu(Ps)&&(Ps=null),Pl.forEach(vw),Rl.forEach(vw)}function Ua(t,e){t.blockedOn===e&&(t.blockedOn=null,lm||(lm=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,vN)))}function Nl(t){function e(s){return Ua(s,t)}if(0<iu.length){Ua(iu[0],t);for(var n=1;n<iu.length;n++){var r=iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Ua(As,t),Is!==null&&Ua(Is,t),Ps!==null&&Ua(Ps,t),Pl.forEach(e),Rl.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)bT(n),n.blockedOn===null&&ys.shift()}var jo=ns.ReactCurrentBatchConfig,gd=!0;function wN(t,e,n,r){var s=$e,i=jo.transition;jo.transition=null;try{$e=1,Kg(t,e,n,r)}finally{$e=s,jo.transition=i}}function xN(t,e,n,r){var s=$e,i=jo.transition;jo.transition=null;try{$e=4,Kg(t,e,n,r)}finally{$e=s,jo.transition=i}}function Kg(t,e,n,r){if(gd){var s=cm(t,e,n,r);if(s===null)qf(t,e,r,yd,n),yw(t,r);else if(yN(s,t,e,n,r))r.stopPropagation();else if(yw(t,r),e&4&&-1<gN.indexOf(t)){for(;s!==null;){var i=ac(s);if(i!==null&&vT(i),i=cm(t,e,n,r),i===null&&qf(t,e,r,yd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qf(t,e,r,null,n)}}var yd=null;function cm(t,e,n,r){if(yd=null,t=Wg(r),t=Ei(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yd=t,null}function ET(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aN()){case Hg:return 1;case pT:return 4;case pd:case lN:return 16;case mT:return 536870912;default:return 16}default:return 16}}var Ss=null,Qg=null,Uu=null;function TT(){if(Uu)return Uu;var t,e=Qg,n=e.length,r,s="value"in Ss?Ss.value:Ss.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Uu=s.slice(t,1<r?1-r:void 0)}function $u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ou(){return!0}function ww(){return!1}function Nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ou:ww,this.isPropagationStopped=ww,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),e}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yg=Nn(ma),oc=ot({},ma,{view:0,detail:0}),_N=Nn(oc),Lf,Ff,$a,wh=ot({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$a&&($a&&t.type==="mousemove"?(Lf=t.screenX-$a.screenX,Ff=t.screenY-$a.screenY):Ff=Lf=0,$a=t),Lf)},movementY:function(t){return"movementY"in t?t.movementY:Ff}}),xw=Nn(wh),bN=ot({},wh,{dataTransfer:0}),EN=Nn(bN),TN=ot({},oc,{relatedTarget:0}),Bf=Nn(TN),SN=ot({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),CN=Nn(SN),kN=ot({},ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AN=Nn(kN),IN=ot({},ma,{data:0}),_w=Nn(IN),PN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NN[t])?!!e[t]:!1}function Xg(){return DN}var MN=ot({},oc,{key:function(t){if(t.key){var e=PN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(t){return t.type==="keypress"?$u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jN=Nn(MN),VN=ot({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bw=Nn(VN),ON=ot({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),LN=Nn(ON),FN=ot({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),BN=Nn(FN),UN=ot({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$N=Nn(UN),zN=[9,13,27,32],Jg=Wr&&"CompositionEvent"in window,ul=null;Wr&&"documentMode"in document&&(ul=document.documentMode);var WN=Wr&&"TextEvent"in window&&!ul,ST=Wr&&(!Jg||ul&&8<ul&&11>=ul),Ew=" ",Tw=!1;function CT(t,e){switch(t){case"keyup":return zN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function HN(t,e){switch(t){case"compositionend":return kT(e);case"keypress":return e.which!==32?null:(Tw=!0,Ew);case"textInput":return t=e.data,t===Ew&&Tw?null:t;default:return null}}function GN(t,e){if(yo)return t==="compositionend"||!Jg&&CT(t,e)?(t=TT(),Uu=Qg=Ss=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ST&&e.locale!=="ko"?null:e.data;default:return null}}var qN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qN[t.type]:e==="textarea"}function AT(t,e,n,r){iT(r),e=vd(e,"onChange"),0<e.length&&(n=new Yg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dl=null,Dl=null;function KN(t){FT(t,0)}function xh(t){var e=xo(t);if(JE(e))return t}function QN(t,e){if(t==="change")return e}var IT=!1;if(Wr){var Uf;if(Wr){var $f="oninput"in document;if(!$f){var Cw=document.createElement("div");Cw.setAttribute("oninput","return;"),$f=typeof Cw.oninput=="function"}Uf=$f}else Uf=!1;IT=Uf&&(!document.documentMode||9<document.documentMode)}function kw(){dl&&(dl.detachEvent("onpropertychange",PT),Dl=dl=null)}function PT(t){if(t.propertyName==="value"&&xh(Dl)){var e=[];AT(e,Dl,t,Wg(t)),cT(KN,e)}}function YN(t,e,n){t==="focusin"?(kw(),dl=e,Dl=n,dl.attachEvent("onpropertychange",PT)):t==="focusout"&&kw()}function XN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xh(Dl)}function JN(t,e){if(t==="click")return xh(e)}function ZN(t,e){if(t==="input"||t==="change")return xh(e)}function e2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:e2;function Ml(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hp.call(e,s)||!er(t[s],e[s]))return!1}return!0}function Aw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iw(t,e){var n=Aw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Aw(n)}}function RT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NT(){for(var t=window,e=dd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dd(t.document)}return e}function Zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function t2(t){var e=NT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RT(n.ownerDocument.documentElement,n)){if(r!==null&&Zg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Iw(n,i);var o=Iw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var n2=Wr&&"documentMode"in document&&11>=document.documentMode,vo=null,um=null,hl=null,dm=!1;function Pw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dm||vo==null||vo!==dd(r)||(r=vo,"selectionStart"in r&&Zg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hl&&Ml(hl,r)||(hl=r,r=vd(um,"onSelect"),0<r.length&&(e=new Yg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vo)))}function au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wo={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},zf={},DT={};Wr&&(DT=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function _h(t){if(zf[t])return zf[t];if(!wo[t])return t;var e=wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DT)return zf[t]=e[n];return t}var MT=_h("animationend"),jT=_h("animationiteration"),VT=_h("animationstart"),OT=_h("transitionend"),LT=new Map,Rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){LT.set(t,e),qi(e,[t])}for(var Wf=0;Wf<Rw.length;Wf++){var Hf=Rw[Wf],r2=Hf.toLowerCase(),s2=Hf[0].toUpperCase()+Hf.slice(1);Xs(r2,"on"+s2)}Xs(MT,"onAnimationEnd");Xs(jT,"onAnimationIteration");Xs(VT,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(OT,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function Nw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rN(r,e,void 0,t),t.currentTarget=null}function FT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Nw(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Nw(s,a,c),i=l}}}if(fd)throw t=om,fd=!1,om=null,t}function Je(t,e){var n=e[gm];n===void 0&&(n=e[gm]=new Set);var r=t+"__bubble";n.has(r)||(BT(e,t,2,!1),n.add(r))}function Gf(t,e,n){var r=0;e&&(r|=4),BT(n,t,r,e)}var lu="_reactListening"+Math.random().toString(36).slice(2);function jl(t){if(!t[lu]){t[lu]=!0,qE.forEach(function(n){n!=="selectionchange"&&(i2.has(n)||Gf(n,!1,t),Gf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lu]||(e[lu]=!0,Gf("selectionchange",!1,e))}}function BT(t,e,n,r){switch(ET(e)){case 1:var s=wN;break;case 4:s=xN;break;default:s=Kg}n=s.bind(null,e,n,t),s=void 0,!im||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ei(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}cT(function(){var c=i,h=Wg(n),d=[];e:{var p=LT.get(t);if(p!==void 0){var g=Yg,v=t;switch(t){case"keypress":if($u(n)===0)break e;case"keydown":case"keyup":g=jN;break;case"focusin":v="focus",g=Bf;break;case"focusout":v="blur",g=Bf;break;case"beforeblur":case"afterblur":g=Bf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=EN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=LN;break;case MT:case jT:case VT:g=CN;break;case OT:g=BN;break;case"scroll":g=_N;break;case"wheel":g=$N;break;case"copy":case"cut":case"paste":g=AN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=bw}var y=(e&4)!==0,S=!y&&t==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var E=c,T;E!==null;){T=E;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,x!==null&&(k=Il(E,x),k!=null&&y.push(Vl(E,k,T)))),S)break;E=E.return}0<y.length&&(p=new g(p,v,null,n,h),d.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==rm&&(v=n.relatedTarget||n.fromElement)&&(Ei(v)||v[Hr]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Ei(v):null,v!==null&&(S=Ki(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=xw,k="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=bw,k="onPointerLeave",x="onPointerEnter",E="pointer"),S=g==null?p:xo(g),T=v==null?p:xo(v),p=new y(k,E+"leave",g,n,h),p.target=S,p.relatedTarget=T,k=null,Ei(h)===c&&(y=new y(x,E+"enter",v,n,h),y.target=T,y.relatedTarget=S,k=y),S=k,g&&v)t:{for(y=g,x=v,E=0,T=y;T;T=ao(T))E++;for(T=0,k=x;k;k=ao(k))T++;for(;0<E-T;)y=ao(y),E--;for(;0<T-E;)x=ao(x),T--;for(;E--;){if(y===x||x!==null&&y===x.alternate)break t;y=ao(y),x=ao(x)}y=null}else y=null;g!==null&&Dw(d,p,g,y,!1),v!==null&&S!==null&&Dw(d,S,v,y,!0)}}e:{if(p=c?xo(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=QN;else if(Sw(p))if(IT)N=ZN;else{N=XN;var V=YN}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=JN);if(N&&(N=N(t,c))){AT(d,N,n,h);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&Jp(p,"number",p.value)}switch(V=c?xo(c):window,t){case"focusin":(Sw(V)||V.contentEditable==="true")&&(vo=V,um=c,hl=null);break;case"focusout":hl=um=vo=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,Pw(d,n,h);break;case"selectionchange":if(n2)break;case"keydown":case"keyup":Pw(d,n,h)}var C;if(Jg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else yo?CT(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ST&&n.locale!=="ko"&&(yo||_!=="onCompositionStart"?_==="onCompositionEnd"&&yo&&(C=TT()):(Ss=h,Qg="value"in Ss?Ss.value:Ss.textContent,yo=!0)),V=vd(c,_),0<V.length&&(_=new _w(_,t,null,n,h),d.push({event:_,listeners:V}),C?_.data=C:(C=kT(n),C!==null&&(_.data=C)))),(C=WN?HN(t,n):GN(t,n))&&(c=vd(c,"onBeforeInput"),0<c.length&&(h=new _w("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=C))}FT(d,e)})}function Vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Il(t,n),i!=null&&r.unshift(Vl(t,i,s)),i=Il(t,e),i!=null&&r.push(Vl(t,i,s))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Il(n,i),l!=null&&o.unshift(Vl(n,l,a))):s||(l=Il(n,i),l!=null&&o.push(Vl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var o2=/\r\n?/g,a2=/\u0000|\uFFFD/g;function Mw(t){return(typeof t=="string"?t:""+t).replace(o2,`
`).replace(a2,"")}function cu(t,e,n){if(e=Mw(e),Mw(t)!==e&&n)throw Error(Q(425))}function wd(){}var hm=null,fm=null;function pm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mm=typeof setTimeout=="function"?setTimeout:void 0,l2=typeof clearTimeout=="function"?clearTimeout:void 0,jw=typeof Promise=="function"?Promise:void 0,c2=typeof queueMicrotask=="function"?queueMicrotask:typeof jw<"u"?function(t){return jw.resolve(null).then(t).catch(u2)}:mm;function u2(t){setTimeout(function(){throw t})}function Kf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Nl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nl(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ga=Math.random().toString(36).slice(2),ur="__reactFiber$"+ga,Ol="__reactProps$"+ga,Hr="__reactContainer$"+ga,gm="__reactEvents$"+ga,d2="__reactListeners$"+ga,h2="__reactHandles$"+ga;function Ei(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vw(t);t!==null;){if(n=t[ur])return n;t=Vw(t)}return e}t=n,n=t.parentNode}return null}function ac(t){return t=t[ur]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function bh(t){return t[Ol]||null}var ym=[],_o=-1;function Js(t){return{current:t}}function et(t){0>_o||(t.current=ym[_o],ym[_o]=null,_o--)}function Ke(t,e){_o++,ym[_o]=t.current,t.current=e}var $s={},tn=Js($s),yn=Js(!1),Ni=$s;function Go(t,e){var n=t.type.contextTypes;if(!n)return $s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function vn(t){return t=t.childContextTypes,t!=null}function xd(){et(yn),et(tn)}function Ow(t,e,n){if(tn.current!==$s)throw Error(Q(168));Ke(tn,e),Ke(yn,n)}function UT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,YR(t)||"Unknown",s));return ot({},n,r)}function _d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$s,Ni=tn.current,Ke(tn,t),Ke(yn,yn.current),!0}function Lw(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=UT(t,e,Ni),r.__reactInternalMemoizedMergedChildContext=t,et(yn),et(tn),Ke(tn,t)):et(yn),Ke(yn,n)}var Nr=null,Eh=!1,Qf=!1;function $T(t){Nr===null?Nr=[t]:Nr.push(t)}function f2(t){Eh=!0,$T(t)}function Zs(){if(!Qf&&Nr!==null){Qf=!0;var t=0,e=$e;try{var n=Nr;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,Eh=!1}catch(s){throw Nr!==null&&(Nr=Nr.slice(t+1)),fT(Hg,Zs),s}finally{$e=e,Qf=!1}}return null}var bo=[],Eo=0,bd=null,Ed=0,Vn=[],On=0,Di=null,Dr=1,Mr="";function yi(t,e){bo[Eo++]=Ed,bo[Eo++]=bd,bd=t,Ed=e}function zT(t,e,n){Vn[On++]=Dr,Vn[On++]=Mr,Vn[On++]=Di,Di=t;var r=Dr;t=Mr;var s=32-Xn(r)-1;r&=~(1<<s),n+=1;var i=32-Xn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Dr=1<<32-Xn(e)+s|n<<s|r,Mr=i+t}else Dr=1<<i|n<<s|r,Mr=t}function ey(t){t.return!==null&&(yi(t,1),zT(t,1,0))}function ty(t){for(;t===bd;)bd=bo[--Eo],bo[Eo]=null,Ed=bo[--Eo],bo[Eo]=null;for(;t===Di;)Di=Vn[--On],Vn[On]=null,Mr=Vn[--On],Vn[On]=null,Dr=Vn[--On],Vn[On]=null}var kn=null,Sn=null,tt=!1,Qn=null;function WT(t,e){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,Sn=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Di!==null?{id:Dr,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,Sn=null,!0):!1;default:return!1}}function vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wm(t){if(tt){var e=Sn;if(e){var n=e;if(!Fw(t,e)){if(vm(t))throw Error(Q(418));e=Rs(n.nextSibling);var r=kn;e&&Fw(t,e)?WT(r,n):(t.flags=t.flags&-4097|2,tt=!1,kn=t)}}else{if(vm(t))throw Error(Q(418));t.flags=t.flags&-4097|2,tt=!1,kn=t}}}function Bw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function uu(t){if(t!==kn)return!1;if(!tt)return Bw(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pm(t.type,t.memoizedProps)),e&&(e=Sn)){if(vm(t))throw HT(),Error(Q(418));for(;e;)WT(t,e),e=Rs(e.nextSibling)}if(Bw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=kn?Rs(t.stateNode.nextSibling):null;return!0}function HT(){for(var t=Sn;t;)t=Rs(t.nextSibling)}function qo(){Sn=kn=null,tt=!1}function ny(t){Qn===null?Qn=[t]:Qn.push(t)}var p2=ns.ReactCurrentBatchConfig;function za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function du(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uw(t){var e=t._init;return e(t._payload)}function GT(t){function e(x,E){if(t){var T=x.deletions;T===null?(x.deletions=[E],x.flags|=16):T.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function s(x,E){return x=js(x,E),x.index=0,x.sibling=null,x}function i(x,E,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<E?(x.flags|=2,E):T):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,E,T,k){return E===null||E.tag!==6?(E=np(T,x.mode,k),E.return=x,E):(E=s(E,T),E.return=x,E)}function l(x,E,T,k){var N=T.type;return N===go?h(x,E,T.props.children,k,T.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ps&&Uw(N)===E.type)?(k=s(E,T.props),k.ref=za(x,E,T),k.return=x,k):(k=Qu(T.type,T.key,T.props,null,x.mode,k),k.ref=za(x,E,T),k.return=x,k)}function c(x,E,T,k){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=rp(T,x.mode,k),E.return=x,E):(E=s(E,T.children||[]),E.return=x,E)}function h(x,E,T,k,N){return E===null||E.tag!==7?(E=Ii(T,x.mode,k,N),E.return=x,E):(E=s(E,T),E.return=x,E)}function d(x,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=np(""+E,x.mode,T),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case eu:return T=Qu(E.type,E.key,E.props,null,x.mode,T),T.ref=za(x,null,E),T.return=x,T;case mo:return E=rp(E,x.mode,T),E.return=x,E;case ps:var k=E._init;return d(x,k(E._payload),T)}if(Xa(E)||La(E))return E=Ii(E,x.mode,T,null),E.return=x,E;du(x,E)}return null}function p(x,E,T,k){var N=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return N!==null?null:a(x,E,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case eu:return T.key===N?l(x,E,T,k):null;case mo:return T.key===N?c(x,E,T,k):null;case ps:return N=T._init,p(x,E,N(T._payload),k)}if(Xa(T)||La(T))return N!==null?null:h(x,E,T,k,null);du(x,T)}return null}function g(x,E,T,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(T)||null,a(E,x,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case eu:return x=x.get(k.key===null?T:k.key)||null,l(E,x,k,N);case mo:return x=x.get(k.key===null?T:k.key)||null,c(E,x,k,N);case ps:var V=k._init;return g(x,E,T,V(k._payload),N)}if(Xa(k)||La(k))return x=x.get(T)||null,h(E,x,k,N,null);du(E,k)}return null}function v(x,E,T,k){for(var N=null,V=null,C=E,_=E=0,A=null;C!==null&&_<T.length;_++){C.index>_?(A=C,C=null):A=C.sibling;var P=p(x,C,T[_],k);if(P===null){C===null&&(C=A);break}t&&C&&P.alternate===null&&e(x,C),E=i(P,E,_),V===null?N=P:V.sibling=P,V=P,C=A}if(_===T.length)return n(x,C),tt&&yi(x,_),N;if(C===null){for(;_<T.length;_++)C=d(x,T[_],k),C!==null&&(E=i(C,E,_),V===null?N=C:V.sibling=C,V=C);return tt&&yi(x,_),N}for(C=r(x,C);_<T.length;_++)A=g(C,x,_,T[_],k),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?_:A.key),E=i(A,E,_),V===null?N=A:V.sibling=A,V=A);return t&&C.forEach(function(M){return e(x,M)}),tt&&yi(x,_),N}function y(x,E,T,k){var N=La(T);if(typeof N!="function")throw Error(Q(150));if(T=N.call(T),T==null)throw Error(Q(151));for(var V=N=null,C=E,_=E=0,A=null,P=T.next();C!==null&&!P.done;_++,P=T.next()){C.index>_?(A=C,C=null):A=C.sibling;var M=p(x,C,P.value,k);if(M===null){C===null&&(C=A);break}t&&C&&M.alternate===null&&e(x,C),E=i(M,E,_),V===null?N=M:V.sibling=M,V=M,C=A}if(P.done)return n(x,C),tt&&yi(x,_),N;if(C===null){for(;!P.done;_++,P=T.next())P=d(x,P.value,k),P!==null&&(E=i(P,E,_),V===null?N=P:V.sibling=P,V=P);return tt&&yi(x,_),N}for(C=r(x,C);!P.done;_++,P=T.next())P=g(C,x,_,P.value,k),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?_:P.key),E=i(P,E,_),V===null?N=P:V.sibling=P,V=P);return t&&C.forEach(function(D){return e(x,D)}),tt&&yi(x,_),N}function S(x,E,T,k){if(typeof T=="object"&&T!==null&&T.type===go&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case eu:e:{for(var N=T.key,V=E;V!==null;){if(V.key===N){if(N=T.type,N===go){if(V.tag===7){n(x,V.sibling),E=s(V,T.props.children),E.return=x,x=E;break e}}else if(V.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ps&&Uw(N)===V.type){n(x,V.sibling),E=s(V,T.props),E.ref=za(x,V,T),E.return=x,x=E;break e}n(x,V);break}else e(x,V);V=V.sibling}T.type===go?(E=Ii(T.props.children,x.mode,k,T.key),E.return=x,x=E):(k=Qu(T.type,T.key,T.props,null,x.mode,k),k.ref=za(x,E,T),k.return=x,x=k)}return o(x);case mo:e:{for(V=T.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(x,E.sibling),E=s(E,T.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=rp(T,x.mode,k),E.return=x,x=E}return o(x);case ps:return V=T._init,S(x,E,V(T._payload),k)}if(Xa(T))return v(x,E,T,k);if(La(T))return y(x,E,T,k);du(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(x,E.sibling),E=s(E,T),E.return=x,x=E):(n(x,E),E=np(T,x.mode,k),E.return=x,x=E),o(x)):n(x,E)}return S}var Ko=GT(!0),qT=GT(!1),Td=Js(null),Sd=null,To=null,ry=null;function sy(){ry=To=Sd=null}function iy(t){var e=Td.current;et(Td),t._currentValue=e}function xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vo(t,e){Sd=t,ry=To=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(ry!==t)if(t={context:t,memoizedValue:e,next:null},To===null){if(Sd===null)throw Error(Q(308));To=t,Sd.dependencies={lanes:0,firstContext:t}}else To=To.next=t;return e}var Ti=null;function oy(t){Ti===null?Ti=[t]:Ti.push(t)}function KT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,oy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Gr(t,r)}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Gr(t,n)}return s=r.interleaved,s===null?(e.next=e,oy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Gr(t,n)}function zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gg(t,n)}}function $w(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cd(t,e,n,r){var s=t.updateQueue;ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,h=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(g,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(g,d,p):v,p==null)break e;d=ot({},d,p);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ji|=o,t.lanes=o,t.memoizedState=d}}function zw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var lc={},mr=Js(lc),Ll=Js(lc),Fl=Js(lc);function Si(t){if(t===lc)throw Error(Q(174));return t}function ly(t,e){switch(Ke(Fl,e),Ke(Ll,t),Ke(mr,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:em(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=em(e,t)}et(mr),Ke(mr,e)}function Qo(){et(mr),et(Ll),et(Fl)}function YT(t){Si(Fl.current);var e=Si(mr.current),n=em(e,t.type);e!==n&&(Ke(Ll,t),Ke(mr,n))}function cy(t){Ll.current===t&&(et(mr),et(Ll))}var rt=Js(0);function kd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yf=[];function uy(){for(var t=0;t<Yf.length;t++)Yf[t]._workInProgressVersionPrimary=null;Yf.length=0}var Wu=ns.ReactCurrentDispatcher,Xf=ns.ReactCurrentBatchConfig,Mi=0,it=null,Ct=null,Pt=null,Ad=!1,fl=!1,Bl=0,m2=0;function qt(){throw Error(Q(321))}function dy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function hy(t,e,n,r,s,i){if(Mi=i,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wu.current=t===null||t.memoizedState===null?w2:x2,t=n(r,s),fl){i=0;do{if(fl=!1,Bl=0,25<=i)throw Error(Q(301));i+=1,Pt=Ct=null,e.updateQueue=null,Wu.current=_2,t=n(r,s)}while(fl)}if(Wu.current=Id,e=Ct!==null&&Ct.next!==null,Mi=0,Pt=Ct=it=null,Ad=!1,e)throw Error(Q(300));return t}function fy(){var t=Bl!==0;return Bl=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?it.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Un(){if(Ct===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Pt===null?it.memoizedState:Pt.next;if(e!==null)Pt=e,Ct=t;else{if(t===null)throw Error(Q(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Pt===null?it.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Ul(t,e){return typeof e=="function"?e(t):e}function Jf(t){var e=Un(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((Mi&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,it.lanes|=h,ji|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,er(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,it.lanes|=i,ji|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zf(t){var e=Un(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);er(i,e.memoizedState)||(gn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function XT(){}function JT(t,e){var n=it,r=Un(),s=e(),i=!er(r.memoizedState,s);if(i&&(r.memoizedState=s,gn=!0),r=r.queue,py(tS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,$l(9,eS.bind(null,n,r,s,e),void 0,null),Rt===null)throw Error(Q(349));Mi&30||ZT(n,e,s)}return s}function ZT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eS(t,e,n,r){e.value=n,e.getSnapshot=r,nS(e)&&rS(t)}function tS(t,e,n){return n(function(){nS(e)&&rS(t)})}function nS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function rS(t){var e=Gr(t,1);e!==null&&Jn(e,t,1,-1)}function Ww(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:t},e.queue=t,t=t.dispatch=v2.bind(null,it,t),[e.memoizedState,t]}function $l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sS(){return Un().memoizedState}function Hu(t,e,n,r){var s=cr();it.flags|=t,s.memoizedState=$l(1|e,n,void 0,r===void 0?null:r)}function Th(t,e,n,r){var s=Un();r=r===void 0?null:r;var i=void 0;if(Ct!==null){var o=Ct.memoizedState;if(i=o.destroy,r!==null&&dy(r,o.deps)){s.memoizedState=$l(e,n,i,r);return}}it.flags|=t,s.memoizedState=$l(1|e,n,i,r)}function Hw(t,e){return Hu(8390656,8,t,e)}function py(t,e){return Th(2048,8,t,e)}function iS(t,e){return Th(4,2,t,e)}function oS(t,e){return Th(4,4,t,e)}function aS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lS(t,e,n){return n=n!=null?n.concat([t]):null,Th(4,4,aS.bind(null,e,t),n)}function my(){}function cS(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uS(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dS(t,e,n){return Mi&21?(er(n,e)||(n=gT(),it.lanes|=n,ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function g2(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=Xf.transition;Xf.transition={};try{t(!1),e()}finally{$e=n,Xf.transition=r}}function hS(){return Un().memoizedState}function y2(t,e,n){var r=Ms(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fS(t))pS(e,n);else if(n=KT(t,e,n,r),n!==null){var s=an();Jn(n,t,r,s),mS(n,e,r)}}function v2(t,e,n){var r=Ms(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fS(t))pS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,er(a,o)){var l=e.interleaved;l===null?(s.next=s,oy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=KT(t,e,s,r),n!==null&&(s=an(),Jn(n,t,r,s),mS(n,e,r))}}function fS(t){var e=t.alternate;return t===it||e!==null&&e===it}function pS(t,e){fl=Ad=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gg(t,n)}}var Id={readContext:Bn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},w2={readContext:Bn,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:Hw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hu(4194308,4,aS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hu(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=y2.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:Ww,useDebugValue:my,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=Ww(!1),e=t[0];return t=g2.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,s=cr();if(tt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Rt===null)throw Error(Q(349));Mi&30||ZT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Hw(tS.bind(null,r,i,t),[t]),r.flags|=2048,$l(9,eS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cr(),e=Rt.identifierPrefix;if(tt){var n=Mr,r=Dr;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=m2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x2={readContext:Bn,useCallback:cS,useContext:Bn,useEffect:py,useImperativeHandle:lS,useInsertionEffect:iS,useLayoutEffect:oS,useMemo:uS,useReducer:Jf,useRef:sS,useState:function(){return Jf(Ul)},useDebugValue:my,useDeferredValue:function(t){var e=Un();return dS(e,Ct.memoizedState,t)},useTransition:function(){var t=Jf(Ul)[0],e=Un().memoizedState;return[t,e]},useMutableSource:XT,useSyncExternalStore:JT,useId:hS,unstable_isNewReconciler:!1},_2={readContext:Bn,useCallback:cS,useContext:Bn,useEffect:py,useImperativeHandle:lS,useInsertionEffect:iS,useLayoutEffect:oS,useMemo:uS,useReducer:Zf,useRef:sS,useState:function(){return Zf(Ul)},useDebugValue:my,useDeferredValue:function(t){var e=Un();return Ct===null?e.memoizedState=t:dS(e,Ct.memoizedState,t)},useTransition:function(){var t=Zf(Ul)[0],e=Un().memoizedState;return[t,e]},useMutableSource:XT,useSyncExternalStore:JT,useId:hS,unstable_isNewReconciler:!1};function qn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _m(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sh={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ms(t),i=Fr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(Jn(e,t,s,r),zu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ms(t),i=Fr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(Jn(e,t,s,r),zu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Ms(t),s=Fr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ns(t,s,r),e!==null&&(Jn(e,t,r,n),zu(e,t,r))}};function Gw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ml(n,r)||!Ml(s,i):!0}function gS(t,e,n){var r=!1,s=$s,i=e.contextType;return typeof i=="object"&&i!==null?i=Bn(i):(s=vn(e)?Ni:tn.current,r=e.contextTypes,i=(r=r!=null)?Go(t,s):$s),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function qw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sh.enqueueReplaceState(e,e.state,null)}function bm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ay(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bn(i):(i=vn(e)?Ni:tn.current,s.context=Go(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_m(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sh.enqueueReplaceState(s,s.state,null),Cd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var n="",r=e;do n+=QR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ep(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Em(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b2=typeof WeakMap=="function"?WeakMap:Map;function yS(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rd||(Rd=!0,Dm=r),Em(t,e)},n}function vS(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Em(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Em(t,e),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Kw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=V2.bind(null,t,e,n),e.then(t,t))}function Qw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var E2=ns.ReactCurrentOwner,gn=!1;function sn(t,e,n,r){e.child=t===null?qT(e,null,n,r):Ko(e,t.child,n,r)}function Xw(t,e,n,r,s){n=n.render;var i=e.ref;return Vo(e,s),r=hy(t,e,n,r,i,s),n=fy(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qr(t,e,s)):(tt&&n&&ey(e),e.flags|=1,sn(t,e,r,s),e.child)}function Jw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ey(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wS(t,e,i,r,s)):(t=Qu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(o,r)&&t.ref===e.ref)return qr(t,e,s)}return e.flags|=1,t=js(i,r),t.ref=e.ref,t.return=e,e.child=t}function wS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ml(i,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,qr(t,e,s)}return Tm(t,e,n,r,s)}function xS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Co,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(Co,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ke(Co,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ke(Co,En),En|=r;return sn(t,e,s,n),e.child}function _S(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tm(t,e,n,r,s){var i=vn(n)?Ni:tn.current;return i=Go(e,i),Vo(e,s),n=hy(t,e,n,r,i,s),r=fy(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qr(t,e,s)):(tt&&r&&ey(e),e.flags|=1,sn(t,e,n,s),e.child)}function Zw(t,e,n,r,s){if(vn(n)){var i=!0;_d(e)}else i=!1;if(Vo(e,s),e.stateNode===null)Gu(t,e),gS(e,n,r),bm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Bn(c):(c=vn(n)?Ni:tn.current,c=Go(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&qw(e,o,r,c),ms=!1;var p=e.memoizedState;o.state=p,Cd(e,r,o,s),l=e.memoizedState,a!==r||p!==l||yn.current||ms?(typeof h=="function"&&(_m(e,n,h,r),l=e.memoizedState),(a=ms||Gw(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,QT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=vn(n)?Ni:tn.current,l=Go(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&qw(e,o,r,l),ms=!1,p=e.memoizedState,o.state=p,Cd(e,r,o,s);var v=e.memoizedState;a!==d||p!==v||yn.current||ms?(typeof g=="function"&&(_m(e,n,g,r),v=e.memoizedState),(c=ms||Gw(e,n,c,r,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Sm(t,e,n,r,i,s)}function Sm(t,e,n,r,s,i){_S(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Lw(e,n,!1),qr(t,e,i);r=e.stateNode,E2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,i),e.child=Ko(e,null,a,i)):sn(t,e,a,i),e.memoizedState=r.state,s&&Lw(e,n,!0),e.child}function bS(t){var e=t.stateNode;e.pendingContext?Ow(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ow(t,e.context,!1),ly(t,e.containerInfo)}function ex(t,e,n,r,s){return qo(),ny(s),e.flags|=256,sn(t,e,n,r),e.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function km(t){return{baseLanes:t,cachePool:null,transitions:null}}function ES(t,e,n){var r=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ke(rt,s&1),t===null)return wm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ah(o,r,0,null),t=Ii(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=km(n),e.memoizedState=Cm,t):gy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return T2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=js(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=js(a,i):(i=Ii(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?km(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Cm,r}return i=t.child,t=i.sibling,r=js(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gy(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hu(t,e,n,r){return r!==null&&ny(r),Ko(e,t.child,null,n),t=gy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ep(Error(Q(422))),hu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ah({mode:"visible",children:r.children},s,0,null),i=Ii(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=km(o),e.memoizedState=Cm,i);if(!(e.mode&1))return hu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=ep(i,r,void 0),hu(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Rt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gr(t,s),Jn(r,t,s,-1))}return by(),r=ep(Error(Q(421))),hu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=O2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sn=Rs(s.nextSibling),kn=e,tt=!0,Qn=null,t!==null&&(Vn[On++]=Dr,Vn[On++]=Mr,Vn[On++]=Di,Dr=t.id,Mr=t.overflow,Di=e),e=gy(e,r.children),e.flags|=4096,e)}function tx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xm(t.return,e,n)}function tp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function TS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tx(t,n,e);else if(t.tag===19)tx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&kd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),tp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&kd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}tp(e,!0,n,null,i);break;case"together":tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=js(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=js(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function S2(t,e,n){switch(e.tag){case 3:bS(e),qo();break;case 5:YT(e);break;case 1:vn(e.type)&&_d(e);break;case 4:ly(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ke(Td,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?ES(t,e,n):(Ke(rt,rt.current&1),t=qr(t,e,n),t!==null?t.sibling:null);Ke(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,xS(t,e,n)}return qr(t,e,n)}var SS,Am,CS,kS;SS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Am=function(){};CS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Si(mr.current);var i=null;switch(n){case"input":s=Yp(t,s),r=Yp(t,r),i=[];break;case"select":s=ot({},s,{value:void 0}),r=ot({},r,{value:void 0}),i=[];break;case"textarea":s=Zp(t,s),r=Zp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wd)}tm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(kl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(kl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};kS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wa(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C2(t,e,n){var r=e.pendingProps;switch(ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return vn(e.type)&&xd(),Kt(e),null;case 3:return r=e.stateNode,Qo(),et(yn),et(tn),uy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(Vm(Qn),Qn=null))),Am(t,e),Kt(e),null;case 5:cy(e);var s=Si(Fl.current);if(n=e.type,t!==null&&e.stateNode!=null)CS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Kt(e),null}if(t=Si(mr.current),uu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ur]=e,r[Ol]=i,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(s=0;s<Za.length;s++)Je(Za[s],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":uw(r,i),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Je("invalid",r);break;case"textarea":hw(r,i),Je("invalid",r)}tm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),s=["children",""+a]):kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":tu(r),dw(r,i,!0);break;case"textarea":tu(r),fw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[Ol]=r,SS(t,e,!1,!1),e.stateNode=t;e:{switch(o=nm(n,r),n){case"dialog":Je("cancel",t),Je("close",t),s=r;break;case"iframe":case"object":case"embed":Je("load",t),s=r;break;case"video":case"audio":for(s=0;s<Za.length;s++)Je(Za[s],t);s=r;break;case"source":Je("error",t),s=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),s=r;break;case"details":Je("toggle",t),s=r;break;case"input":uw(t,r),s=Yp(t,r),Je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ot({},r,{value:void 0}),Je("invalid",t);break;case"textarea":hw(t,r),s=Zp(t,r),Je("invalid",t);break;default:s=r}tm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?sT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Al(t,l):typeof l=="number"&&Al(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Je("scroll",t):l!=null&&Bg(t,i,l,o))}switch(n){case"input":tu(t),dw(t,r,!1);break;case"textarea":tu(t),fw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?No(t,!!r.multiple,i,!1):r.defaultValue!=null&&No(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)kS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Si(Fl.current),Si(mr.current),uu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(i=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return Kt(e),null;case 13:if(et(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Sn!==null&&e.mode&1&&!(e.flags&128))HT(),qo(),e.flags|=98560,i=!1;else if(i=uu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[ur]=e}else qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),i=!1}else Qn!==null&&(Vm(Qn),Qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?kt===0&&(kt=3):by())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return Qo(),Am(t,e),t===null&&jl(e.stateNode.containerInfo),Kt(e),null;case 10:return iy(e.type._context),Kt(e),null;case 17:return vn(e.type)&&xd(),Kt(e),null;case 19:if(et(rt),i=e.memoizedState,i===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Wa(i,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kd(t),o!==null){for(e.flags|=128,Wa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&gt()>Xo&&(e.flags|=128,r=!0,Wa(i,!1),e.lanes=4194304)}else{if(!r)if(t=kd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Kt(e),null}else 2*gt()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,Wa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=gt(),e.sibling=null,n=rt.current,Ke(rt,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return _y(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function k2(t,e){switch(ty(e),e.tag){case 1:return vn(e.type)&&xd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),et(yn),et(tn),uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cy(e),null;case 13:if(et(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(rt),null;case 4:return Qo(),null;case 10:return iy(e.type._context),null;case 22:case 23:return _y(),null;case 24:return null;default:return null}}var fu=!1,Jt=!1,A2=typeof WeakSet=="function"?WeakSet:Set,le=null;function So(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Im(t,e,n){try{n()}catch(r){ct(t,e,r)}}var nx=!1;function I2(t,e){if(hm=gd,t=NT(),Zg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fm={focusedElem:t,selectionRange:n},gd=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:qn(e.type,y),S);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(k){ct(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return v=nx,nx=!1,v}function pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Im(e,n,i)}s=s.next}while(s!==r)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AS(t){var e=t.alternate;e!==null&&(t.alternate=null,AS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[Ol],delete e[gm],delete e[d2],delete e[h2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IS(t){return t.tag===5||t.tag===3||t.tag===4}function rx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wd));else if(r!==4&&(t=t.child,t!==null))for(Rm(t,e,n),t=t.sibling;t!==null;)Rm(t,e,n),t=t.sibling}function Nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nm(t,e,n),t=t.sibling;t!==null;)Nm(t,e,n),t=t.sibling}var jt=null,Kn=!1;function cs(t,e,n){for(n=n.child;n!==null;)PS(t,e,n),n=n.sibling}function PS(t,e,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(vh,n)}catch{}switch(n.tag){case 5:Jt||So(n,e);case 6:var r=jt,s=Kn;jt=null,cs(t,e,n),jt=r,Kn=s,jt!==null&&(Kn?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Kn?(t=jt,n=n.stateNode,t.nodeType===8?Kf(t.parentNode,n):t.nodeType===1&&Kf(t,n),Nl(t)):Kf(jt,n.stateNode));break;case 4:r=jt,s=Kn,jt=n.stateNode.containerInfo,Kn=!0,cs(t,e,n),jt=r,Kn=s;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Im(n,e,o),s=s.next}while(s!==r)}cs(t,e,n);break;case 1:if(!Jt&&(So(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}cs(t,e,n);break;case 21:cs(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,cs(t,e,n),Jt=r):cs(t,e,n);break;default:cs(t,e,n)}}function sx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A2),e.forEach(function(r){var s=L2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,Kn=!1;break e;case 3:jt=a.stateNode.containerInfo,Kn=!0;break e;case 4:jt=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(jt===null)throw Error(Q(160));PS(i,o,s),jt=null,Kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ct(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RS(e,t),e=e.sibling}function RS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),ar(t),r&4){try{pl(3,t,t.return),Ch(3,t)}catch(y){ct(t,t.return,y)}try{pl(5,t,t.return)}catch(y){ct(t,t.return,y)}}break;case 1:Gn(e,t),ar(t),r&512&&n!==null&&So(n,n.return);break;case 5:if(Gn(e,t),ar(t),r&512&&n!==null&&So(n,n.return),t.flags&32){var s=t.stateNode;try{Al(s,"")}catch(y){ct(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ZE(s,i),nm(a,o);var c=nm(a,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?sT(s,d):h==="dangerouslySetInnerHTML"?nT(s,d):h==="children"?Al(s,d):Bg(s,h,d,c)}switch(a){case"input":Xp(s,i);break;case"textarea":eT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?No(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?No(s,!!i.multiple,i.defaultValue,!0):No(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ol]=i}catch(y){ct(t,t.return,y)}}break;case 6:if(Gn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ct(t,t.return,y)}}break;case 3:if(Gn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(e.containerInfo)}catch(y){ct(t,t.return,y)}break;case 4:Gn(e,t),ar(t);break;case 13:Gn(e,t),ar(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wy=gt())),r&4&&sx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(c=Jt)||h,Gn(e,t),Jt=c):Gn(e,t),ar(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(le=t,h=t.child;h!==null;){for(d=le=h;le!==null;){switch(p=le,g=p.child,p.tag){case 0:case 11:case 14:case 15:pl(4,p,p.return);break;case 1:So(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){ct(r,n,y)}}break;case 5:So(p,p.return);break;case 22:if(p.memoizedState!==null){ox(d);continue}}g!==null?(g.return=p,le=g):ox(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rT("display",o))}catch(y){ct(t,t.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ct(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gn(e,t),ar(t),r&4&&sx(t);break;case 21:break;default:Gn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IS(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Al(s,""),r.flags&=-33);var i=rx(t);Nm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rx(t);Rm(t,a,o);break;default:throw Error(Q(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function P2(t,e,n){le=t,NS(t)}function NS(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=fu;var c=Jt;if(fu=o,(Jt=l)&&!c)for(le=s;le!==null;)o=le,l=o.child,o.tag===22&&o.memoizedState!==null?ax(s):l!==null?(l.return=o,le=l):ax(s);for(;i!==null;)le=i,NS(i),i=i.sibling;le=s,fu=a,Jt=c}ix(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):ix(t)}}function ix(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Ch(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Nl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Jt||e.flags&512&&Pm(e)}catch(p){ct(e,e.return,p)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function ox(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function ax(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ch(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ct(e,s,l)}}var i=e.return;try{Pm(e)}catch(l){ct(e,i,l)}break;case 5:var o=e.return;try{Pm(e)}catch(l){ct(e,o,l)}}}catch(l){ct(e,e.return,l)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var R2=Math.ceil,Pd=ns.ReactCurrentDispatcher,yy=ns.ReactCurrentOwner,Fn=ns.ReactCurrentBatchConfig,Ve=0,Rt=null,bt=null,Bt=0,En=0,Co=Js(0),kt=0,zl=null,ji=0,kh=0,vy=0,ml=null,pn=null,wy=0,Xo=1/0,Rr=null,Rd=!1,Dm=null,Ds=null,pu=!1,Cs=null,Nd=0,gl=0,Mm=null,qu=-1,Ku=0;function an(){return Ve&6?gt():qu!==-1?qu:qu=gt()}function Ms(t){return t.mode&1?Ve&2&&Bt!==0?Bt&-Bt:p2.transition!==null?(Ku===0&&(Ku=gT()),Ku):(t=$e,t!==0||(t=window.event,t=t===void 0?16:ET(t.type)),t):1}function Jn(t,e,n,r){if(50<gl)throw gl=0,Mm=null,Error(Q(185));ic(t,n,r),(!(Ve&2)||t!==Rt)&&(t===Rt&&(!(Ve&2)&&(kh|=n),kt===4&&vs(t,Bt)),wn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Xo=gt()+500,Eh&&Zs()))}function wn(t,e){var n=t.callbackNode;pN(t,e);var r=md(t,t===Rt?Bt:0);if(r===0)n!==null&&gw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gw(n),e===1)t.tag===0?f2(lx.bind(null,t)):$T(lx.bind(null,t)),c2(function(){!(Ve&6)&&Zs()}),n=null;else{switch(yT(r)){case 1:n=Hg;break;case 4:n=pT;break;case 16:n=pd;break;case 536870912:n=mT;break;default:n=pd}n=BS(n,DS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DS(t,e){if(qu=-1,Ku=0,Ve&6)throw Error(Q(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=md(t,t===Rt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dd(t,r);else{e=r;var s=Ve;Ve|=2;var i=jS();(Rt!==t||Bt!==e)&&(Rr=null,Xo=gt()+500,Ai(t,e));do try{M2();break}catch(a){MS(t,a)}while(!0);sy(),Pd.current=i,Ve=s,bt!==null?e=0:(Rt=null,Bt=0,e=kt)}if(e!==0){if(e===2&&(s=am(t),s!==0&&(r=s,e=jm(t,s))),e===1)throw n=zl,Ai(t,0),vs(t,r),wn(t,gt()),n;if(e===6)vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!N2(s)&&(e=Dd(t,r),e===2&&(i=am(t),i!==0&&(r=i,e=jm(t,i))),e===1))throw n=zl,Ai(t,0),vs(t,r),wn(t,gt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:vi(t,pn,Rr);break;case 3:if(vs(t,r),(r&130023424)===r&&(e=wy+500-gt(),10<e)){if(md(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=mm(vi.bind(null,t,pn,Rr),e);break}vi(t,pn,Rr);break;case 4:if(vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R2(r/1960))-r,10<r){t.timeoutHandle=mm(vi.bind(null,t,pn,Rr),r);break}vi(t,pn,Rr);break;case 5:vi(t,pn,Rr);break;default:throw Error(Q(329))}}}return wn(t,gt()),t.callbackNode===n?DS.bind(null,t):null}function jm(t,e){var n=ml;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=Dd(t,e),t!==2&&(e=pn,pn=n,e!==null&&Vm(e)),t}function Vm(t){pn===null?pn=t:pn.push.apply(pn,t)}function N2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~vy,e&=~kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function lx(t){if(Ve&6)throw Error(Q(327));Oo();var e=md(t,0);if(!(e&1))return wn(t,gt()),null;var n=Dd(t,e);if(t.tag!==0&&n===2){var r=am(t);r!==0&&(e=r,n=jm(t,r))}if(n===1)throw n=zl,Ai(t,0),vs(t,e),wn(t,gt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vi(t,pn,Rr),wn(t,gt()),null}function xy(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Xo=gt()+500,Eh&&Zs())}}function Vi(t){Cs!==null&&Cs.tag===0&&!(Ve&6)&&Oo();var e=Ve;Ve|=1;var n=Fn.transition,r=$e;try{if(Fn.transition=null,$e=1,t)return t()}finally{$e=r,Fn.transition=n,Ve=e,!(Ve&6)&&Zs()}}function _y(){En=Co.current,et(Co)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,l2(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(ty(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xd();break;case 3:Qo(),et(yn),et(tn),uy();break;case 5:cy(r);break;case 4:Qo();break;case 13:et(rt);break;case 19:et(rt);break;case 10:iy(r.type._context);break;case 22:case 23:_y()}n=n.return}if(Rt=t,bt=t=js(t.current,null),Bt=En=e,kt=0,zl=null,vy=kh=ji=0,pn=ml=null,Ti!==null){for(e=0;e<Ti.length;e++)if(n=Ti[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ti=null}return t}function MS(t,e){do{var n=bt;try{if(sy(),Wu.current=Id,Ad){for(var r=it.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ad=!1}if(Mi=0,Pt=Ct=it=null,fl=!1,Bl=0,yy.current=null,n===null||n.return===null){kt=1,zl=e,bt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Qw(o);if(g!==null){g.flags&=-257,Yw(g,o,a,i,e),g.mode&1&&Kw(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Kw(i,c,e),by();break e}l=Error(Q(426))}}else if(tt&&a.mode&1){var S=Qw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Yw(S,o,a,i,e),ny(Yo(l,a));break e}}i=l=Yo(l,a),kt!==4&&(kt=2),ml===null?ml=[i]:ml.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=yS(i,l,e);$w(i,x);break e;case 1:a=l;var E=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ds===null||!Ds.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=vS(i,a,e);$w(i,k);break e}}i=i.return}while(i!==null)}OS(n)}catch(N){e=N,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function jS(){var t=Pd.current;return Pd.current=Id,t===null?Id:t}function by(){(kt===0||kt===3||kt===2)&&(kt=4),Rt===null||!(ji&268435455)&&!(kh&268435455)||vs(Rt,Bt)}function Dd(t,e){var n=Ve;Ve|=2;var r=jS();(Rt!==t||Bt!==e)&&(Rr=null,Ai(t,e));do try{D2();break}catch(s){MS(t,s)}while(!0);if(sy(),Ve=n,Pd.current=r,bt!==null)throw Error(Q(261));return Rt=null,Bt=0,kt}function D2(){for(;bt!==null;)VS(bt)}function M2(){for(;bt!==null&&!iN();)VS(bt)}function VS(t){var e=FS(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?OS(t):bt=e,yy.current=null}function OS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k2(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,bt=null;return}}else if(n=C2(n,e,En),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);kt===0&&(kt=5)}function vi(t,e,n){var r=$e,s=Fn.transition;try{Fn.transition=null,$e=1,j2(t,e,n,r)}finally{Fn.transition=s,$e=r}return null}function j2(t,e,n,r){do Oo();while(Cs!==null);if(Ve&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(mN(t,i),t===Rt&&(bt=Rt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pu||(pu=!0,BS(pd,function(){return Oo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fn.transition,Fn.transition=null;var o=$e;$e=1;var a=Ve;Ve|=4,yy.current=null,I2(t,n),RS(n,t),t2(fm),gd=!!hm,fm=hm=null,t.current=n,P2(n),oN(),Ve=a,$e=o,Fn.transition=i}else t.current=n;if(pu&&(pu=!1,Cs=t,Nd=s),i=t.pendingLanes,i===0&&(Ds=null),cN(n.stateNode),wn(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rd)throw Rd=!1,t=Dm,Dm=null,t;return Nd&1&&t.tag!==0&&Oo(),i=t.pendingLanes,i&1?t===Mm?gl++:(gl=0,Mm=t):gl=0,Zs(),null}function Oo(){if(Cs!==null){var t=yT(Nd),e=Fn.transition,n=$e;try{if(Fn.transition=null,$e=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,Nd=0,Ve&6)throw Error(Q(331));var s=Ve;for(Ve|=4,le=t.current;le!==null;){var i=le,o=i.child;if(le.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(le=c;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:pl(8,h,i)}var d=h.child;if(d!==null)d.return=h,le=d;else for(;le!==null;){h=le;var p=h.sibling,g=h.return;if(AS(h),h===c){le=null;break}if(p!==null){p.return=g,le=p;break}le=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}le=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,le=o;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,le=x;break e}le=i.return}}var E=t.current;for(le=E;le!==null;){o=le;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,le=T;else e:for(o=E;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ch(9,a)}}catch(N){ct(a,a.return,N)}if(a===o){le=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,le=k;break e}le=a.return}}if(Ve=s,Zs(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(vh,t)}catch{}r=!0}return r}finally{$e=n,Fn.transition=e}}return!1}function cx(t,e,n){e=Yo(n,e),e=yS(t,e,1),t=Ns(t,e,1),e=an(),t!==null&&(ic(t,1,e),wn(t,e))}function ct(t,e,n){if(t.tag===3)cx(t,t,n);else for(;e!==null;){if(e.tag===3){cx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){t=Yo(n,t),t=vS(e,t,1),e=Ns(e,t,1),t=an(),e!==null&&(ic(e,1,t),wn(e,t));break}}e=e.return}}function V2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Bt&n)===n&&(kt===4||kt===3&&(Bt&130023424)===Bt&&500>gt()-wy?Ai(t,0):vy|=n),wn(t,e)}function LS(t,e){e===0&&(t.mode&1?(e=su,su<<=1,!(su&130023424)&&(su=4194304)):e=1);var n=an();t=Gr(t,e),t!==null&&(ic(t,e,n),wn(t,n))}function O2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LS(t,n)}function L2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),LS(t,n)}var FS;FS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,S2(t,e,n);gn=!!(t.flags&131072)}else gn=!1,tt&&e.flags&1048576&&zT(e,Ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gu(t,e),t=e.pendingProps;var s=Go(e,tn.current);Vo(e,n),s=hy(null,e,r,t,s,n);var i=fy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(r)?(i=!0,_d(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ay(e),s.updater=Sh,e.stateNode=s,s._reactInternals=e,bm(e,r,t,n),e=Sm(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&ey(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=B2(r),t=qn(r,t),s){case 0:e=Tm(null,e,r,t,n);break e;case 1:e=Zw(null,e,r,t,n);break e;case 11:e=Xw(null,e,r,t,n);break e;case 14:e=Jw(null,e,r,qn(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),Tm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),Zw(t,e,r,s,n);case 3:e:{if(bS(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,QT(t,e),Cd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yo(Error(Q(423)),e),e=ex(t,e,r,n,s);break e}else if(r!==s){s=Yo(Error(Q(424)),e),e=ex(t,e,r,n,s);break e}else for(Sn=Rs(e.stateNode.containerInfo.firstChild),kn=e,tt=!0,Qn=null,n=qT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qo(),r===s){e=qr(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return YT(e),t===null&&wm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,pm(r,s)?o=null:i!==null&&pm(r,i)&&(e.flags|=32),_S(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&wm(e),null;case 13:return ES(t,e,n);case 4:return ly(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),Xw(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ke(Td,r._currentValue),r._currentValue=o,i!==null)if(er(i.value,o)){if(i.children===s.children&&!yn.current){e=qr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Fr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),xm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Vo(e,n),s=Bn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=qn(r,e.pendingProps),s=qn(r.type,s),Jw(t,e,r,s,n);case 15:return wS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),Gu(t,e),e.tag=1,vn(r)?(t=!0,_d(e)):t=!1,Vo(e,n),gS(e,r,s),bm(e,r,s,n),Sm(null,e,r,!0,t,n);case 19:return TS(t,e,n);case 22:return xS(t,e,n)}throw Error(Q(156,e.tag))};function BS(t,e){return fT(t,e)}function F2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,r){return new F2(t,e,n,r)}function Ey(t){return t=t.prototype,!(!t||!t.isReactComponent)}function B2(t){if(typeof t=="function")return Ey(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$g)return 11;if(t===zg)return 14}return 2}function js(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ey(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case go:return Ii(n.children,s,i,e);case Ug:o=8,s|=8;break;case Gp:return t=Ln(12,n,e,s|2),t.elementType=Gp,t.lanes=i,t;case qp:return t=Ln(13,n,e,s),t.elementType=qp,t.lanes=i,t;case Kp:return t=Ln(19,n,e,s),t.elementType=Kp,t.lanes=i,t;case YE:return Ah(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KE:o=10;break e;case QE:o=9;break e;case $g:o=11;break e;case zg:o=14;break e;case ps:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ii(t,e,n,r){return t=Ln(7,t,r,e),t.lanes=n,t}function Ah(t,e,n,r){return t=Ln(22,t,r,e),t.elementType=YE,t.lanes=n,t.stateNode={isHidden:!1},t}function np(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function rp(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ty(t,e,n,r,s,i,o,a,l){return t=new U2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(i),t}function $2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function US(t){if(!t)return $s;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(vn(n))return UT(t,n,e)}return e}function $S(t,e,n,r,s,i,o,a,l){return t=Ty(n,r,!0,t,s,i,o,a,l),t.context=US(null),n=t.current,r=an(),s=Ms(n),i=Fr(r,s),i.callback=e??null,Ns(n,i,s),t.current.lanes=s,ic(t,s,r),wn(t,r),t}function Ih(t,e,n,r){var s=e.current,i=an(),o=Ms(s);return n=US(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(s,e,o),t!==null&&(Jn(t,s,o,i),zu(t,s,o)),o}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ux(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sy(t,e){ux(t,e),(t=t.alternate)&&ux(t,e)}function z2(){return null}var zS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cy(t){this._internalRoot=t}Ph.prototype.render=Cy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Ih(t,e,null,null)};Ph.prototype.unmount=Cy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){Ih(null,t,null,null)}),e[Hr]=null}};function Ph(t){this._internalRoot=t}Ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=xT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&bT(t)}};function ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dx(){}function W2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Md(o);i.call(c)}}var o=$S(e,r,t,0,null,!1,!1,"",dx);return t._reactRootContainer=o,t[Hr]=o.current,jl(t.nodeType===8?t.parentNode:t),Vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Md(l);a.call(c)}}var l=Ty(t,0,!1,null,null,!1,!1,"",dx);return t._reactRootContainer=l,t[Hr]=l.current,jl(t.nodeType===8?t.parentNode:t),Vi(function(){Ih(e,l,n,r)}),l}function Nh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Md(o);a.call(l)}}Ih(e,o,t,s)}else o=W2(n,e,t,s,r);return Md(o)}vT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ja(e.pendingLanes);n!==0&&(Gg(e,n|1),wn(e,gt()),!(Ve&6)&&(Xo=gt()+500,Zs()))}break;case 13:Vi(function(){var r=Gr(t,1);if(r!==null){var s=an();Jn(r,t,1,s)}}),Sy(t,1)}};qg=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var n=an();Jn(e,t,134217728,n)}Sy(t,134217728)}};wT=function(t){if(t.tag===13){var e=Ms(t),n=Gr(t,e);if(n!==null){var r=an();Jn(n,t,e,r)}Sy(t,e)}};xT=function(){return $e};_T=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};sm=function(t,e,n){switch(e){case"input":if(Xp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=bh(r);if(!s)throw Error(Q(90));JE(r),Xp(r,s)}}}break;case"textarea":eT(t,n);break;case"select":e=n.value,e!=null&&No(t,!!n.multiple,e,!1)}};aT=xy;lT=Vi;var H2={usingClientEntryPoint:!1,Events:[ac,xo,bh,iT,oT,xy]},Ha={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G2={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{vh=mu.inject(G2),pr=mu}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H2;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(e))throw Error(Q(200));return $2(t,e,null,n)};Rn.createRoot=function(t,e){if(!ky(t))throw Error(Q(299));var n=!1,r="",s=zS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ty(t,1,!1,null,null,n,!1,r,s),t[Hr]=e.current,jl(t.nodeType===8?t.parentNode:t),new Cy(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=dT(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return Vi(t)};Rn.hydrate=function(t,e,n){if(!Rh(e))throw Error(Q(200));return Nh(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!ky(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$S(e,null,t,1,n??null,s,!1,i,o),t[Hr]=e.current,jl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ph(e)};Rn.render=function(t,e,n){if(!Rh(e))throw Error(Q(200));return Nh(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!Rh(t))throw Error(Q(40));return t._reactRootContainer?(Vi(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};Rn.unstable_batchedUpdates=xy;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rh(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Nh(t,e,n,!1,r)};Rn.version="18.3.1-next-f1338f8080-20240426";function WS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WS)}catch(t){console.error(t)}}WS(),WE.exports=Rn;var Dh=WE.exports;const HS=NE(Dh);var hx=Dh;Wp.createRoot=hx.createRoot,Wp.hydrateRoot=hx.hydrateRoot;var q2=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,c=["light","dark"];function h(g){(Array.isArray(t)?t:[t]).forEach(v=>{let y=v==="class",S=y&&i?s.map(x=>i[x]||x):s;y?(l.classList.remove(...S),l.classList.add(i&&i[g]?i[g]:g)):l.setAttribute(v,g)}),d(g)}function d(g){a&&c.includes(g)&&(l.style.colorScheme=g)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let g=localStorage.getItem(e)||n,v=o&&g==="system"?p():g;h(v)}catch{}},K2=w.createContext(void 0),Q2={setTheme:t=>{},themes:[]},Y2=()=>{var t;return(t=w.useContext(K2))!=null?t:Q2};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:c})=>{let h=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return w.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${q2.toString()})(${h})`}})});function X2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const J2=t=>{switch(t){case"success":return tD;case"info":return rD;case"warning":return nD;case"error":return sD;default:return null}},Z2=Array(12).fill(0),eD=({visible:t,className:e})=>Y.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Y.createElement("div",{className:"sonner-spinner"},Z2.map((n,r)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),tD=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nD=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rD=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sD=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iD=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oD=()=>{const[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Om=1;class aD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Om++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const a=s.then(async c=>{if(o=["resolve",c],Y.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(cD(c)&&!c.ok){i=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,v=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:p,...v})}else if(c instanceof Error){i=!1;const d=typeof n.error=="function"?await n.error(c):n.error,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){i=!1;const d=typeof n.success=="function"?await n.success(c):n.success,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof d=="object"&&!Y.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:p,...v})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;const h=typeof n.error=="function"?await n.error(c):n.error,d=typeof n.description=="function"?await n.description(c):n.description,g=typeof h=="object"&&!Y.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...g})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,h)=>a.then(()=>o[0]==="reject"?h(o[1]):c(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Om++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const hn=new aD,lD=(t,e)=>{const n=(e==null?void 0:e.id)||Om++;return hn.addToast({title:t,...e,id:n}),n},cD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",uD=lD,dD=()=>hn.toasts,hD=()=>hn.getActiveToasts(),be=Object.assign(uD,{success:hn.success,info:hn.info,warning:hn.warning,error:hn.error,custom:hn.custom,message:hn.message,promise:hn.promise,dismiss:hn.dismiss,loading:hn.loading},{getHistory:dD,getToasts:hD});X2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function gu(t){return t.label!==void 0}const fD=3,pD="24px",mD="16px",fx=4e3,gD=356,yD=14,vD=45,wD=200;function lr(...t){return t.filter(Boolean).join(" ")}function xD(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const _D=t=>{var e,n,r,s,i,o,a,l,c;const{invert:h,toast:d,unstyled:p,interacting:g,setHeights:v,visibleToasts:y,heights:S,index:x,toasts:E,expanded:T,removeToast:k,defaultRichColors:N,closeButton:V,style:C,cancelButtonStyle:_,actionButtonStyle:A,className:P="",descriptionClassName:M="",duration:D,position:I,gap:H,expandByDefault:ee,classNames:W,icons:te,closeButtonAriaLabel:O="Close toast"}=t,[K,X]=Y.useState(null),[se,ve]=Y.useState(null),[j,$]=Y.useState(!1),[G,J]=Y.useState(!1),[B,ne]=Y.useState(!1),[we,fe]=Y.useState(!1),[Ce,ke]=Y.useState(!1),[dt,Ue]=Y.useState(0),[un,dn]=Y.useState(0),vt=Y.useRef(d.duration||D||fx),zn=Y.useRef(null),L=Y.useRef(null),re=x===0,ae=x+1<=y,pe=d.type,ie=d.dismissible!==!1,Ye=d.className||"",qe=d.descriptionClassName||"",Ae=Y.useMemo(()=>S.findIndex(ge=>ge.toastId===d.id)||0,[S,d.id]),ht=Y.useMemo(()=>{var ge;return(ge=d.closeButton)!=null?ge:V},[d.closeButton,V]),ii=Y.useMemo(()=>d.duration||D||fx,[d.duration,D]),eo=Y.useRef(0),Cr=Y.useRef(0),Dc=Y.useRef(0),Dn=Y.useRef(null),[Mc,jc]=I.split("-"),to=Y.useMemo(()=>S.reduce((ge,ft,pt)=>pt>=Ae?ge:ge+ft.height,0),[S,Ae]),Vc=oD(),wf=d.invert||h,oi=pe==="loading";Cr.current=Y.useMemo(()=>Ae*H+to,[Ae,to]),Y.useEffect(()=>{vt.current=ii},[ii]),Y.useEffect(()=>{$(!0)},[]),Y.useEffect(()=>{const ge=L.current;if(ge){const ft=ge.getBoundingClientRect().height;return dn(ft),v(pt=>[{toastId:d.id,height:ft,position:d.position},...pt]),()=>v(pt=>pt.filter(Wt=>Wt.toastId!==d.id))}},[v,d.id]),Y.useLayoutEffect(()=>{if(!j)return;const ge=L.current,ft=ge.style.height;ge.style.height="auto";const pt=ge.getBoundingClientRect().height;ge.style.height=ft,dn(pt),v(Wt=>Wt.find(wt=>wt.toastId===d.id)?Wt.map(wt=>wt.toastId===d.id?{...wt,height:pt}:wt):[{toastId:d.id,height:pt,position:d.position},...Wt])},[j,d.title,d.description,v,d.id,d.jsx,d.action,d.cancel]);const Wn=Y.useCallback(()=>{J(!0),Ue(Cr.current),v(ge=>ge.filter(ft=>ft.toastId!==d.id)),setTimeout(()=>{k(d)},wD)},[d,k,v,Cr]);Y.useEffect(()=>{if(d.promise&&pe==="loading"||d.duration===1/0||d.type==="loading")return;let ge;return T||g||Vc?(()=>{if(Dc.current<eo.current){const Wt=new Date().getTime()-eo.current;vt.current=vt.current-Wt}Dc.current=new Date().getTime()})():(()=>{vt.current!==1/0&&(eo.current=new Date().getTime(),ge=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),Wn()},vt.current))})(),()=>clearTimeout(ge)},[T,g,d,pe,Vc,Wn]),Y.useEffect(()=>{d.delete&&(Wn(),d.onDismiss==null||d.onDismiss.call(d,d))},[Wn,d.delete]);function Oc(){var ge;if(te!=null&&te.loading){var ft;return Y.createElement("div",{className:lr(W==null?void 0:W.loader,d==null||(ft=d.classNames)==null?void 0:ft.loader,"sonner-loader"),"data-visible":pe==="loading"},te.loading)}return Y.createElement(eD,{className:lr(W==null?void 0:W.loader,d==null||(ge=d.classNames)==null?void 0:ge.loader),visible:pe==="loading"})}const ai=d.icon||(te==null?void 0:te[pe])||J2(pe);var no,ro;return Y.createElement("li",{tabIndex:0,ref:L,className:lr(P,Ye,W==null?void 0:W.toast,d==null||(e=d.classNames)==null?void 0:e.toast,W==null?void 0:W.default,W==null?void 0:W[pe],d==null||(n=d.classNames)==null?void 0:n[pe]),"data-sonner-toast":"","data-rich-colors":(no=d.richColors)!=null?no:N,"data-styled":!(d.jsx||d.unstyled||p),"data-mounted":j,"data-promise":!!d.promise,"data-swiped":Ce,"data-removed":G,"data-visible":ae,"data-y-position":Mc,"data-x-position":jc,"data-index":x,"data-front":re,"data-swiping":B,"data-dismissible":ie,"data-type":pe,"data-invert":wf,"data-swipe-out":we,"data-swipe-direction":se,"data-expanded":!!(T||ee&&j),"data-testid":d.testId,style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${G?dt:Cr.current}px`,"--initial-height":ee?"auto":`${un}px`,...C,...d.style},onDragEnd:()=>{ne(!1),X(null),Dn.current=null},onPointerDown:ge=>{ge.button!==2&&(oi||!ie||(zn.current=new Date,Ue(Cr.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(ne(!0),Dn.current={x:ge.clientX,y:ge.clientY})))},onPointerUp:()=>{var ge,ft,pt;if(we||!ie)return;Dn.current=null;const Wt=Number(((ge=L.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),or=Number(((ft=L.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),wt=new Date().getTime()-((pt=zn.current)==null?void 0:pt.getTime()),ze=K==="x"?Wt:or,li=Math.abs(ze)/wt;if(Math.abs(ze)>=vD||li>.11){Ue(Cr.current),d.onDismiss==null||d.onDismiss.call(d,d),ve(K==="x"?Wt>0?"right":"left":or>0?"down":"up"),Wn(),fe(!0);return}else{var Nt,Dt;(Nt=L.current)==null||Nt.style.setProperty("--swipe-amount-x","0px"),(Dt=L.current)==null||Dt.style.setProperty("--swipe-amount-y","0px")}ke(!1),ne(!1),X(null)},onPointerMove:ge=>{var ft,pt,Wt;if(!Dn.current||!ie||((ft=window.getSelection())==null?void 0:ft.toString().length)>0)return;const wt=ge.clientY-Dn.current.y,ze=ge.clientX-Dn.current.x;var li;const Nt=(li=t.swipeDirections)!=null?li:xD(I);!K&&(Math.abs(ze)>1||Math.abs(wt)>1)&&X(Math.abs(ze)>Math.abs(wt)?"x":"y");let Dt={x:0,y:0};const Lc=kr=>1/(1.5+Math.abs(kr)/20);if(K==="y"){if(Nt.includes("top")||Nt.includes("bottom"))if(Nt.includes("top")&&wt<0||Nt.includes("bottom")&&wt>0)Dt.y=wt;else{const kr=wt*Lc(wt);Dt.y=Math.abs(kr)<Math.abs(wt)?kr:wt}}else if(K==="x"&&(Nt.includes("left")||Nt.includes("right")))if(Nt.includes("left")&&ze<0||Nt.includes("right")&&ze>0)Dt.x=ze;else{const kr=ze*Lc(ze);Dt.x=Math.abs(kr)<Math.abs(ze)?kr:ze}(Math.abs(Dt.x)>0||Math.abs(Dt.y)>0)&&ke(!0),(pt=L.current)==null||pt.style.setProperty("--swipe-amount-x",`${Dt.x}px`),(Wt=L.current)==null||Wt.style.setProperty("--swipe-amount-y",`${Dt.y}px`)}},ht&&!d.jsx&&pe!=="loading"?Y.createElement("button",{"aria-label":O,"data-disabled":oi,"data-close-button":!0,onClick:oi||!ie?()=>{}:()=>{Wn(),d.onDismiss==null||d.onDismiss.call(d,d)},className:lr(W==null?void 0:W.closeButton,d==null||(r=d.classNames)==null?void 0:r.closeButton)},(ro=te==null?void 0:te.close)!=null?ro:iD):null,(pe||d.icon||d.promise)&&d.icon!==null&&((te==null?void 0:te[pe])!==null||d.icon)?Y.createElement("div",{"data-icon":"",className:lr(W==null?void 0:W.icon,d==null||(s=d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Oc():null,d.type!=="loading"?ai:null):null,Y.createElement("div",{"data-content":"",className:lr(W==null?void 0:W.content,d==null||(i=d.classNames)==null?void 0:i.content)},Y.createElement("div",{"data-title":"",className:lr(W==null?void 0:W.title,d==null||(o=d.classNames)==null?void 0:o.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?Y.createElement("div",{"data-description":"",className:lr(M,qe,W==null?void 0:W.description,d==null||(a=d.classNames)==null?void 0:a.description)},typeof d.description=="function"?d.description():d.description):null),Y.isValidElement(d.cancel)?d.cancel:d.cancel&&gu(d.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||_,onClick:ge=>{gu(d.cancel)&&ie&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,ge),Wn())},className:lr(W==null?void 0:W.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,Y.isValidElement(d.action)?d.action:d.action&&gu(d.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||A,onClick:ge=>{gu(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,ge),!ge.defaultPrevented&&Wn())},className:lr(W==null?void 0:W.actionButton,d==null||(c=d.classNames)==null?void 0:c.actionButton)},d.action.label):null)};function px(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function bD(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?mD:pD;function l(c){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}const ED=Y.forwardRef(function(e,n){const{id:r,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:c,offset:h,mobileOffset:d,theme:p="light",richColors:g,duration:v,style:y,visibleToasts:S=fD,toastOptions:x,dir:E=px(),gap:T=yD,icons:k,containerAriaLabel:N="Notifications"}=e,[V,C]=Y.useState([]),_=Y.useMemo(()=>r?V.filter(j=>j.toasterId===r):V.filter(j=>!j.toasterId),[V,r]),A=Y.useMemo(()=>Array.from(new Set([i].concat(_.filter(j=>j.position).map(j=>j.position)))),[_,i]),[P,M]=Y.useState([]),[D,I]=Y.useState(!1),[H,ee]=Y.useState(!1),[W,te]=Y.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=Y.useRef(null),K=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=Y.useRef(null),se=Y.useRef(!1),ve=Y.useCallback(j=>{C($=>{var G;return(G=$.find(J=>J.id===j.id))!=null&&G.delete||hn.dismiss(j.id),$.filter(({id:J})=>J!==j.id)})},[]);return Y.useEffect(()=>hn.subscribe(j=>{if(j.dismiss){requestAnimationFrame(()=>{C($=>$.map(G=>G.id===j.id?{...G,delete:!0}:G))});return}setTimeout(()=>{HS.flushSync(()=>{C($=>{const G=$.findIndex(J=>J.id===j.id);return G!==-1?[...$.slice(0,G),{...$[G],...j},...$.slice(G+1)]:[j,...$]})})})}),[V]),Y.useEffect(()=>{if(p!=="system"){te(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:$})=>{te($?"dark":"light")})}catch{j.addListener(({matches:G})=>{try{te(G?"dark":"light")}catch(J){console.error(J)}})}},[p]),Y.useEffect(()=>{V.length<=1&&I(!1)},[V]),Y.useEffect(()=>{const j=$=>{var G;if(o.every(ne=>$[ne]||$.code===ne)){var B;I(!0),(B=O.current)==null||B.focus()}$.code==="Escape"&&(document.activeElement===O.current||(G=O.current)!=null&&G.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[o]),Y.useEffect(()=>{if(O.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,se.current=!1)}},[O.current]),Y.createElement("section",{ref:n,"aria-label":`${N} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((j,$)=>{var G;const[J,B]=j.split("-");return _.length?Y.createElement("ol",{key:j,dir:E==="auto"?px():E,tabIndex:-1,ref:O,className:c,"data-sonner-toaster":!0,"data-sonner-theme":W,"data-y-position":J,"data-x-position":B,style:{"--front-toast-height":`${((G=P[0])==null?void 0:G.height)||0}px`,"--width":`${gD}px`,"--gap":`${T}px`,...y,...bD(h,d)},onBlur:ne=>{se.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(se.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||se.current||(se.current=!0,X.current=ne.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{H||I(!1)},onDragEnd:()=>I(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},_.filter(ne=>!ne.position&&$===0||ne.position===j).map((ne,we)=>{var fe,Ce;return Y.createElement(_D,{key:ne.id,icons:k,index:we,toast:ne,defaultRichColors:g,duration:(fe=x==null?void 0:x.duration)!=null?fe:v,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:s,visibleToasts:S,closeButton:(Ce=x==null?void 0:x.closeButton)!=null?Ce:l,interacting:H,position:j,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:ve,toasts:_.filter(ke=>ke.position==ne.position),heights:P.filter(ke=>ke.position==ne.position),setHeights:M,expandByDefault:a,gap:T,expanded:D,swipeDirections:e.swipeDirections})})):null}))}),TD=({...t})=>{const{theme:e="system"}=Y2();return f.jsx(ED,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function mx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cc(...t){return e=>{let n=!1;const r=t.map(s=>{const i=mx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():mx(t[s],null)}}}}function ut(...t){return w.useCallback(cc(...t),t)}function SD(t,e){const n=w.createContext(e),r=i=>{const{children:o,...a}=i,l=w.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ei(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];const c=d=>{var x;const{scope:p,children:g,...v}=d,y=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,S=w.useMemo(()=>v,Object.values(v));return f.jsx(y.Provider,{value:S,children:g})};c.displayName=i+"Provider";function h(d,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,v=w.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,CD(s,...e)]}function CD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function kD(t){const e=AD(t),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,a=w.Children.toArray(i),l=a.find(PD);if(l){const c=l.props.children,h=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...o,ref:s,children:w.isValidElement(c)?w.cloneElement(c,void 0,h):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function AD(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=ND(s),a=RD(i,s.props);return s.type!==w.Fragment&&(a.ref=r?cc(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ID=Symbol("radix.slottable");function PD(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ID}function RD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function ND(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var DD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=DD.reduce((t,e)=>{const n=kD(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function MD(t,e){t&&Dh.flushSync(()=>t.dispatchEvent(e))}function Oi(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function jD(t,e=globalThis==null?void 0:globalThis.document){const n=Oi(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var VD="DismissableLayer",Lm="dismissableLayer.update",OD="dismissableLayer.pointerDownOutside",LD="dismissableLayer.focusOutside",gx,GS=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ay=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=w.useContext(GS),[h,d]=w.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),v=ut(e,C=>d(C)),y=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(S),E=h?y.indexOf(h):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,k=E>=x,N=UD(C=>{const _=C.target,A=[...c.branches].some(P=>P.contains(_));!k||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),V=$D(C=>{const _=C.target;[...c.branches].some(P=>P.contains(_))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return jD(C=>{E===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),w.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gx=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),yx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=gx)}},[h,p,n,c]),w.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),yx())},[h,c]),w.useEffect(()=>{const C=()=>g({});return document.addEventListener(Lm,C),()=>document.removeEventListener(Lm,C)},[]),f.jsx(Ge.div,{...l,ref:v,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,N.onPointerDownCapture)})});Ay.displayName=VD;var FD="DismissableLayerBranch",BD=w.forwardRef((t,e)=>{const n=w.useContext(GS),r=w.useRef(null),s=ut(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(Ge.div,{...t,ref:s})});BD.displayName=FD;function UD(t,e=globalThis==null?void 0:globalThis.document){const n=Oi(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){qS(OD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function $D(t,e=globalThis==null?void 0:globalThis.document){const n=Oi(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&qS(LD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yx(){const t=new CustomEvent(Lm);document.dispatchEvent(t)}function qS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?MD(s,i):s.dispatchEvent(i)}var zs=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},zD=yh[" useId ".trim().toString()]||(()=>{}),WD=0;function yl(t){const[e,n]=w.useState(zD());return zs(()=>{n(r=>r??String(WD++))},[t]),t||(e?`radix-${e}`:"")}const HD=["top","right","bottom","left"],Ws=Math.min,Tn=Math.max,jd=Math.round,yu=Math.floor,gr=t=>({x:t,y:t}),GD={left:"right",right:"left",bottom:"top",top:"bottom"},qD={start:"end",end:"start"};function Fm(t,e,n){return Tn(t,Ws(e,n))}function Kr(t,e){return typeof t=="function"?t(e):t}function Qr(t){return t.split("-")[0]}function ya(t){return t.split("-")[1]}function Iy(t){return t==="x"?"y":"x"}function Py(t){return t==="y"?"height":"width"}const KD=new Set(["top","bottom"]);function hr(t){return KD.has(Qr(t))?"y":"x"}function Ry(t){return Iy(hr(t))}function QD(t,e,n){n===void 0&&(n=!1);const r=ya(t),s=Ry(t),i=Py(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vd(o)),[o,Vd(o)]}function YD(t){const e=Vd(t);return[Bm(t),e,Bm(e)]}function Bm(t){return t.replace(/start|end/g,e=>qD[e])}const vx=["left","right"],wx=["right","left"],XD=["top","bottom"],JD=["bottom","top"];function ZD(t,e,n){switch(t){case"top":case"bottom":return n?e?wx:vx:e?vx:wx;case"left":case"right":return e?XD:JD;default:return[]}}function eM(t,e,n,r){const s=ya(t);let i=ZD(Qr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Bm)))),i}function Vd(t){return t.replace(/left|right|bottom|top/g,e=>GD[e])}function tM(t){return{top:0,right:0,bottom:0,left:0,...t}}function KS(t){return typeof t!="number"?tM(t):{top:t,right:t,bottom:t,left:t}}function Od(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function xx(t,e,n){let{reference:r,floating:s}=t;const i=hr(e),o=Ry(e),a=Py(o),l=Qr(e),c=i==="y",h=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-s.width,y:d};break;default:g={x:r.x,y:r.y}}switch(ya(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const nM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:d}=xx(c,r,l),p=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:S,fn:x}=a[y],{x:E,y:T,data:k,reset:N}=await x({x:h,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});h=E??h,d=T??d,g={...g,[S]:{...g[S],...k}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:h,y:d}=xx(c,p,l)),y=-1)}return{x:h,y:d,placement:p,strategy:s,middlewareData:g}};async function Wl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=Kr(e,t),v=KS(g),S=a[p?d==="floating"?"reference":"floating":d],x=Od(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),E=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},N=Od(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:l}):E);return{top:(x.top-N.top+v.top)/k.y,bottom:(N.bottom-x.bottom+v.bottom)/k.y,left:(x.left-N.left+v.left)/k.x,right:(N.right-x.right+v.right)/k.x}}const rM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=Kr(t,e)||{};if(c==null)return{};const d=KS(h),p={x:n,y:r},g=Ry(s),v=Py(g),y=await o.getDimensions(c),S=g==="y",x=S?"top":"left",E=S?"bottom":"right",T=S?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[g]-p[g]-i.floating[v],N=p[g]-i.reference[g],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=V?V[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(V)))&&(C=a.floating[T]||i.floating[v]);const _=k/2-N/2,A=C/2-y[v]/2-1,P=Ws(d[x],A),M=Ws(d[E],A),D=P,I=C-y[v]-M,H=C/2-y[v]/2+_,ee=Fm(D,H,I),W=!l.arrow&&ya(s)!=null&&H!==ee&&i.reference[v]/2-(H<D?P:M)-y[v]/2<0,te=W?H<D?H-D:H-I:0;return{[g]:p[g]+te,data:{[g]:ee,centerOffset:H-ee-te,...W&&{alignmentOffset:te}},reset:W}}}),sM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...S}=Kr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Qr(s),E=hr(a),T=Qr(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=p||(T||!y?[Vd(a)]:YD(a)),V=v!=="none";!p&&V&&N.push(...eM(a,y,v,k));const C=[a,...N],_=await Wl(e,S),A=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(_[x]),d){const H=QD(s,o,k);A.push(_[H[0]],_[H[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(H=>H<=0)){var M,D;const H=(((M=i.flip)==null?void 0:M.index)||0)+1,ee=C[H];if(ee&&(!(d==="alignment"?E!==hr(ee):!1)||P.every(O=>hr(O.placement)===E?O.overflows[0]>0:!0)))return{data:{index:H,overflows:P},reset:{placement:ee}};let W=(D=P.filter(te=>te.overflows[0]<=0).sort((te,O)=>te.overflows[1]-O.overflows[1])[0])==null?void 0:D.placement;if(!W)switch(g){case"bestFit":{var I;const te=(I=P.filter(O=>{if(V){const K=hr(O.placement);return K===E||K==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(K=>K>0).reduce((K,X)=>K+X,0)]).sort((O,K)=>O[1]-K[1])[0])==null?void 0:I[0];te&&(W=te);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function _x(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bx(t){return HD.some(e=>t[e]>=0)}const iM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Kr(t,e);switch(r){case"referenceHidden":{const i=await Wl(e,{...s,elementContext:"reference"}),o=_x(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bx(o)}}}case"escaped":{const i=await Wl(e,{...s,altBoundary:!0}),o=_x(i,n.floating);return{data:{escapedOffsets:o,escaped:bx(o)}}}default:return{}}}}},QS=new Set(["left","top"]);async function oM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Qr(n),a=ya(n),l=hr(n)==="y",c=QS.has(o)?-1:1,h=i&&l?-1:1,d=Kr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*h,y:p*c}:{x:p*c,y:g*h}}const aM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await oM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},lM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x,y:E}=S;return{x,y:E}}},...l}=Kr(t,e),c={x:n,y:r},h=await Wl(e,l),d=hr(Qr(s)),p=Iy(d);let g=c[p],v=c[d];if(i){const S=p==="y"?"top":"left",x=p==="y"?"bottom":"right",E=g+h[S],T=g-h[x];g=Fm(E,g,T)}if(o){const S=d==="y"?"top":"left",x=d==="y"?"bottom":"right",E=v+h[S],T=v-h[x];v=Fm(E,v,T)}const y=a.fn({...e,[p]:g,[d]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[d]:o}}}}}},cM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Kr(t,e),h={x:n,y:r},d=hr(s),p=Iy(d);let g=h[p],v=h[d];const y=Kr(a,e),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=p==="y"?"height":"width",k=i.reference[p]-i.floating[T]+S.mainAxis,N=i.reference[p]+i.reference[T]-S.mainAxis;g<k?g=k:g>N&&(g=N)}if(c){var x,E;const T=p==="y"?"width":"height",k=QS.has(Qr(s)),N=i.reference[d]-i.floating[T]+(k&&((x=o.offset)==null?void 0:x[d])||0)+(k?0:S.crossAxis),V=i.reference[d]+i.reference[T]+(k?0:((E=o.offset)==null?void 0:E[d])||0)-(k?S.crossAxis:0);v<N?v=N:v>V&&(v=V)}return{[p]:g,[d]:v}}}},uM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Kr(t,e),h=await Wl(e,c),d=Qr(s),p=ya(s),g=hr(s)==="y",{width:v,height:y}=i.floating;let S,x;d==="top"||d==="bottom"?(S=d,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=d,S=p==="end"?"top":"bottom");const E=y-h.top-h.bottom,T=v-h.left-h.right,k=Ws(y-h[S],E),N=Ws(v-h[x],T),V=!e.middlewareData.shift;let C=k,_=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=E),V&&!p){const P=Tn(h.left,0),M=Tn(h.right,0),D=Tn(h.top,0),I=Tn(h.bottom,0);g?_=v-2*(P!==0||M!==0?P+M:Tn(h.left,h.right)):C=y-2*(D!==0||I!==0?D+I:Tn(h.top,h.bottom))}await l({...e,availableWidth:_,availableHeight:C});const A=await o.getDimensions(a.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Mh(){return typeof window<"u"}function va(t){return YS(t)?(t.nodeName||"").toLowerCase():"#document"}function An(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sr(t){var e;return(e=(YS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YS(t){return Mh()?t instanceof Node||t instanceof An(t).Node:!1}function tr(t){return Mh()?t instanceof Element||t instanceof An(t).Element:!1}function Er(t){return Mh()?t instanceof HTMLElement||t instanceof An(t).HTMLElement:!1}function Ex(t){return!Mh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof An(t).ShadowRoot}const dM=new Set(["inline","contents"]);function uc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!dM.has(s)}const hM=new Set(["table","td","th"]);function fM(t){return hM.has(va(t))}const pM=[":popover-open",":modal"];function jh(t){return pM.some(e=>{try{return t.matches(e)}catch{return!1}})}const mM=["transform","translate","scale","rotate","perspective"],gM=["transform","translate","scale","rotate","perspective","filter"],yM=["paint","layout","strict","content"];function Ny(t){const e=Dy(),n=tr(t)?nr(t):t;return mM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||gM.some(r=>(n.willChange||"").includes(r))||yM.some(r=>(n.contain||"").includes(r))}function vM(t){let e=Hs(t);for(;Er(e)&&!Jo(e);){if(Ny(e))return e;if(jh(e))return null;e=Hs(e)}return null}function Dy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wM=new Set(["html","body","#document"]);function Jo(t){return wM.has(va(t))}function nr(t){return An(t).getComputedStyle(t)}function Vh(t){return tr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hs(t){if(va(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ex(t)&&t.host||Sr(t);return Ex(e)?e.host:e}function XS(t){const e=Hs(t);return Jo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Er(e)&&uc(e)?e:XS(e)}function Hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=XS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=An(s);if(i){const a=Um(o);return e.concat(o,o.visualViewport||[],uc(s)?s:[],a&&n?Hl(a):[])}return e.concat(s,Hl(s,[],n))}function Um(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function JS(t){const e=nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Er(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=jd(n)!==i||jd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function My(t){return tr(t)?t:t.contextElement}function Lo(t){const e=My(t);if(!Er(e))return gr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=JS(e);let o=(i?jd(n.width):n.width)/r,a=(i?jd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const xM=gr(0);function ZS(t){const e=An(t);return!Dy()||!e.visualViewport?xM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _M(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==An(t)?!1:e}function Li(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=My(t);let o=gr(1);e&&(r?tr(r)&&(o=Lo(r)):o=Lo(t));const a=_M(i,n,r)?ZS(i):gr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,d=s.height/o.y;if(i){const p=An(i),g=r&&tr(r)?An(r):r;let v=p,y=Um(v);for(;y&&r&&g!==v;){const S=Lo(y),x=y.getBoundingClientRect(),E=nr(y),T=x.left+(y.clientLeft+parseFloat(E.paddingLeft))*S.x,k=x.top+(y.clientTop+parseFloat(E.paddingTop))*S.y;l*=S.x,c*=S.y,h*=S.x,d*=S.y,l+=T,c+=k,v=An(y),y=Um(v)}}return Od({width:h,height:d,x:l,y:c})}function Oh(t,e){const n=Vh(t).scrollLeft;return e?e.left+n:Li(Sr(t)).left+n}function e1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Oh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function bM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Sr(r),a=e?jh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=gr(1);const h=gr(0),d=Er(r);if((d||!d&&!i)&&((va(r)!=="body"||uc(o))&&(l=Vh(r)),Er(r))){const g=Li(r);c=Lo(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!d&&!i?e1(o,l):gr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-l.scrollTop*c.y+h.y+p.y}}function EM(t){return Array.from(t.getClientRects())}function TM(t){const e=Sr(t),n=Vh(t),r=t.ownerDocument.body,s=Tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Oh(t);const a=-n.scrollTop;return nr(r).direction==="rtl"&&(o+=Tn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const Tx=25;function SM(t,e){const n=An(t),r=Sr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const h=Dy();(!h||h&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Oh(r);if(c<=0){const h=r.ownerDocument,d=h.body,p=getComputedStyle(d),g=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-d.clientWidth-g);v<=Tx&&(i-=v)}else c<=Tx&&(i+=c);return{width:i,height:o,x:a,y:l}}const CM=new Set(["absolute","fixed"]);function kM(t,e){const n=Li(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Er(t)?Lo(t):gr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Sx(t,e,n){let r;if(e==="viewport")r=SM(t,n);else if(e==="document")r=TM(Sr(t));else if(tr(e))r=kM(e,n);else{const s=ZS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Od(r)}function t1(t,e){const n=Hs(t);return n===e||!tr(n)||Jo(n)?!1:nr(n).position==="fixed"||t1(n,e)}function AM(t,e){const n=e.get(t);if(n)return n;let r=Hl(t,[],!1).filter(a=>tr(a)&&va(a)!=="body"),s=null;const i=nr(t).position==="fixed";let o=i?Hs(t):t;for(;tr(o)&&!Jo(o);){const a=nr(o),l=Ny(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&CM.has(s.position)||uc(o)&&!l&&t1(t,o))?r=r.filter(h=>h!==o):s=a,o=Hs(o)}return e.set(t,r),r}function IM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?jh(e)?[]:AM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const d=Sx(e,h,s);return c.top=Tn(d.top,c.top),c.right=Ws(d.right,c.right),c.bottom=Ws(d.bottom,c.bottom),c.left=Tn(d.left,c.left),c},Sx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function PM(t){const{width:e,height:n}=JS(t);return{width:e,height:n}}function RM(t,e,n){const r=Er(e),s=Sr(e),i=n==="fixed",o=Li(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=gr(0);function c(){l.x=Oh(s)}if(r||!r&&!i)if((va(e)!=="body"||uc(s))&&(a=Vh(e)),r){const g=Li(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const h=s&&!r&&!i?e1(s,a):gr(0),d=o.left+a.scrollLeft-l.x-h.x,p=o.top+a.scrollTop-l.y-h.y;return{x:d,y:p,width:o.width,height:o.height}}function sp(t){return nr(t).position==="static"}function Cx(t,e){if(!Er(t)||nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Sr(t)===n&&(n=n.ownerDocument.body),n}function n1(t,e){const n=An(t);if(jh(t))return n;if(!Er(t)){let s=Hs(t);for(;s&&!Jo(s);){if(tr(s)&&!sp(s))return s;s=Hs(s)}return n}let r=Cx(t,e);for(;r&&fM(r)&&sp(r);)r=Cx(r,e);return r&&Jo(r)&&sp(r)&&!Ny(r)?n:r||vM(t)||n}const NM=async function(t){const e=this.getOffsetParent||n1,n=this.getDimensions,r=await n(t.floating);return{reference:RM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function DM(t){return nr(t).direction==="rtl"}const MM={convertOffsetParentRelativeRectToViewportRelativeRect:bM,getDocumentElement:Sr,getClippingRect:IM,getOffsetParent:n1,getElementRects:NM,getClientRects:EM,getDimensions:PM,getScale:Lo,isElement:tr,isRTL:DM};function r1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jM(t,e){let n=null,r;const s=Sr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:h,top:d,width:p,height:g}=c;if(a||e(),!p||!g)return;const v=yu(d),y=yu(s.clientWidth-(h+p)),S=yu(s.clientHeight-(d+g)),x=yu(h),T={rootMargin:-v+"px "+-y+"px "+-S+"px "+-x+"px",threshold:Tn(0,Ws(1,l))||1};let k=!0;function N(V){const C=V[0].intersectionRatio;if(C!==l){if(!k)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!r1(c,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(N,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,T)}n.observe(t)}return o(!0),i}function VM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=My(t),h=s||i?[...c?Hl(c):[],...Hl(e)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const d=c&&a?jM(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(x=>{let[E]=x;E&&E.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,y=l?Li(t):null;l&&S();function S(){const x=Li(t);y&&!r1(y,x)&&n(),y=x,v=requestAnimationFrame(S)}return n(),()=>{var x;h.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),d==null||d(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const OM=aM,LM=lM,FM=sM,BM=uM,UM=iM,kx=rM,$M=cM,zM=(t,e,n)=>{const r=new Map,s={platform:MM,...n},i={...s.platform,_c:r};return nM(t,e,{...s,platform:i})};var WM=typeof document<"u",HM=function(){},Yu=WM?w.useLayoutEffect:HM;function Ld(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ld(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ld(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function s1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ax(t,e){const n=s1(t);return Math.round(e*n)/n}function ip(t){const e=w.useRef(t);return Yu(()=>{e.current=t}),e}function GM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,d]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=w.useState(r);Ld(p,r)||g(r);const[v,y]=w.useState(null),[S,x]=w.useState(null),E=w.useCallback(O=>{O!==V.current&&(V.current=O,y(O))},[]),T=w.useCallback(O=>{O!==C.current&&(C.current=O,x(O))},[]),k=i||v,N=o||S,V=w.useRef(null),C=w.useRef(null),_=w.useRef(h),A=l!=null,P=ip(l),M=ip(s),D=ip(c),I=w.useCallback(()=>{if(!V.current||!C.current)return;const O={placement:e,strategy:n,middleware:p};M.current&&(O.platform=M.current),zM(V.current,C.current,O).then(K=>{const X={...K,isPositioned:D.current!==!1};H.current&&!Ld(_.current,X)&&(_.current=X,Dh.flushSync(()=>{d(X)}))})},[p,e,n,M,D]);Yu(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(O=>({...O,isPositioned:!1})))},[c]);const H=w.useRef(!1);Yu(()=>(H.current=!0,()=>{H.current=!1}),[]),Yu(()=>{if(k&&(V.current=k),N&&(C.current=N),k&&N){if(P.current)return P.current(k,N,I);I()}},[k,N,I,P,A]);const ee=w.useMemo(()=>({reference:V,floating:C,setReference:E,setFloating:T}),[E,T]),W=w.useMemo(()=>({reference:k,floating:N}),[k,N]),te=w.useMemo(()=>{const O={position:n,left:0,top:0};if(!W.floating)return O;const K=Ax(W.floating,h.x),X=Ax(W.floating,h.y);return a?{...O,transform:"translate("+K+"px, "+X+"px)",...s1(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:X}},[n,a,W.floating,h.x,h.y]);return w.useMemo(()=>({...h,update:I,refs:ee,elements:W,floatingStyles:te}),[h,I,ee,W,te])}const qM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?kx({element:r.current,padding:s}).fn(n):{}:r?kx({element:r,padding:s}).fn(n):{}}}},KM=(t,e)=>({...OM(t),options:[t,e]}),QM=(t,e)=>({...LM(t),options:[t,e]}),YM=(t,e)=>({...$M(t),options:[t,e]}),XM=(t,e)=>({...FM(t),options:[t,e]}),JM=(t,e)=>({...BM(t),options:[t,e]}),ZM=(t,e)=>({...UM(t),options:[t,e]}),ej=(t,e)=>({...qM(t),options:[t,e]});var tj="Arrow",i1=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(Ge.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});i1.displayName=tj;var nj=i1;function jy(t){const[e,n]=w.useState(void 0);return zs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var o1="Popper",[a1,l1]=ei(o1),[bH,c1]=a1(o1),u1="PopperAnchor",d1=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=c1(u1,n),o=w.useRef(null),a=ut(e,o),l=w.useRef(null);return w.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:f.jsx(Ge.div,{...s,ref:a})});d1.displayName=u1;var Vy="PopperContent",[rj,sj]=a1(Vy),h1=w.forwardRef((t,e)=>{var B,ne,we,fe,Ce,ke;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,S=c1(Vy,n),[x,E]=w.useState(null),T=ut(e,dt=>E(dt)),[k,N]=w.useState(null),V=jy(k),C=(V==null?void 0:V.width)??0,_=(V==null?void 0:V.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(c)?c:[c],D=M.length>0,I={padding:P,boundary:M.filter(oj),altBoundary:D},{refs:H,floatingStyles:ee,placement:W,isPositioned:te,middlewareData:O}=GM({strategy:"fixed",placement:A,whileElementsMounted:(...dt)=>VM(...dt,{animationFrame:g==="always"}),elements:{reference:S.anchor},middleware:[KM({mainAxis:s+_,alignmentAxis:o}),l&&QM({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?YM():void 0,...I}),l&&XM({...I}),JM({...I,apply:({elements:dt,rects:Ue,availableWidth:un,availableHeight:dn})=>{const{width:vt,height:zn}=Ue.reference,L=dt.floating.style;L.setProperty("--radix-popper-available-width",`${un}px`),L.setProperty("--radix-popper-available-height",`${dn}px`),L.setProperty("--radix-popper-anchor-width",`${vt}px`),L.setProperty("--radix-popper-anchor-height",`${zn}px`)}}),k&&ej({element:k,padding:a}),aj({arrowWidth:C,arrowHeight:_}),p&&ZM({strategy:"referenceHidden",...I})]}),[K,X]=m1(W),se=Oi(v);zs(()=>{te&&(se==null||se())},[te,se]);const ve=(B=O.arrow)==null?void 0:B.x,j=(ne=O.arrow)==null?void 0:ne.y,$=((we=O.arrow)==null?void 0:we.centerOffset)!==0,[G,J]=w.useState();return zs(()=>{x&&J(window.getComputedStyle(x).zIndex)},[x]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:te?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(fe=O.transformOrigin)==null?void 0:fe.x,(Ce=O.transformOrigin)==null?void 0:Ce.y].join(" "),...((ke=O.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(rj,{scope:n,placedSide:K,onArrowChange:N,arrowX:ve,arrowY:j,shouldHideArrow:$,children:f.jsx(Ge.div,{"data-side":K,"data-align":X,...y,ref:T,style:{...y.style,animation:te?void 0:"none"}})})})});h1.displayName=Vy;var f1="PopperArrow",ij={top:"bottom",right:"left",bottom:"top",left:"right"},p1=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=sj(f1,r),o=ij[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(nj,{...s,ref:n,style:{...s.style,display:"block"}})})});p1.displayName=f1;function oj(t){return t!==null}var aj=t=>({name:"transformOrigin",options:t,fn(e){var S,x,E;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=m1(n),d={start:"0%",center:"50%",end:"100%"}[h],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,g=(((E=s.arrow)==null?void 0:E.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?d:`${p}px`,y=`${-l}px`):c==="top"?(v=o?d:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?d:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=o?d:`${g}px`),{data:{x:v,y}}}});function m1(t){const[e,n="center"]=t.split("-");return[e,n]}var lj=d1,cj=h1,uj=p1,dj="Portal",g1=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=w.useState(!1);zs(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?HS.createPortal(f.jsx(Ge.div,{...r,ref:e}),o):null});g1.displayName=dj;function hj(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var wa=t=>{const{present:e,children:n}=t,r=fj(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=ut(r.ref,pj(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};wa.displayName="Presence";function fj(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=hj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=vu(r.current);i.current=a==="mounted"?c:"none"},[a]),zs(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,g=vu(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),zs(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,d=g=>{const y=vu(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=g=>{g.target===e&&(i.current=vu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function vu(t){return(t==null?void 0:t.animationName)||"none"}function pj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mj=Symbol("radix.slottable");function gj(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=mj,e}var yj=yh[" useInsertionEffect ".trim().toString()]||zs;function dc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=vj({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=w.useRef(t!==void 0);w.useEffect(()=>{const d=h.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=w.useCallback(h=>{var d;if(a){const p=wj(h)?h(t):h;p!==t&&((d=o.current)==null||d.call(o,p))}else i(h)},[a,t,i,o]);return[l,c]}function vj({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),i=w.useRef(e);return yj(()=>{i.current=e},[e]),w.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function wj(t){return typeof t=="function"}var xj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_j="VisuallyHidden",y1=w.forwardRef((t,e)=>f.jsx(Ge.span,{...t,ref:e,style:{...xj,...t.style}}));y1.displayName=_j;var bj=y1,[Lh]=ei("Tooltip",[l1]),Oy=l1(),v1="TooltipProvider",Ej=700,Ix="tooltip.open",[Tj,w1]=Lh(v1),x1=t=>{const{__scopeTooltip:e,delayDuration:n=Ej,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=w.useRef(!0),a=w.useRef(!1),l=w.useRef(0);return w.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(Tj,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};x1.displayName=v1;var _1="Tooltip",[EH,Fh]=Lh(_1),$m="TooltipTrigger",Sj=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fh($m,n),i=w1($m,n),o=Oy(n),a=w.useRef(null),l=ut(e,a,s.onTriggerChange),c=w.useRef(!1),h=w.useRef(!1),d=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(lj,{asChild:!0,...o,children:f.jsx(Ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Fe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Fe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Fe(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Fe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Fe(t.onBlur,s.onClose),onClick:Fe(t.onClick,s.onClose)})})});Sj.displayName=$m;var Cj="TooltipPortal",[TH,kj]=Lh(Cj,{forceMount:void 0}),Zo="TooltipContent",Aj=w.forwardRef((t,e)=>{const n=kj(Zo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Fh(Zo,t.__scopeTooltip);return f.jsx(wa,{present:r||o.open,children:o.disableHoverableContent?f.jsx(b1,{side:s,...i,ref:e}):f.jsx(Ij,{side:s,...i,ref:e})})}),Ij=w.forwardRef((t,e)=>{const n=Fh(Zo,t.__scopeTooltip),r=w1(Zo,t.__scopeTooltip),s=w.useRef(null),i=ut(e,s),[o,a]=w.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:d}=r,p=w.useCallback(()=>{a(null),d(!1)},[d]),g=w.useCallback((v,y)=>{const S=v.currentTarget,x={x:v.clientX,y:v.clientY},E=Mj(x,S.getBoundingClientRect()),T=jj(x,E),k=Vj(y.getBoundingClientRect()),N=Lj([...T,...k]);a(N),d(!0)},[d]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(l&&h){const v=S=>g(S,h),y=S=>g(S,l);return l.addEventListener("pointerleave",v),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",y)}}},[l,h,g,p]),w.useEffect(()=>{if(o){const v=y=>{const S=y.target,x={x:y.clientX,y:y.clientY},E=(l==null?void 0:l.contains(S))||(h==null?void 0:h.contains(S)),T=!Oj(x,o);E?p():T&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,h,o,c,p]),f.jsx(b1,{...t,ref:i})}),[Pj,Rj]=Lh(_1,{isInside:!1}),Nj=gj("TooltipContent"),b1=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Fh(Zo,n),c=Oy(n),{onClose:h}=l;return w.useEffect(()=>(document.addEventListener(Ix,h),()=>document.removeEventListener(Ix,h)),[h]),w.useEffect(()=>{if(l.trigger){const d=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,h]),f.jsx(Ay,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:f.jsxs(cj,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(Nj,{children:r}),f.jsx(Pj,{scope:n,isInside:!0,children:f.jsx(bj,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Aj.displayName=Zo;var E1="TooltipArrow",Dj=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Oy(n);return Rj(E1,n).isInside?null:f.jsx(uj,{...s,...r,ref:e})});Dj.displayName=E1;function Mj(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function jj(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Vj(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Oj(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,h=a.y,d=l.x,p=l.y;h>r!=p>r&&n<(d-c)*(r-h)/(p-h)+c&&(s=!s)}return s}function Lj(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Fj(e)}function Fj(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Bj=x1;function T1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=T1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function S1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=T1(t))&&(r&&(r+=" "),r+=e);return r}const Uj=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},$j=(t,e)=>({classGroupId:t,validator:e}),C1=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Fd="-",Px=[],zj="arbitrary..",Wj=t=>{const e=Gj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Hj(o);const a=o.split(Fd),l=a[0]===""&&a.length>1?1:0;return k1(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],c=n[o];return l?c?Uj(c,l):l:c||Px}return n[o]||Px}}},k1=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],i=n.nextPart.get(s);if(i){const c=k1(t,e+1,i);if(c)return c}const o=n.validators;if(o===null)return;const a=e===0?t.join(Fd):t.slice(e).join(Fd),l=o.length;for(let c=0;c<l;c++){const h=o[c];if(h.validator(a))return h.classGroupId}},Hj=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?zj+r:void 0})(),Gj=t=>{const{theme:e,classGroups:n}=t;return qj(n,e)},qj=(t,e)=>{const n=C1();for(const r in t){const s=t[r];Ly(s,n,r,e)}return n},Ly=(t,e,n,r)=>{const s=t.length;for(let i=0;i<s;i++){const o=t[i];Kj(o,e,n,r)}},Kj=(t,e,n,r)=>{if(typeof t=="string"){Qj(t,e,n);return}if(typeof t=="function"){Yj(t,e,n,r);return}Xj(t,e,n,r)},Qj=(t,e,n)=>{const r=t===""?e:A1(e,t);r.classGroupId=n},Yj=(t,e,n,r)=>{if(Jj(t)){Ly(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push($j(n,t))},Xj=(t,e,n,r)=>{const s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,l]=s[o];Ly(l,A1(e,a),n,r)}},A1=(t,e)=>{let n=t;const r=e.split(Fd),s=r.length;for(let i=0;i<s;i++){const o=r[i];let a=n.nextPart.get(o);a||(a=C1(),n.nextPart.set(o,a)),n=a}return n},Jj=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Zj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(i,o)=>{n[i]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},zm="!",Rx=":",eV=[],Nx=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),tV=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,c;const h=s.length;for(let y=0;y<h;y++){const S=s[y];if(o===0&&a===0){if(S===Rx){i.push(s.slice(l,y)),l=y+1;continue}if(S==="/"){c=y;continue}}S==="["?o++:S==="]"?o--:S==="("?a++:S===")"&&a--}const d=i.length===0?s:s.slice(l);let p=d,g=!1;d.endsWith(zm)?(p=d.slice(0,-1),g=!0):d.startsWith(zm)&&(p=d.slice(1),g=!0);const v=c&&c>l?c-l:void 0;return Nx(i,g,p,v)};if(e){const s=e+Rx,i=r;r=o=>o.startsWith(s)?i(o.slice(s.length)):Nx(eV,!1,o,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},nV=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],a=o[0]==="[",l=e.has(o);a||l?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},rV=t=>({cache:Zj(t.cacheSize),parseClassName:tV(t),sortModifiers:nV(t),...Wj(t)}),sV=/\s+/,iV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(sV);let l="";for(let c=a.length-1;c>=0;c-=1){const h=a[c],{isExternal:d,modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}=n(h);if(d){l=h+(l.length>0?" "+l:l);continue}let S=!!y,x=r(S?v.substring(0,y):v);if(!x){if(!S){l=h+(l.length>0?" "+l:l);continue}if(x=r(v),!x){l=h+(l.length>0?" "+l:l);continue}S=!1}const E=p.length===0?"":p.length===1?p[0]:i(p).join(":"),T=g?E+zm:E,k=T+x;if(o.indexOf(k)>-1)continue;o.push(k);const N=s(x,S);for(let V=0;V<N.length;++V){const C=N[V];o.push(T+C)}l=h+(l.length>0?" "+l:l)}return l},oV=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=I1(n))&&(s&&(s+=" "),s+=r);return s},I1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=I1(t[r]))&&(n&&(n+=" "),n+=e);return n},aV=(t,...e)=>{let n,r,s,i;const o=l=>{const c=e.reduce((h,d)=>d(h),t());return n=rV(c),r=n.cache.get,s=n.cache.set,i=a,a(l)},a=l=>{const c=r(l);if(c)return c;const h=iV(l,n);return s(l,h),h};return i=o,(...l)=>i(oV(...l))},lV=[],St=t=>{const e=n=>n[t]||lV;return e.isThemeGetter=!0,e},P1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,R1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cV=/^\d+\/\d+$/,uV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lo=t=>cV.test(t),Ie=t=>!!t&&!Number.isNaN(Number(t)),us=t=>!!t&&Number.isInteger(Number(t)),op=t=>t.endsWith("%")&&Ie(t.slice(0,-1)),Pr=t=>uV.test(t),mV=()=>!0,gV=t=>dV.test(t)&&!hV.test(t),N1=()=>!1,yV=t=>fV.test(t),vV=t=>pV.test(t),wV=t=>!ce(t)&&!ue(t),xV=t=>xa(t,j1,N1),ce=t=>P1.test(t),fi=t=>xa(t,V1,gV),ap=t=>xa(t,SV,Ie),Dx=t=>xa(t,D1,N1),_V=t=>xa(t,M1,vV),wu=t=>xa(t,O1,yV),ue=t=>R1.test(t),Ga=t=>_a(t,V1),bV=t=>_a(t,CV),Mx=t=>_a(t,D1),EV=t=>_a(t,j1),TV=t=>_a(t,M1),xu=t=>_a(t,O1,!0),xa=(t,e,n)=>{const r=P1.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},_a=(t,e,n=!1)=>{const r=R1.exec(t);return r?r[1]?e(r[1]):n:!1},D1=t=>t==="position"||t==="percentage",M1=t=>t==="image"||t==="url",j1=t=>t==="length"||t==="size"||t==="bg-size",V1=t=>t==="length",SV=t=>t==="number",CV=t=>t==="family-name",O1=t=>t==="shadow",kV=()=>{const t=St("color"),e=St("font"),n=St("text"),r=St("font-weight"),s=St("tracking"),i=St("leading"),o=St("breakpoint"),a=St("container"),l=St("spacing"),c=St("radius"),h=St("shadow"),d=St("inset-shadow"),p=St("text-shadow"),g=St("drop-shadow"),v=St("blur"),y=St("perspective"),S=St("aspect"),x=St("ease"),E=St("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...k(),ue,ce],V=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],_=()=>[ue,ce,l],A=()=>[lo,"full","auto",..._()],P=()=>[us,"none","subgrid",ue,ce],M=()=>["auto",{span:["full",us,ue,ce]},us,ue,ce],D=()=>[us,"auto",ue,ce],I=()=>["auto","min","max","fr",ue,ce],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",..._()],te=()=>[lo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],O=()=>[t,ue,ce],K=()=>[...k(),Mx,Dx,{position:[ue,ce]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",EV,xV,{size:[ue,ce]}],ve=()=>[op,Ga,fi],j=()=>["","none","full",c,ue,ce],$=()=>["",Ie,Ga,fi],G=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[Ie,op,Mx,Dx],ne=()=>["","none",v,ue,ce],we=()=>["none",Ie,ue,ce],fe=()=>["none",Ie,ue,ce],Ce=()=>[Ie,ue,ce],ke=()=>[lo,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pr],breakpoint:[Pr],color:[mV],container:[Pr],"drop-shadow":[Pr],ease:["in","out","in-out"],font:[wV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pr],shadow:[Pr],spacing:["px",Ie],text:[Pr],"text-shadow":[Pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lo,ce,ue,S]}],container:["container"],columns:[{columns:[Ie,ce,ue,a]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[us,"auto",ue,ce]}],basis:[{basis:[lo,"full","auto",a,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ie,lo,"auto","initial","none",ce]}],grow:[{grow:["",Ie,ue,ce]}],shrink:[{shrink:["",Ie,ue,ce]}],order:[{order:[us,"first","last","none",ue,ce]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[a,"screen",...te()]}],"min-w":[{"min-w":[a,"screen","none",...te()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,Ga,fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ue,ap]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",op,ce]}],"font-family":[{font:[bV,ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ue,ce]}],"line-clamp":[{"line-clamp":[Ie,"none",ue,ap]}],leading:[{leading:[i,..._()]}],"list-image":[{"list-image":["none",ue,ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ue,ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ie,"from-font","auto",ue,fi]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Ie,"auto",ue,ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue,ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue,ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},us,ue,ce],radial:["",ue,ce],conic:[us,ue,ce]},TV,_V]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:ve()}],"gradient-via-pos":[{via:ve()}],"gradient-to-pos":[{to:ve()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ie,ue,ce]}],"outline-w":[{outline:["",Ie,Ga,fi]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",h,xu,wu]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",d,xu,wu]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Ie,fi]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",p,xu,wu]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Ie,ue,ce]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ie]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[ue,ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Ie]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ue,ce]}],filter:[{filter:["","none",ue,ce]}],blur:[{blur:ne()}],brightness:[{brightness:[Ie,ue,ce]}],contrast:[{contrast:[Ie,ue,ce]}],"drop-shadow":[{"drop-shadow":["","none",g,xu,wu]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Ie,ue,ce]}],"hue-rotate":[{"hue-rotate":[Ie,ue,ce]}],invert:[{invert:["",Ie,ue,ce]}],saturate:[{saturate:[Ie,ue,ce]}],sepia:[{sepia:["",Ie,ue,ce]}],"backdrop-filter":[{"backdrop-filter":["","none",ue,ce]}],"backdrop-blur":[{"backdrop-blur":ne()}],"backdrop-brightness":[{"backdrop-brightness":[Ie,ue,ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ie,ue,ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ie,ue,ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ie,ue,ce]}],"backdrop-invert":[{"backdrop-invert":["",Ie,ue,ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ie,ue,ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ie,ue,ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ie,ue,ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ue,ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ie,"initial",ue,ce]}],ease:[{ease:["linear","initial",x,ue,ce]}],delay:[{delay:[Ie,ue,ce]}],animate:[{animate:["none",E,ue,ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ue,ce]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[ue,ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ke()}],"translate-x":[{"translate-x":ke()}],"translate-y":[{"translate-y":ke()}],"translate-z":[{"translate-z":ke()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue,ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue,ce]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Ie,Ga,fi,ap]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},AV=aV(kV);function We(...t){return AV(S1(t))}function IV({delayDuration:t=0,...e}){return f.jsx(Bj,{"data-slot":"tooltip-provider",delayDuration:t,...e})}var PV=Symbol.for("react.lazy"),Bd=yh[" use ".trim().toString()];function RV(t){return typeof t=="object"&&t!==null&&"then"in t}function L1(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===PV&&"_payload"in t&&RV(t._payload)}function Fy(t){const e=DV(t),n=w.forwardRef((r,s)=>{let{children:i,...o}=r;L1(i)&&typeof Bd=="function"&&(i=Bd(i._payload));const a=w.Children.toArray(i),l=a.find(jV);if(l){const c=l.props.children,h=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...o,ref:s,children:w.isValidElement(c)?w.cloneElement(c,void 0,h):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var NV=Fy("Slot");function DV(t){const e=w.forwardRef((n,r)=>{let{children:s,...i}=n;if(L1(s)&&typeof Bd=="function"&&(s=Bd(s._payload)),w.isValidElement(s)){const o=OV(s),a=VV(i,s.props);return s.type!==w.Fragment&&(a.ref=r?cc(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var MV=Symbol("radix.slottable");function jV(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===MV}function VV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function OV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const jx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Vx=S1,F1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Vx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],d=i==null?void 0:i[c];if(h===null)return null;const p=jx(h)||jx(d);return s[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[d,p]=h;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:d,className:p,...g}=h;return Object.entries(g).every(v=>{let[y,S]=v;return Array.isArray(S)?S.includes({...i,...a}[y]):{...i,...a}[y]===S})?[...c,d,p]:c},[]);return Vx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},LV=F1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-transparent shadow-xs hover:bg-accent dark:bg-transparent dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function he({className:t,variant:e,size:n,asChild:r=!1,...s}){const i=r?NV:"button";return f.jsx(i,{"data-slot":"button",className:We(LV({variant:e,size:n,className:t})),...s})}function Ot({className:t,...e}){return f.jsx("div",{"data-slot":"card",className:We("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function ea({className:t,...e}){return f.jsx("div",{"data-slot":"card-header",className:We("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function ta({className:t,...e}){return f.jsx("div",{"data-slot":"card-title",className:We("leading-none font-semibold",t),...e})}function Ud({className:t,...e}){return f.jsx("div",{"data-slot":"card-description",className:We("text-muted-foreground text-sm",t),...e})}function Lt({className:t,...e}){return f.jsx("div",{"data-slot":"card-content",className:We("px-6",t),...e})}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pe=(t,e)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},h)=>w.createElement("svg",{ref:h,...FV,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${BV(t)}`,a].join(" "),...c},[...e.map(([d,p])=>w.createElement(d,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=Pe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=Pe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Pe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=Pe("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=Pe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=Pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Pe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=Pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=Pe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=Pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Pe("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=Pe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Pe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=Pe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Pe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=Pe("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=Pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Pe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Pe("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function hO(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var W1={exports:{}},H1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=w;function fO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pO=typeof Object.is=="function"?Object.is:fO,mO=na.useState,gO=na.useEffect,yO=na.useLayoutEffect,vO=na.useDebugValue;function wO(t,e){var n=e(),r=mO({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return yO(function(){s.value=n,s.getSnapshot=e,dp(s)&&i({inst:s})},[t,n,e]),gO(function(){return dp(s)&&i({inst:s}),t(function(){dp(s)&&i({inst:s})})},[t]),vO(n),n}function dp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pO(t,n)}catch{return!0}}function xO(t,e){return e()}var _O=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xO:wO;H1.useSyncExternalStore=na.useSyncExternalStore!==void 0?na.useSyncExternalStore:_O;W1.exports=H1;var bO=W1.exports;const EO=yh.useInsertionEffect,TO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G1=TO?w.useLayoutEffect:w.useEffect,SO=EO||G1,Uy=t=>{const e=w.useRef([t,(...n)=>e[0](...n)]).current;return SO(()=>{e[0]=t}),e[1]},CO="popstate",$y="pushState",zy="replaceState",kO="hashchange",Bx=[CO,$y,zy,kO],AO=t=>{for(const e of Bx)addEventListener(e,t);return()=>{for(const e of Bx)removeEventListener(e,t)}},q1=(t,e)=>bO.useSyncExternalStore(AO,t,e),Ux=()=>location.search,IO=({ssrSearch:t}={})=>q1(Ux,t!=null?()=>t:Ux),$x=()=>location.pathname,PO=({ssrPath:t}={})=>q1($x,t!=null?()=>t:$x),RO=(t,{replace:e=!1,state:n=null}={})=>history[e?zy:$y](n,"",t),NO=(t={})=>[PO(t),RO],zx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[zx]>"u"){for(const t of[$y,zy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,zx,{value:!0})}const DO=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",K1=(t="")=>t==="/"?"":t,MO=(t,e)=>t[0]==="~"?t.slice(1):K1(e)+t,jO=(t="",e)=>DO(Wx(K1(t)),Wx(e)),Wx=t=>{try{return decodeURI(t)}catch{return t}},Q1={hook:NO,searchHook:IO,parser:hO,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},Y1=w.createContext(Q1),ba=()=>w.useContext(Y1),X1={},J1=w.createContext(X1),VO=()=>w.useContext(J1),hc=t=>{const[e,n]=t.hook(t);return[jO(t.base,e),Uy((r,s)=>n(MO(r,t.base),s))]},OO=()=>hc(ba()),Z1=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((d,p)=>[d,l[p]])):o.groups;let h={...l};return c&&Object.assign(h,c),h})(),...r?[a]:[]]:[!1,null]},LO=({children:t,...e})=>{var h,d,p;const n=ba(),r=e.hook?Q1:n;let s=r;const[i,o=e.ssrSearch??""]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];i&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs),e.searchHook=e.searchHook??((p=e.hook)==null?void 0:p.searchHook);let a=w.useRef({}),l=a.current,c=l;for(let g in r){const v=g==="base"?r[g]+(e[g]??""):e[g]??r[g];l===c&&v!==c[g]&&(a.current=c={...c}),c[g]=v,(v!==r[g]||v!==s[g])&&(s=c)}return w.createElement(Y1.Provider,{value:s,children:t})},Hx=({children:t,component:e},n)=>e?w.createElement(e,{params:n}):typeof t=="function"?t(n):t,FO=t=>{let e=w.useRef(X1);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},_u=({path:t,nest:e,match:n,...r})=>{const s=ba(),[i]=hc(s),[o,a,l]=n??Z1(s.parser,t,i,e),c=FO({...VO(),...a});if(!o)return null;const h=l?w.createElement(LO,{base:l},Hx(r,c)):Hx(r,c);return w.createElement(J1.Provider,{value:c,children:h})};w.forwardRef((t,e)=>{const n=ba(),[r,s]=hc(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:h,replace:d,state:p,...g}=t,v=Uy(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),s(o,t)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&w.isValidElement(c)?w.cloneElement(c,{onClick:v,href:y}):w.createElement("a",{...g,onClick:v,href:y,className:h!=null&&h.call?h(r===o):h,children:c,ref:e})});const eC=t=>Array.isArray(t)?t.flatMap(e=>eC(e&&e.type===w.Fragment?e.props.children:e)):[t],BO=({children:t,location:e})=>{const n=ba(),[r]=hc(n);for(const s of eC(t)){let i=0;if(w.isValidElement(s)&&(i=Z1(n.parser,s.props.path,e||r,s.props.nest))[0])return w.cloneElement(s,{match:i})}return null},UO=t=>{const{to:e,href:n=e}=t,r=ba(),[,s]=hc(r),i=Uy(()=>s(e||n,t)),{ssrContext:o}=r;return G1(()=>{i()},[]),o&&(o.redirectTo=e),null};function $O(){const[,t]=OO(),e=()=>{t("/")};return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:f.jsx(Ot,{className:"w-full max-w-lg mx-4 shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:f.jsxs(Lt,{className:"pt-8 pb-8 text-center",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 bg-red-100 rounded-full animate-pulse"}),f.jsx(UV,{className:"relative h-16 w-16 text-red-500"})]})}),f.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"404"}),f.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Page Not Found"}),f.jsxs("p",{className:"text-slate-600 mb-8 leading-relaxed",children:["Sorry, the page you are looking for doesn't exist.",f.jsx("br",{}),"It may have been moved or deleted."]}),f.jsx("div",{id:"not-found-button-group",className:"flex flex-col sm:flex-row gap-3 justify-center",children:f.jsxs(he,{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",children:[f.jsx(KV,{className:"w-4 h-4 mr-2"}),"Go Home"]})})]})})})}class zO extends w.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){var e;return this.state.hasError?f.jsx("div",{className:"flex items-center justify-center min-h-screen p-8 bg-background",children:f.jsxs("div",{className:"flex flex-col items-center w-full max-w-2xl p-8",children:[f.jsx(B1,{size:48,className:"text-destructive mb-6 flex-shrink-0"}),f.jsx("h2",{className:"text-xl mb-4",children:"An unexpected error occurred."}),f.jsx("div",{className:"p-4 w-full rounded bg-muted overflow-auto mb-6",children:f.jsx("pre",{className:"text-sm text-muted-foreground whitespace-break-spaces",children:(e=this.state.error)==null?void 0:e.stack})}),f.jsxs("button",{onClick:()=>window.location.reload(),className:We("flex items-center gap-2 px-4 py-2 rounded-lg","bg-primary text-primary-foreground","hover:opacity-90 cursor-pointer"),children:[f.jsx(By,{size:16}),"Reload Page"]})]})}):this.props.children}}const WO=w.createContext(void 0);function HO({children:t,defaultTheme:e="light",switchable:n=!1}){const[r,s]=w.useState(()=>n&&localStorage.getItem("theme")||e);w.useEffect(()=>{const o=document.documentElement;r==="dark"?o.classList.add("dark"):o.classList.remove("dark"),n&&localStorage.setItem("theme",r)},[r,n]);const i=n?()=>{s(o=>o==="light"?"dark":"light")}:void 0;return f.jsx(WO.Provider,{value:{theme:r,toggleTheme:i,switchable:n},children:t})}var Gx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},GO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},nC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[h],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new qO;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KO=function(t){const e=tC(t);return nC.encodeByteArray(e,!0)},zd=function(t){return KO(t).replace(/\./g,"")},rC=function(t){try{return nC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=()=>QO().__FIREBASE_DEFAULTS__,XO=()=>{if(typeof process>"u"||typeof Gx>"u")return;const t=Gx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rC(t[1]);return e&&JSON.parse(e)},Bh=()=>{try{return YO()||XO()||JO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sC=t=>{var e,n;return(n=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZO=t=>{const e=sC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iC=()=>{var t;return(t=Bh())===null||t===void 0?void 0:t.config},oC=t=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zd(JSON.stringify(n)),zd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function rL(){var t;const e=(t=Bh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aL(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lL(){return!rL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cL(){try{return typeof indexedDB=="object"}catch{return!1}}function uL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dL,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?hL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new rs(s,a,r)}}function hL(t,e){return t.replace(fL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const fL=/\{\$([^}]+)}/g;function pL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(qx(i)&&qx(o)){if(!Wd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function el(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mL(t,e){const n=new gL(t,e);return n.subscribe.bind(n)}class gL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=hp),s.error===void 0&&(s.error=hp),s.complete===void 0&&(s.complete=hp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xL(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wL(t){return t===wi?void 0:t}function xL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const bL={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},EL=De.INFO,TL={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},SL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=TL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wy{constructor(e){this.name=e,this._logLevel=EL,this._logHandler=SL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const CL=(t,e)=>e.some(n=>t instanceof n);let Kx,Qx;function kL(){return Kx||(Kx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AL(){return Qx||(Qx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aC=new WeakMap,Wm=new WeakMap,lC=new WeakMap,fp=new WeakMap,Hy=new WeakMap;function IL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Vs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aC.set(n,t)}).catch(()=>{}),Hy.set(e,t),e}function PL(t){if(Wm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Wm.set(t,e)}let Hm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RL(t){Hm=t(Hm)}function NL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pp(this),e,...n);return lC.set(r,e.sort?e.sort():[e]),Vs(r)}:AL().includes(t)?function(...e){return t.apply(pp(this),e),Vs(aC.get(this))}:function(...e){return Vs(t.apply(pp(this),e))}}function DL(t){return typeof t=="function"?NL(t):(t instanceof IDBTransaction&&PL(t),CL(t,kL())?new Proxy(t,Hm):t)}function Vs(t){if(t instanceof IDBRequest)return IL(t);if(fp.has(t))return fp.get(t);const e=DL(t);return e!==t&&(fp.set(t,e),Hy.set(e,t)),e}const pp=t=>Hy.get(t);function ML(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Vs(o.result),l.oldVersion,l.newVersion,Vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jL=["get","getKey","getAll","getAllKeys","count"],VL=["put","add","delete","clear"],mp=new Map;function Yx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=VL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jL.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return mp.set(e,i),i}RL(t=>({...t,get:(e,n,r)=>Yx(e,n)||t.get(e,n,r),has:(e,n)=>!!Yx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gm="@firebase/app",Xx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Wy("@firebase/app"),FL="@firebase/app-compat",BL="@firebase/analytics-compat",UL="@firebase/analytics",$L="@firebase/app-check-compat",zL="@firebase/app-check",WL="@firebase/auth",HL="@firebase/auth-compat",GL="@firebase/database",qL="@firebase/data-connect",KL="@firebase/database-compat",QL="@firebase/functions",YL="@firebase/functions-compat",XL="@firebase/installations",JL="@firebase/installations-compat",ZL="@firebase/messaging",e4="@firebase/messaging-compat",t4="@firebase/performance",n4="@firebase/performance-compat",r4="@firebase/remote-config",s4="@firebase/remote-config-compat",i4="@firebase/storage",o4="@firebase/storage-compat",a4="@firebase/firestore",l4="@firebase/vertexai-preview",c4="@firebase/firestore-compat",u4="firebase",d4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",h4={[Gm]:"fire-core",[FL]:"fire-core-compat",[UL]:"fire-analytics",[BL]:"fire-analytics-compat",[zL]:"fire-app-check",[$L]:"fire-app-check-compat",[WL]:"fire-auth",[HL]:"fire-auth-compat",[GL]:"fire-rtdb",[qL]:"fire-data-connect",[KL]:"fire-rtdb-compat",[QL]:"fire-fn",[YL]:"fire-fn-compat",[XL]:"fire-iid",[JL]:"fire-iid-compat",[ZL]:"fire-fcm",[e4]:"fire-fcm-compat",[t4]:"fire-perf",[n4]:"fire-perf-compat",[r4]:"fire-rc",[s4]:"fire-rc-compat",[i4]:"fire-gcs",[o4]:"fire-gcs-compat",[a4]:"fire-fst",[c4]:"fire-fst-compat",[l4]:"fire-vertex","fire-js":"fire-js",[u4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new Map,f4=new Map,Km=new Map;function Jx(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ra(t){const e=t.name;if(Km.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,t);for(const n of Hd.values())Jx(n,t);for(const n of f4.values())Jx(n,t);return!0}function Gy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new fc("app","Firebase",p4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=d4;function cC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Os.create("bad-app-name",{appName:String(s)});if(n||(n=iC()),!n)throw Os.create("no-options");const i=Hd.get(s);if(i){if(Wd(n,i.options)&&Wd(r,i.config))return i;throw Os.create("duplicate-app",{appName:s})}const o=new _L(s);for(const l of Km.values())o.addComponent(l);const a=new m4(n,r,o);return Hd.set(s,a),a}function uC(t=qm){const e=Hd.get(t);if(!e&&t===qm&&iC())return cC();if(!e)throw Os.create("no-app",{appName:t});return e}function Ls(t,e,n){var r;let s=(r=h4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}ra(new Fi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="firebase-heartbeat-database",y4=1,Gl="firebase-heartbeat-store";let gp=null;function dC(){return gp||(gp=ML(g4,y4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),gp}async function v4(t){try{const n=(await dC()).transaction(Gl),r=await n.objectStore(Gl).get(hC(t));return await n.done,r}catch(e){if(e instanceof rs)Yr.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yr.warn(n.message)}}}async function Zx(t,e){try{const r=(await dC()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,hC(t)),await r.done}catch(n){if(n instanceof rs)Yr.warn(n.message);else{const r=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yr.warn(r.message)}}}function hC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=1024,x4=30*24*60*60*1e3;class _4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=e_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=x4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e_(),{heartbeatsToSend:r,unsentEntries:s}=b4(this._heartbeatsCache.heartbeats),i=zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Yr.warn(n),""}}}function e_(){return new Date().toISOString().substring(0,10)}function b4(t,e=w4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),t_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),t_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cL()?uL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await v4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Zx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Zx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function t_(t){return zd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){ra(new Fi("platform-logger",e=>new OL(e),"PRIVATE")),ra(new Fi("heartbeat",e=>new _4(e),"PRIVATE")),Ls(Gm,Xx,t),Ls(Gm,Xx,"esm2017"),Ls("fire-js","")}T4("");var dr=function(){return dr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dr.apply(this,arguments)};function mc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function S4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function fC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C4=fC,pC=new fc("auth","Firebase",fC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Wy("@firebase/auth");function k4(t,...e){Gd.logLevel<=De.WARN&&Gd.warn(`Auth (${Ea}): ${t}`,...e)}function Ju(t,...e){Gd.logLevel<=De.ERROR&&Gd.error(`Auth (${Ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,...e){throw qy(t,...e)}function yr(t,...e){return qy(t,...e)}function mC(t,e,n){const r=Object.assign(Object.assign({},C4()),{[e]:n});return new fc("auth","Firebase",r).create(e,{appName:t.name})}function Br(t){return mC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pC.create(t,...e)}function _e(t,e,...n){if(!t)throw qy(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ju(e),new Error(e)}function Xr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function A4(){return n_()==="http:"||n_()==="https:"}function n_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A4()||iL()||"connection"in navigator)?navigator.onLine:!0}function P4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=nL()||oL()}get(){return I4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){Xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new gc(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ss(t,e,n,r,s={}){return yC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=pc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return sL()||(c.referrerPolicy="no-referrer"),gC.fetch()(vC(t,t.config.apiHost,n,a),c)})}async function yC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},R4),e);try{const s=new M4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mC(t,h,c);rr(t,h)}}catch(s){if(s instanceof rs)throw s;rr(t,"network-request-failed",{message:String(s)})}}async function yc(t,e,n,r,s={}){const i=await ss(t,e,n,r,s);return"mfaPendingCredential"in i&&rr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function vC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ky(t.config,s):`${t.config.apiScheme}://${s}`}function D4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),N4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yr(t,e,r);return s.customData._tokenResponse=n,s}function r_(t){return t!==void 0&&t.enterprise!==void 0}class j4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return D4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function V4(t,e){return ss(t,"GET","/v2/recaptchaConfig",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e){return ss(t,"POST","/v1/accounts:delete",e)}async function wC(t,e){return ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L4(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),s=Qy(r);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:vl(yp(s.auth_time)),issuedAtTime:vl(yp(s.iat)),expirationTime:vl(yp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function yp(t){return Number(t)*1e3}function Qy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{const s=rC(n);return s?JSON.parse(s):(Ju("Failed to decode base64 JWT payload"),null)}catch(s){return Ju("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function s_(t){const e=Qy(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&F4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function F4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await sa(t,wC(n,{idToken:r}));_e(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?xC(i.providerUserInfo):[],a=$4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ym(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function U4(t){const e=Tt(t);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function xC(t){return t.map(e=>{var{providerId:n}=e,r=mc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e){const n=await yC(t,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=vC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W4(t,e){return ss(t,"POST","/v2/accounts:revokeToken",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=s_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await z4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Fo;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(_e(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(_e(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=mc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ym(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await sa(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L4(this,e)}reload(){return U4(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await sa(this,O4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:k,isAnonymous:N,providerData:V,stsTokenManager:C}=n;_e(T&&C,e,"internal-error");const _=Fo.fromJSON(this.name,C);_e(typeof T=="string",e,"internal-error"),ds(d,e.name),ds(p,e.name),_e(typeof k=="boolean",e,"internal-error"),_e(typeof N=="boolean",e,"internal-error"),ds(g,e.name),ds(v,e.name),ds(y,e.name),ds(S,e.name),ds(x,e.name),ds(E,e.name);const A=new Vr({uid:T,auth:e,email:p,emailVerified:k,displayName:d,isAnonymous:N,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:_,createdAt:x,lastLoginAt:E});return V&&Array.isArray(V)&&(A.providerData=V.map(P=>Object.assign({},P))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new Fo;s.updateFromServerResponse(n);const i=new Vr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];_e(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?xC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Fo;a.updateFromIdToken(r);const l=new Vr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ym(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;function Or(t){Xr(t instanceof Function,"Expected a class definition");let e=i_.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_C.type="NONE";const o_=_C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Zu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Zu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bo(Or(o_),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Or(o_);const o=Zu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=Vr._fromJSON(e,h);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Bo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Bo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kC(e))return"Blackberry";if(AC(e))return"Webos";if(EC(e))return"Safari";if((e.includes("chrome/")||TC(e))&&!e.includes("edge/"))return"Chrome";if(CC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bC(t=nn()){return/firefox\//i.test(t)}function EC(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TC(t=nn()){return/crios\//i.test(t)}function SC(t=nn()){return/iemobile/i.test(t)}function CC(t=nn()){return/android/i.test(t)}function kC(t=nn()){return/blackberry/i.test(t)}function AC(t=nn()){return/webos/i.test(t)}function Yy(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H4(t=nn()){var e;return Yy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G4(){return aL()&&document.documentMode===10}function IC(t=nn()){return Yy(t)||CC(t)||AC(t)||kC(t)||/windows phone/i.test(t)||SC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e=[]){let n;switch(t){case"Browser":n=a_(nn());break;case"Worker":n=`${a_(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t,e={}){return ss(t,"GET","/v2/passwordPolicy",ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=6;class Y4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Q4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l_(this),this.idTokenSubscription=new l_(this),this.beforeStateQueue=new q4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wC(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Br(this));const n=e?Tt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K4(this),n=new Y4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qi(t){return Tt(t)}class l_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mL(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J4(t){Uh=t}function RC(t){return Uh.loadJS(t)}function Z4(){return Uh.recaptchaEnterpriseScript}function eF(){return Uh.gapiScript}function tF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const nF="recaptcha-enterprise",rF="NO_RECAPTCHA";class sF{constructor(e){this.type=nF,this.auth=Qi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{V4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new j4(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;r_(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(rF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&r_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Z4();l.length!==0&&(l+=a),RC(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function c_(t,e,n,r=!1){const s=new sF(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Xm(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await c_(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await c_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t,e){const n=Gy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Wd(i,e??{}))return s;rr(s,"already-initialized")}return n.initialize({options:e})}function oF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aF(t,e,n){const r=Qi(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=NC(e),{host:o,port:a}=lF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),cF()}function NC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lF(t){const e=NC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:u_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:u_(o)}}}function u_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function uF(t,e){return ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e){return yc(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hF(t,e){return yc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}async function fF(t,e){return yc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Xy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,n,"signInWithPassword",dF);case"emailLink":return hF(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,r,"signUpPassword",uF);case"emailLink":return fF(e,{idToken:n,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return yc(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="http://localhost";class Bi extends Xy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=mc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Bi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:pF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gF(t){const e=el(tl(t)).link,n=e?el(tl(e)).deep_link_id:null,r=el(tl(t)).deep_link_id;return(r?el(tl(r)).link:null)||r||n||e||t}class Jy{constructor(e){var n,r,s,i,o,a;const l=el(tl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=mF((s=l.mode)!==null&&s!==void 0?s:null);_e(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=gF(e);try{return new Jy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,n){return ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jy.parseLink(n);return _e(r,"argument-error"),ql._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends DC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends vc{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends vc{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends vc{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e){return yc(t,"POST","/v1/accounts:signUp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Vr._fromIdTokenResponse(e,r,s),o=d_(r);return new Ui({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=d_(r);return new Ui({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function d_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends rs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Kd(e,n,r,s)}}function MC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(t,i,e,r):i})}async function vF(t,e,n=!1){const r=await sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ui._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(Br(r));const s="reauthenticate";try{const i=await sa(t,MC(r,s,e,t),n);_e(i.idToken,r,"internal-error");const o=Qy(i.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),Ui._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(t,e,n=!1){if(fr(t.app))return Promise.reject(Br(t));const r="signIn",s=await MC(t,r,e),i=await Ui._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function xF(t,e){return jC(Qi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(t){const e=Qi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _F(t,e,n){if(fr(t.app))return Promise.reject(Br(t));const r=Qi(t),o=await Xm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&VC(t),l}),a=await Ui._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function bF(t,e,n){return fr(t.app)?Promise.reject(Br(t)):xF(Tt(t),Ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e){return ss(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Tt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await sa(r,EF(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function SF(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function CF(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function OC(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}function kF(t){return Tt(t).signOut()}const Qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=1e3,IF=10;class FC extends LC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);G4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FC.type="LOCAL";const PF=FC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends LC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BC.type="SESSION";const UC=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await RF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Zy("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function DF(t){vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function MF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VF(){return $C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebaseLocalStorageDb",OF=1,Yd="firebaseLocalStorage",WC="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(t,e){return t.transaction([Yd],e?"readwrite":"readonly").objectStore(Yd)}function LF(){const t=indexedDB.deleteDatabase(zC);return new wc(t).toPromise()}function Jm(){const t=indexedDB.open(zC,OF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yd,{keyPath:WC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yd)?e(r):(r.close(),await LF(),e(await Jm()))})})}async function h_(t,e,n){const r=zh(t,!0).put({[WC]:e,value:n});return new wc(r).toPromise()}async function FF(t,e){const n=zh(t,!1).get(e),r=await new wc(n).toPromise();return r===void 0?null:r.value}function f_(t,e){const n=zh(t,!0).delete(e);return new wc(n).toPromise()}const BF=800,UF=3;class HC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(VF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MF(),!this.activeServiceWorker)return;this.sender=new NF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await h_(e,Qd,"1"),await f_(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>h_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=zh(s,!1).getAll();return new wc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HC.type="LOCAL";const $F=HC;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t,e){return e?Or(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends Xy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WF(t){return jC(t.auth,new ev(t),t.bypassAuthState)}function HF(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),wF(n,new ev(t),t.bypassAuthState)}async function GF(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),vF(n,new ev(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WF;case"linkViaPopup":case"linkViaRedirect":return GF;case"reauthViaPopup":case"reauthViaRedirect":return HF;default:rr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new gc(2e3,1e4);class ko extends GC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=Zy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qF.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="pendingRedirect",ed=new Map;class QF extends GC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ed.get(this.auth._key());if(!e){try{const r=await YF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ed.set(this.auth._key(),e)}return this.bypassAuthState||ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YF(t,e){const n=ZF(e),r=JF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function XF(t,e){ed.set(t._key(),e)}function JF(t){return Or(t._redirectPersistence)}function ZF(t){return Zu(KF,t.config.apiKey,t.name)}async function e5(t,e,n=!1){if(fr(t.app))return Promise.reject(Br(t));const r=Qi(t),s=zF(r,e),o=await new QF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=10*60*1e3;class n5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t5&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(e))}saveEventToCache(e){this.cachedEventUids.add(p_(e)),this.lastProcessedEventTime=Date.now()}}function p_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,e={}){return ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o5=/^https?/;async function a5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s5(t);for(const n of e)try{if(l5(n))return}catch{}rr(t,"unauthorized-domain")}function l5(t){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!o5.test(n))return!1;if(i5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new gc(3e4,6e4);function m_(){const t=vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u5(t){return new Promise((e,n)=>{var r,s,i;function o(){m_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m_(),n(yr(t,"network-request-failed"))},timeout:c5.get()})}if(!((s=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=vr().gapi)===null||i===void 0)&&i.load)o();else{const a=tF("iframefcb");return vr()[a]=()=>{gapi.load?o():n(yr(t,"network-request-failed"))},RC(`${eF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw td=null,e})}let td=null;function d5(t){return td=td||u5(t),td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new gc(5e3,15e3),f5="__/auth/iframe",p5="emulator/auth/iframe",m5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y5(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ky(e,p5):`https://${t.config.authDomain}/${f5}`,r={apiKey:e.apiKey,appName:t.name,v:Ea},s=g5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${pc(r).slice(1)}`}async function v5(t){const e=await d5(t),n=vr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:y5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=yr(t,"network-request-failed"),a=vr().setTimeout(()=>{i(o)},h5.get());function l(){vr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x5=500,_5=600,b5="_blank",E5="http://localhost";class g_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T5(t,e,n,r=x5,s=_5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},w5),{width:r.toString(),height:s.toString(),top:i,left:o}),c=nn().toLowerCase();n&&(a=TC(c)?b5:n),bC(c)&&(e=e||E5,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(H4(c)&&a!=="_self")return S5(e||"",a),new g_(null);const d=window.open(e||"",a,h);_e(d,t,"popup-blocked");try{d.focus()}catch{}return new g_(d)}function S5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="__/auth/handler",k5="emulator/auth/handler",A5=encodeURIComponent("fac");async function y_(t,e,n,r,s,i){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ea,eventId:s};if(e instanceof DC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof vc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${A5}=${encodeURIComponent(l)}`:"";return`${I5(t)}?${pc(a).slice(1)}${c}`}function I5({config:t}){return t.emulator?Ky(t,k5):`https://${t.authDomain}/${C5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class P5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UC,this._completeRedirectFn=e5,this._overrideRedirectResult=XF}async _openPopup(e,n,r,s){var i;Xr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await y_(e,n,r,Qm(),s);return T5(e,o,Zy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await y_(e,n,r,Qm(),s);return DF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Xr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await v5(e),r=new n5(e);return n.register("authEvent",s=>(_e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vp,{type:vp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[vp];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IC()||EC()||Yy()}}const R5=P5;var v_="@firebase/auth",w_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M5(t){ra(new Fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PC(t)},c=new X4(r,s,i,l);return oF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ra(new Fi("auth-internal",e=>{const n=Qi(e.getProvider("auth").getImmediate());return(r=>new N5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(v_,w_,D5(t)),Ls(v_,w_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=5*60,V5=oC("authIdTokenMaxAge")||j5;let x_=null;const O5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>V5)return;const s=n==null?void 0:n.token;x_!==s&&(x_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function L5(t=uC()){const e=Gy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iF(t,{popupRedirectResolver:R5,persistence:[$F,PF,UC]}),r=oC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=O5(i.toString());CF(n,o,()=>o(n.currentUser)),SF(n,a=>o(a))}}const s=sC("auth");return s&&aF(n,`http://${s}`),n}function F5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}J4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=yr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",F5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M5("Browser");var B5="firebase",U5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(B5,U5,"app");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,KC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function A(){}A.prototype=_.prototype,C.D=_.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(P,M,D){for(var I=Array(arguments.length-2),H=2;H<arguments.length;H++)I[H-2]=arguments[H];return _.prototype[M].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,_,A){A||(A=0);var P=Array(16);if(typeof _=="string")for(var M=0;16>M;++M)P[M]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(M=0;16>M;++M)P[M]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=C.g[0],A=C.g[1],M=C.g[2];var D=C.g[3],I=_+(D^A&(M^D))+P[0]+3614090360&4294967295;_=A+(I<<7&4294967295|I>>>25),I=D+(M^_&(A^M))+P[1]+3905402710&4294967295,D=_+(I<<12&4294967295|I>>>20),I=M+(A^D&(_^A))+P[2]+606105819&4294967295,M=D+(I<<17&4294967295|I>>>15),I=A+(_^M&(D^_))+P[3]+3250441966&4294967295,A=M+(I<<22&4294967295|I>>>10),I=_+(D^A&(M^D))+P[4]+4118548399&4294967295,_=A+(I<<7&4294967295|I>>>25),I=D+(M^_&(A^M))+P[5]+1200080426&4294967295,D=_+(I<<12&4294967295|I>>>20),I=M+(A^D&(_^A))+P[6]+2821735955&4294967295,M=D+(I<<17&4294967295|I>>>15),I=A+(_^M&(D^_))+P[7]+4249261313&4294967295,A=M+(I<<22&4294967295|I>>>10),I=_+(D^A&(M^D))+P[8]+1770035416&4294967295,_=A+(I<<7&4294967295|I>>>25),I=D+(M^_&(A^M))+P[9]+2336552879&4294967295,D=_+(I<<12&4294967295|I>>>20),I=M+(A^D&(_^A))+P[10]+4294925233&4294967295,M=D+(I<<17&4294967295|I>>>15),I=A+(_^M&(D^_))+P[11]+2304563134&4294967295,A=M+(I<<22&4294967295|I>>>10),I=_+(D^A&(M^D))+P[12]+1804603682&4294967295,_=A+(I<<7&4294967295|I>>>25),I=D+(M^_&(A^M))+P[13]+4254626195&4294967295,D=_+(I<<12&4294967295|I>>>20),I=M+(A^D&(_^A))+P[14]+2792965006&4294967295,M=D+(I<<17&4294967295|I>>>15),I=A+(_^M&(D^_))+P[15]+1236535329&4294967295,A=M+(I<<22&4294967295|I>>>10),I=_+(M^D&(A^M))+P[1]+4129170786&4294967295,_=A+(I<<5&4294967295|I>>>27),I=D+(A^M&(_^A))+P[6]+3225465664&4294967295,D=_+(I<<9&4294967295|I>>>23),I=M+(_^A&(D^_))+P[11]+643717713&4294967295,M=D+(I<<14&4294967295|I>>>18),I=A+(D^_&(M^D))+P[0]+3921069994&4294967295,A=M+(I<<20&4294967295|I>>>12),I=_+(M^D&(A^M))+P[5]+3593408605&4294967295,_=A+(I<<5&4294967295|I>>>27),I=D+(A^M&(_^A))+P[10]+38016083&4294967295,D=_+(I<<9&4294967295|I>>>23),I=M+(_^A&(D^_))+P[15]+3634488961&4294967295,M=D+(I<<14&4294967295|I>>>18),I=A+(D^_&(M^D))+P[4]+3889429448&4294967295,A=M+(I<<20&4294967295|I>>>12),I=_+(M^D&(A^M))+P[9]+568446438&4294967295,_=A+(I<<5&4294967295|I>>>27),I=D+(A^M&(_^A))+P[14]+3275163606&4294967295,D=_+(I<<9&4294967295|I>>>23),I=M+(_^A&(D^_))+P[3]+4107603335&4294967295,M=D+(I<<14&4294967295|I>>>18),I=A+(D^_&(M^D))+P[8]+1163531501&4294967295,A=M+(I<<20&4294967295|I>>>12),I=_+(M^D&(A^M))+P[13]+2850285829&4294967295,_=A+(I<<5&4294967295|I>>>27),I=D+(A^M&(_^A))+P[2]+4243563512&4294967295,D=_+(I<<9&4294967295|I>>>23),I=M+(_^A&(D^_))+P[7]+1735328473&4294967295,M=D+(I<<14&4294967295|I>>>18),I=A+(D^_&(M^D))+P[12]+2368359562&4294967295,A=M+(I<<20&4294967295|I>>>12),I=_+(A^M^D)+P[5]+4294588738&4294967295,_=A+(I<<4&4294967295|I>>>28),I=D+(_^A^M)+P[8]+2272392833&4294967295,D=_+(I<<11&4294967295|I>>>21),I=M+(D^_^A)+P[11]+1839030562&4294967295,M=D+(I<<16&4294967295|I>>>16),I=A+(M^D^_)+P[14]+4259657740&4294967295,A=M+(I<<23&4294967295|I>>>9),I=_+(A^M^D)+P[1]+2763975236&4294967295,_=A+(I<<4&4294967295|I>>>28),I=D+(_^A^M)+P[4]+1272893353&4294967295,D=_+(I<<11&4294967295|I>>>21),I=M+(D^_^A)+P[7]+4139469664&4294967295,M=D+(I<<16&4294967295|I>>>16),I=A+(M^D^_)+P[10]+3200236656&4294967295,A=M+(I<<23&4294967295|I>>>9),I=_+(A^M^D)+P[13]+681279174&4294967295,_=A+(I<<4&4294967295|I>>>28),I=D+(_^A^M)+P[0]+3936430074&4294967295,D=_+(I<<11&4294967295|I>>>21),I=M+(D^_^A)+P[3]+3572445317&4294967295,M=D+(I<<16&4294967295|I>>>16),I=A+(M^D^_)+P[6]+76029189&4294967295,A=M+(I<<23&4294967295|I>>>9),I=_+(A^M^D)+P[9]+3654602809&4294967295,_=A+(I<<4&4294967295|I>>>28),I=D+(_^A^M)+P[12]+3873151461&4294967295,D=_+(I<<11&4294967295|I>>>21),I=M+(D^_^A)+P[15]+530742520&4294967295,M=D+(I<<16&4294967295|I>>>16),I=A+(M^D^_)+P[2]+3299628645&4294967295,A=M+(I<<23&4294967295|I>>>9),I=_+(M^(A|~D))+P[0]+4096336452&4294967295,_=A+(I<<6&4294967295|I>>>26),I=D+(A^(_|~M))+P[7]+1126891415&4294967295,D=_+(I<<10&4294967295|I>>>22),I=M+(_^(D|~A))+P[14]+2878612391&4294967295,M=D+(I<<15&4294967295|I>>>17),I=A+(D^(M|~_))+P[5]+4237533241&4294967295,A=M+(I<<21&4294967295|I>>>11),I=_+(M^(A|~D))+P[12]+1700485571&4294967295,_=A+(I<<6&4294967295|I>>>26),I=D+(A^(_|~M))+P[3]+2399980690&4294967295,D=_+(I<<10&4294967295|I>>>22),I=M+(_^(D|~A))+P[10]+4293915773&4294967295,M=D+(I<<15&4294967295|I>>>17),I=A+(D^(M|~_))+P[1]+2240044497&4294967295,A=M+(I<<21&4294967295|I>>>11),I=_+(M^(A|~D))+P[8]+1873313359&4294967295,_=A+(I<<6&4294967295|I>>>26),I=D+(A^(_|~M))+P[15]+4264355552&4294967295,D=_+(I<<10&4294967295|I>>>22),I=M+(_^(D|~A))+P[6]+2734768916&4294967295,M=D+(I<<15&4294967295|I>>>17),I=A+(D^(M|~_))+P[13]+1309151649&4294967295,A=M+(I<<21&4294967295|I>>>11),I=_+(M^(A|~D))+P[4]+4149444226&4294967295,_=A+(I<<6&4294967295|I>>>26),I=D+(A^(_|~M))+P[11]+3174756917&4294967295,D=_+(I<<10&4294967295|I>>>22),I=M+(_^(D|~A))+P[2]+718787259&4294967295,M=D+(I<<15&4294967295|I>>>17),I=A+(D^(M|~_))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var A=_-this.blockSize,P=this.B,M=this.h,D=0;D<_;){if(M==0)for(;D<=A;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<_;)if(P[M++]=C.charCodeAt(D++),M==this.blockSize){s(this,P),M=0;break}}else for(;D<_;)if(P[M++]=C[D++],M==this.blockSize){s(this,P),M=0;break}}this.h=M,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var A=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=A&255,A/=256;for(this.u(C),C=Array(16),_=A=0;4>_;++_)for(var P=0;32>P;P+=8)C[A++]=this.g[_]>>>P&255;return C};function i(C,_){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=_(C)}function o(C,_){this.h=_;for(var A=[],P=!0,M=C.length-1;0<=M;M--){var D=C[M]|0;P&&D==_||(A[M]=D,P=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?i(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return S(c(-C));for(var _=[],A=1,P=0;C>=A;P++)_[P]=C/A|0,A*=4294967296;return new o(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return S(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(_,8)),P=d,M=0;M<C.length;M+=8){var D=Math.min(8,C.length-M),I=parseInt(C.substring(M,M+D),_);8>D?(D=c(Math.pow(_,D)),P=P.j(D).add(c(I))):(P=P.j(A),P=P.add(c(I)))}return P}var d=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-S(this).m();for(var C=0,_=1,A=0;A<this.g.length;A++){var P=this.i(A);C+=(0<=P?P:4294967296+P)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(y(this))return"-"+S(this).toString(C);for(var _=c(Math.pow(C,6)),A=this,P="";;){var M=k(A,_).g;A=x(A,M.j(_));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=M,v(A))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=x(this,C),y(C)?-1:v(C)?0:1};function S(C){for(var _=C.g.length,A=[],P=0;P<_;P++)A[P]=~C.g[P];return new o(A,~C.h).add(p)}t.abs=function(){return y(this)?S(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],P=0,M=0;M<=_;M++){var D=P+(this.i(M)&65535)+(C.i(M)&65535),I=(D>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);P=I>>>16,D&=65535,I&=65535,A[M]=I<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(C,_){return C.add(S(_))}t.j=function(C){if(v(this)||v(C))return d;if(y(this))return y(C)?S(this).j(S(C)):S(S(this).j(C));if(y(C))return S(this.j(S(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var _=this.g.length+C.g.length,A=[],P=0;P<2*_;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<C.g.length;M++){var D=this.i(P)>>>16,I=this.i(P)&65535,H=C.i(M)>>>16,ee=C.i(M)&65535;A[2*P+2*M]+=I*ee,E(A,2*P+2*M),A[2*P+2*M+1]+=D*ee,E(A,2*P+2*M+1),A[2*P+2*M+1]+=I*H,E(A,2*P+2*M+1),A[2*P+2*M+2]+=D*H,E(A,2*P+2*M+2)}for(P=0;P<_;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=_;P<2*_;P++)A[P]=0;return new o(A,0)};function E(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function T(C,_){this.g=C,this.h=_}function k(C,_){if(v(_))throw Error("division by zero");if(v(C))return new T(d,d);if(y(C))return _=k(S(C),_),new T(S(_.g),S(_.h));if(y(_))return _=k(C,S(_)),new T(S(_.g),_.h);if(30<C.g.length){if(y(C)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var A=p,P=_;0>=P.l(C);)A=N(A),P=N(P);var M=V(A,1),D=V(P,1);for(P=V(P,2),A=V(A,2);!v(P);){var I=D.add(P);0>=I.l(C)&&(M=M.add(A),D=I),P=V(P,1),A=V(A,1)}return _=x(C,M.j(_)),new T(M,_)}for(M=d;0<=C.l(_);){for(A=Math.max(1,Math.floor(C.m()/_.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(A),I=D.j(_);y(I)||0<I.l(C);)A-=P,D=c(A),I=D.j(_);v(D)&&(D=p),M=M.add(D),C=x(C,I)}return new T(M,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],P=0;P<_;P++)A[P]=this.i(P)&C.i(P);return new o(A,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],P=0;P<_;P++)A[P]=this.i(P)|C.i(P);return new o(A,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),A=[],P=0;P<_;P++)A[P]=this.i(P)^C.i(P);return new o(A,this.h^C.h)};function N(C){for(var _=C.g.length+1,A=[],P=0;P<_;P++)A[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(A,C.h)}function V(C,_){var A=_>>5;_%=32;for(var P=C.g.length-A,M=[],D=0;D<P;D++)M[D]=0<_?C.i(D+A)>>>_|C.i(D+A+1)<<32-_:C.i(D+A);return new o(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Pi=o}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QC,nl,YC,nd,Zm,XC,JC,ZC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,b){return u==Array.prototype||u==Object.prototype||(u[m]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eu=="object"&&Eu];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var b=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var F=u[R];if(!(F in b))break e;b=b[F]}u=u[u.length-1],R=b[u],m=m(R),m!=R&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var b=0,R=!1,F={next:function(){if(!R&&b<u.length){var U=b++;return{value:m(U,u[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,b){return u.call.apply(u.bind,arguments)}function d(u,m,b){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function p(u,m,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function g(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function v(u,m){function b(){}b.prototype=m.prototype,u.aa=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(R,F,U){for(var Z=Array(arguments.length-2),He=2;He<arguments.length;He++)Z[He-2]=arguments[He];return m.prototype[F].apply(R,Z)}}function y(u){const m=u.length;if(0<m){const b=Array(m);for(let R=0;R<m;R++)b[R]=u[R];return b}return[]}function S(u,m){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(l(R)){const F=u.length||0,U=R.length||0;u.length=F+U;for(let Z=0;Z<U;Z++)u[F+Z]=R[Z]}else u.push(R)}}class x{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var N=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(u,m,b){for(const R in u)m.call(b,u[R],R,u)}function C(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function _(u){const m={};for(const b in u)m[b]=u[b];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let b,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(b in R)u[b]=R[b];for(let U=0;U<A.length;U++)b=A[U],Object.prototype.hasOwnProperty.call(R,b)&&(u[b]=R[b])}}function M(u){var m=1;u=u.split(":");const b=[];for(;0<m&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function D(u){a.setTimeout(()=>{throw u},0)}function I(){var u=K;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class H{constructor(){this.h=this.g=null}add(m,b){const R=ee.get();R.set(m,b),this.h?this.h.next=R:this.g=R,this.h=R}}var ee=new x(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let te,O=!1,K=new H,X=()=>{const u=a.Promise.resolve(void 0);te=()=>{u.then(se)}};var se=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(b){D(b)}var m=ee;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}O=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,m),a.removeEventListener("test",b,m)}catch{}return u}();function G(u,m){if(j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(N){e:{try{k(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement);this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:J[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&G.aa.h.call(this)}}v(G,j);var J={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),ne=0;function we(u,m,b,R,F){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!R,this.ha=F,this.key=++ne,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ce(u){this.src=u,this.g={},this.h=0}Ce.prototype.add=function(u,m,b,R,F){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var Z=dt(u,m,R,F);return-1<Z?(m=u[Z],b||(m.fa=!1)):(m=new we(m,this.src,U,!!R,F),m.fa=b,u.push(m)),m};function ke(u,m){var b=m.type;if(b in u.g){var R=u.g[b],F=Array.prototype.indexOf.call(R,m,void 0),U;(U=0<=F)&&Array.prototype.splice.call(R,F,1),U&&(fe(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function dt(u,m,b,R){for(var F=0;F<u.length;++F){var U=u[F];if(!U.da&&U.listener==m&&U.capture==!!b&&U.ha==R)return F}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),un={};function dn(u,m,b,R,F){if(Array.isArray(m)){for(var U=0;U<m.length;U++)dn(u,m[U],b,R,F);return null}return b=qe(b),u&&u[B]?u.K(m,b,c(R)?!!R.capture:!1,F):vt(u,m,b,!1,R,F)}function vt(u,m,b,R,F,U){if(!m)throw Error("Invalid event type");var Z=c(F)?!!F.capture:!!F,He=ie(u);if(He||(u[Ue]=He=new Ce(u)),b=He.add(m,b,R,Z,U),b.proxy)return b;if(R=zn(),b.proxy=R,R.src=u,R.listener=b,u.addEventListener)$||(F=Z),F===void 0&&(F=!1),u.addEventListener(m.toString(),R,F);else if(u.attachEvent)u.attachEvent(ae(m.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function zn(){function u(b){return m.call(u.src,u.listener,b)}const m=pe;return u}function L(u,m,b,R,F){if(Array.isArray(m))for(var U=0;U<m.length;U++)L(u,m[U],b,R,F);else R=c(R)?!!R.capture:!!R,b=qe(b),u&&u[B]?(u=u.i,m=String(m).toString(),m in u.g&&(U=u.g[m],b=dt(U,b,R,F),-1<b&&(fe(U[b]),Array.prototype.splice.call(U,b,1),U.length==0&&(delete u.g[m],u.h--)))):u&&(u=ie(u))&&(m=u.g[m.toString()],u=-1,m&&(u=dt(m,b,R,F)),(b=-1<u?m[u]:null)&&re(b))}function re(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[B])ke(m.i,u);else{var b=u.type,R=u.proxy;m.removeEventListener?m.removeEventListener(b,R,u.capture):m.detachEvent?m.detachEvent(ae(b),R):m.addListener&&m.removeListener&&m.removeListener(R),(b=ie(m))?(ke(b,u),b.h==0&&(b.src=null,m[Ue]=null)):fe(u)}}}function ae(u){return u in un?un[u]:un[u]="on"+u}function pe(u,m){if(u.da)u=!0;else{m=new G(m,this);var b=u.listener,R=u.ha||u.src;u.fa&&re(u),u=b.call(R,m)}return u}function ie(u){return u=u[Ue],u instanceof Ce?u:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(u){return typeof u=="function"?u:(u[Ye]||(u[Ye]=function(m){return u.handleEvent(m)}),u[Ye])}function Ae(){ve.call(this),this.i=new Ce(this),this.M=this,this.F=null}v(Ae,ve),Ae.prototype[B]=!0,Ae.prototype.removeEventListener=function(u,m,b,R){L(this,u,m,b,R)};function ht(u,m){var b,R=u.F;if(R)for(b=[];R;R=R.F)b.push(R);if(u=u.M,R=m.type||m,typeof m=="string")m=new j(m,u);else if(m instanceof j)m.target=m.target||u;else{var F=m;m=new j(R,u),P(m,F)}if(F=!0,b)for(var U=b.length-1;0<=U;U--){var Z=m.g=b[U];F=ii(Z,R,!0,m)&&F}if(Z=m.g=u,F=ii(Z,R,!0,m)&&F,F=ii(Z,R,!1,m)&&F,b)for(U=0;U<b.length;U++)Z=m.g=b[U],F=ii(Z,R,!1,m)&&F}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var b=u.g[m],R=0;R<b.length;R++)fe(b[R]);delete u.g[m],u.h--}}this.F=null},Ae.prototype.K=function(u,m,b,R){return this.i.add(String(u),m,!1,b,R)},Ae.prototype.L=function(u,m,b,R){return this.i.add(String(u),m,!0,b,R)};function ii(u,m,b,R){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,U=0;U<m.length;++U){var Z=m[U];if(Z&&!Z.da&&Z.capture==b){var He=Z.listener,Mt=Z.ha||Z.src;Z.fa&&ke(u.i,Z),F=He.call(Mt,R)!==!1&&F}}return F&&!R.defaultPrevented}function eo(u,m,b){if(typeof u=="function")b&&(u=p(u,b));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Cr(u){u.g=eo(()=>{u.g=null,u.i&&(u.i=!1,Cr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dc extends ve{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dn(u){ve.call(this),this.h=u,this.g={}}v(Dn,ve);var Mc=[];function jc(u){V(u.g,function(m,b){this.g.hasOwnProperty(b)&&re(m)},u),u.g={}}Dn.prototype.N=function(){Dn.aa.N.call(this),jc(this)},Dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var to=a.JSON.stringify,Vc=a.JSON.parse,wf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function oi(){}oi.prototype.h=null;function Wn(u){return u.h||(u.h=u.i())}function Oc(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function no(){j.call(this,"d")}v(no,j);function ro(){j.call(this,"c")}v(ro,j);var ge={},ft=null;function pt(){return ft=ft||new Ae}ge.La="serverreachability";function Wt(u){j.call(this,ge.La,u)}v(Wt,j);function or(u){const m=pt();ht(m,new Wt(m))}ge.STAT_EVENT="statevent";function wt(u,m){j.call(this,ge.STAT_EVENT,u),this.stat=m}v(wt,j);function ze(u){const m=pt();ht(m,new wt(m,u))}ge.Ma="timingevent";function li(u,m){j.call(this,ge.Ma,u),this.size=m}v(li,j);function Nt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Dt(){this.g=!0}Dt.prototype.xa=function(){this.g=!1};function Lc(u,m,b,R,F,U){u.info(function(){if(u.g)if(U)for(var Z="",He=U.split("&"),Mt=0;Mt<He.length;Mt++){var Oe=He[Mt].split("=");if(1<Oe.length){var Ht=Oe[0];Oe=Oe[1];var Gt=Ht.split("_");Z=2<=Gt.length&&Gt[1]=="type"?Z+(Ht+"="+Oe+"&"):Z+(Ht+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+m+`
`+b+`
`+Z})}function kr(u,m,b,R,F,U,Z){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+m+`
`+b+`
`+U+" "+Z})}function ci(u,m,b,R){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+tR(u,b)+(R?" "+R:"")})}function eR(u,m){u.info(function(){return"TIMEOUT: "+m})}Dt.prototype.info=function(){};function tR(u,m){if(!u.g)return m;if(!m)return null;try{var b=JSON.parse(m);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var R=b[u];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<F.length;Z++)F[Z]=""}}}}return to(b)}catch{return m}}var Fc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},w0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xf;function Bc(){}v(Bc,oi),Bc.prototype.g=function(){return new XMLHttpRequest},Bc.prototype.i=function(){return{}},xf=new Bc;function os(u,m,b,R){this.j=u,this.i=m,this.l=b,this.R=R||1,this.U=new Dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new x0}function x0(){this.i=null,this.g="",this.h=!1}var _0={},_f={};function bf(u,m,b){u.L=1,u.v=Wc(Ar(m)),u.m=b,u.P=!0,b0(u,null)}function b0(u,m){u.F=Date.now(),Uc(u),u.A=Ar(u.v);var b=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),V0(b.i,"t",R),u.C=0,b=u.j.J,u.h=new x0,u.g=ew(u.j,b?m:null,!u.m),0<u.O&&(u.M=new Dc(p(u.Y,u,u.g),u.O)),m=u.U,b=u.g,R=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Mc[0]=F.toString()),F=Mc);for(var U=0;U<F.length;U++){var Z=dn(b,F[U],R||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),or(),Lc(u.i,u.u,u.A,u.l,u.R,u.m)}os.prototype.ca=function(u){u=u.target;const m=this.M;m&&Ir(u)==3?m.j():this.Y(u)},os.prototype.Y=function(u){try{if(u==this.g)e:{const Gt=Ir(this.g);var m=this.g.Ba();const oo=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||z0(this.g)))){this.J||Gt!=4||m==7||(m==8||0>=oo?or(3):or(2)),Ef(this);var b=this.g.Z();this.X=b;t:if(E0(this)){var R=z0(this.g);u="";var F=R.length,U=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Pa(this);var Z="";break t}this.h.i=new a.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(R[m],{stream:!(U&&m==F-1)});R.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=b==200,kr(this.i,this.u,this.A,this.l,this.R,Gt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Mt=this.g;if((He=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(He)){var Oe=He;break t}}Oe=null}if(b=Oe)ci(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tf(this,b);else{this.o=!1,this.s=3,ze(12),ui(this),Pa(this);break e}}if(this.P){b=!0;let Hn;for(;!this.J&&this.C<Z.length;)if(Hn=nR(this,Z),Hn==_f){Gt==4&&(this.s=4,ze(14),b=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==_0){this.s=4,ze(15),ci(this.i,this.l,Z,"[Invalid Chunk]"),b=!1;break}else ci(this.i,this.l,Hn,null),Tf(this,Hn);if(E0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||Z.length!=0||this.h.h||(this.s=1,ze(16),b=!1),this.o=this.o&&b,!b)ci(this.i,this.l,Z,"[Invalid Chunked Response]"),ui(this),Pa(this);else if(0<Z.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Pf(Ht),Ht.M=!0,ze(11))}}else ci(this.i,this.l,Z,null),Tf(this,Z);Gt==4&&ui(this),this.o&&!this.J&&(Gt==4?Y0(this.j,this):(this.o=!1,Uc(this)))}else wR(this.g),b==400&&0<Z.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),ui(this),Pa(this)}}}catch{}finally{}};function E0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nR(u,m){var b=u.C,R=m.indexOf(`
`,b);return R==-1?_f:(b=Number(m.substring(b,R)),isNaN(b)?_0:(R+=1,R+b>m.length?_f:(m=m.slice(R,R+b),u.C=R+b,m)))}os.prototype.cancel=function(){this.J=!0,ui(this)};function Uc(u){u.S=Date.now()+u.I,T0(u,u.I)}function T0(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nt(p(u.ba,u),m)}function Ef(u){u.B&&(a.clearTimeout(u.B),u.B=null)}os.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(eR(this.i,this.A),this.L!=2&&(or(),ze(17)),ui(this),this.s=2,Pa(this)):T0(this,this.S-u)};function Pa(u){u.j.G==0||u.J||Y0(u.j,u)}function ui(u){Ef(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,jc(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Tf(u,m){try{var b=u.j;if(b.G!=0&&(b.g==u||Sf(b.h,u))){if(!u.K&&Sf(b.h,u)&&b.G==3){try{var R=b.Da.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)Yc(b),Kc(b);else break e;If(b),ze(18)}}else b.za=F[1],0<b.za-b.T&&37500>F[2]&&b.F&&b.v==0&&!b.C&&(b.C=Nt(p(b.Za,b),6e3));if(1>=k0(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else hi(b,11)}else if((u.K||b.g==u)&&Yc(b),!E(m))for(F=b.Da.g.parse(m),m=0;m<F.length;m++){let Oe=F[m];if(b.T=Oe[0],Oe=Oe[1],b.G==2)if(Oe[0]=="c"){b.K=Oe[1],b.ia=Oe[2];const Ht=Oe[3];Ht!=null&&(b.la=Ht,b.j.info("VER="+b.la));const Gt=Oe[4];Gt!=null&&(b.Aa=Gt,b.j.info("SVER="+b.Aa));const oo=Oe[5];oo!=null&&typeof oo=="number"&&0<oo&&(R=1.5*oo,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Hn=u.g;if(Hn){const Jc=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jc){var U=R.h;U.g||Jc.indexOf("spdy")==-1&&Jc.indexOf("quic")==-1&&Jc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Cf(U,U.h),U.h=null))}if(R.D){const Rf=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rf&&(R.ya=Rf,Xe(R.I,R.D,Rf))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var Z=u;if(R.qa=Z0(R,R.J?R.ia:null,R.W),Z.K){A0(R.h,Z);var He=Z,Mt=R.L;Mt&&(He.I=Mt),He.B&&(Ef(He),Uc(He)),R.g=Z}else K0(R);0<b.i.length&&Qc(b)}else Oe[0]!="stop"&&Oe[0]!="close"||hi(b,7);else b.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?hi(b,7):Af(b):Oe[0]!="noop"&&b.l&&b.l.ta(Oe),b.v=0)}}or(4)}catch{}}var rR=class{constructor(u,m){this.g=u,this.map=m}};function S0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function C0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function k0(u){return u.h?1:u.g?u.g.size:0}function Sf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Cf(u,m){u.g?u.g.add(m):u.h=m}function A0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}S0.prototype.cancel=function(){if(this.i=I0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function I0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.D);return m}return y(u.i)}function sR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],b=u.length,R=0;R<b;R++)m.push(u[R]);return m}m=[],b=0;for(R in u)m[b++]=u[R];return m}function iR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var b=0;b<u;b++)m.push(b);return m}m=[],b=0;for(const R in u)m[b++]=R;return m}}}function P0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var b=iR(u),R=sR(u),F=R.length,U=0;U<F;U++)m.call(void 0,R[U],b&&b[U],u)}var R0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oR(u,m){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var R=u[b].indexOf("="),F=null;if(0<=R){var U=u[b].substring(0,R);F=u[b].substring(R+1)}else U=u[b];m(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function di(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof di){this.h=u.h,$c(this,u.j),this.o=u.o,this.g=u.g,zc(this,u.s),this.l=u.l;var m=u.i,b=new Da;b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),N0(this,b),this.m=u.m}else u&&(m=String(u).match(R0))?(this.h=!1,$c(this,m[1]||"",!0),this.o=Ra(m[2]||""),this.g=Ra(m[3]||"",!0),zc(this,m[4]),this.l=Ra(m[5]||"",!0),N0(this,m[6]||"",!0),this.m=Ra(m[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}di.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Na(m,D0,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Na(m,D0,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Na(b,b.charAt(0)=="/"?cR:lR,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Na(b,dR)),u.join("")};function Ar(u){return new di(u)}function $c(u,m,b){u.j=b?Ra(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zc(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function N0(u,m,b){m instanceof Da?(u.i=m,hR(u.i,u.h)):(b||(m=Na(m,uR)),u.i=new Da(m,u.h))}function Xe(u,m,b){u.i.set(m,b)}function Wc(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ra(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Na(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,aR),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function aR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var D0=/[#\/\?@]/g,lR=/[#\?:]/g,cR=/[#\?]/g,uR=/[#\?@]/g,dR=/#/g;function Da(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function as(u){u.g||(u.g=new Map,u.h=0,u.i&&oR(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}t=Da.prototype,t.add=function(u,m){as(this),this.i=null,u=so(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function M0(u,m){as(u),m=so(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function j0(u,m){return as(u),m=so(u,m),u.g.has(m)}t.forEach=function(u,m){as(this),this.g.forEach(function(b,R){b.forEach(function(F){u.call(m,F,R,this)},this)},this)},t.na=function(){as(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),b=[];for(let R=0;R<m.length;R++){const F=u[R];for(let U=0;U<F.length;U++)b.push(m[R])}return b},t.V=function(u){as(this);let m=[];if(typeof u=="string")j0(this,u)&&(m=m.concat(this.g.get(so(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)m=m.concat(u[b])}return m},t.set=function(u,m){return as(this),this.i=null,u=so(this,u),j0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function V0(u,m,b){M0(u,m),0<b.length&&(u.i=null,u.g.set(so(u,m),y(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var b=0;b<m.length;b++){var R=m[b];const U=encodeURIComponent(String(R)),Z=this.V(R);for(R=0;R<Z.length;R++){var F=U;Z[R]!==""&&(F+="="+encodeURIComponent(String(Z[R]))),u.push(F)}}return this.i=u.join("&")};function so(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function hR(u,m){m&&!u.j&&(as(u),u.i=null,u.g.forEach(function(b,R){var F=R.toLowerCase();R!=F&&(M0(this,R),V0(this,F,b))},u)),u.j=m}function fR(u,m){const b=new Dt;if(a.Image){const R=new Image;R.onload=g(ls,b,"TestLoadImage: loaded",!0,m,R),R.onerror=g(ls,b,"TestLoadImage: error",!1,m,R),R.onabort=g(ls,b,"TestLoadImage: abort",!1,m,R),R.ontimeout=g(ls,b,"TestLoadImage: timeout",!1,m,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else m(!1)}function pR(u,m){const b=new Dt,R=new AbortController,F=setTimeout(()=>{R.abort(),ls(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:R.signal}).then(U=>{clearTimeout(F),U.ok?ls(b,"TestPingServer: ok",!0,m):ls(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),ls(b,"TestPingServer: error",!1,m)})}function ls(u,m,b,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(b)}catch{}}function mR(){this.g=new wf}function gR(u,m,b){const R=b||"";try{P0(u,function(F,U){let Z=F;c(F)&&(Z=to(F)),m.push(R+U+"="+encodeURIComponent(Z))})}catch(F){throw m.push(R+"type="+encodeURIComponent("_badmap")),F}}function Hc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Hc,oi),Hc.prototype.g=function(){return new Gc(this.l,this.j)},Hc.prototype.i=function(u){return function(){return u}}({});function Gc(u,m){Ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Gc,Ae),t=Gc.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ja(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;O0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function O0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ma(this):ja(this),this.readyState==3&&O0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ma(this))},t.Qa=function(u){this.g&&(this.response=u,Ma(this))},t.ga=function(){this.g&&Ma(this)};function Ma(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ja(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function ja(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function L0(u){let m="";return V(u,function(b,R){m+=R,m+=":",m+=b,m+=`\r
`}),m}function kf(u,m,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=L0(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):Xe(u,m,b))}function lt(u){Ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(lt,Ae);var yR=/^https?$/i,vR=["POST","PUT"];t=lt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xf.g(),this.v=this.o?Wn(this.o):Wn(xf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(U){F0(this,U);return}if(u=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)b.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())b.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(U=>U.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vR,m,void 0))||R||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Z]of b)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$0(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){F0(this,U)}};function F0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,B0(u),qc(u)}function B0(u){u.A||(u.A=!0,ht(u,"complete"),ht(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ht(this,"complete"),ht(this,"abort"),qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qc(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?U0(this):this.bb())},t.bb=function(){U0(this)};function U0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ir(u)!=4||u.Z()!=2)){if(u.u&&Ir(u)==4)eo(u.Ea,0,u);else if(ht(u,"readystatechange"),Ir(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var R;if(R=Z===0){var F=String(u.D).match(R0)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),R=!yR.test(F?F.toLowerCase():"")}b=R}if(b)ht(u,"complete"),ht(u,"success");else{u.m=6;try{var U=2<Ir(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",B0(u)}}finally{qc(u)}}}}function qc(u,m){if(u.g){$0(u);const b=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ht(u,"ready");try{b.onreadystatechange=R}catch{}}}function $0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ir(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vc(m)}};function z0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wR(u){const m={};u=(u.g&&2<=Ir(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(E(u[R]))continue;var b=M(u[R]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const U=m[F]||[];m[F]=U,U.push(b)}C(m,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function W0(u){this.Aa=0,this.i=[],this.j=new Dt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,u),this.cb=Va("retryDelaySeedMs",1e4,u),this.Wa=Va("forwardChannelMaxRetries",2,u),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new S0(u&&u.concurrentRequestLimit),this.Da=new mR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=W0.prototype,t.la=8,t.G=1,t.connect=function(u,m,b,R){ze(0),this.W=u,this.H=m||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=Z0(this,null,this.W),Qc(this)};function Af(u){if(H0(u),u.G==3){var m=u.U++,b=Ar(u.I);if(Xe(b,"SID",u.K),Xe(b,"RID",m),Xe(b,"TYPE","terminate"),Oa(u,b),m=new os(u,u.j,m),m.L=2,m.v=Wc(Ar(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=m.v,b=!0),b||(m.g=ew(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Uc(m)}J0(u)}function Kc(u){u.g&&(Pf(u),u.g.cancel(),u.g=null)}function H0(u){Kc(u),u.u&&(a.clearTimeout(u.u),u.u=null),Yc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Qc(u){if(!C0(u.h)&&!u.s){u.s=!0;var m=u.Ga;te||X(),O||(te(),O=!0),K.add(m,u),u.B=0}}function xR(u,m){return k0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nt(p(u.Ga,u,m),X0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new os(this,this.j,u);let U=this.o;if(this.S&&(U?(U=_(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,4096<m){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=q0(this,F,m),b=Ar(this.I),Xe(b,"RID",u),Xe(b,"CVER",22),this.D&&Xe(b,"X-HTTP-Session-Id",this.D),Oa(this,b),U&&(this.O?m="headers="+encodeURIComponent(String(L0(U)))+"&"+m:this.m&&kf(b,this.m,U)),Cf(this.h,F),this.Ua&&Xe(b,"TYPE","init"),this.P?(Xe(b,"$req",m),Xe(b,"SID","null"),F.T=!0,bf(F,b,null)):bf(F,b,m),this.G=2}}else this.G==3&&(u?G0(this,u):this.i.length==0||C0(this.h)||G0(this))};function G0(u,m){var b;m?b=m.l:b=u.U++;const R=Ar(u.I);Xe(R,"SID",u.K),Xe(R,"RID",b),Xe(R,"AID",u.T),Oa(u,R),u.m&&u.o&&kf(R,u.m,u.o),b=new os(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),m&&(u.i=m.D.concat(u.i)),m=q0(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Cf(u.h,b),bf(b,R,m)}function Oa(u,m){u.H&&V(u.H,function(b,R){Xe(m,R,b)}),u.l&&P0({},function(b,R){Xe(m,R,b)})}function q0(u,m,b){b=Math.min(u.i.length,b);var R=u.l?p(u.l.Na,u.l,u):null;e:{var F=u.i;let U=-1;for(;;){const Z=["count="+b];U==-1?0<b?(U=F[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let He=!0;for(let Mt=0;Mt<b;Mt++){let Oe=F[Mt].g;const Ht=F[Mt].map;if(Oe-=U,0>Oe)U=Math.max(0,F[Mt].g-100),He=!1;else try{gR(Ht,Z,"req"+Oe+"_")}catch{R&&R(Ht)}}if(He){R=Z.join("&");break e}}}return u=u.i.splice(0,b),m.D=u,R}function K0(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;te||X(),O||(te(),O=!0),K.add(m,u),u.v=0}}function If(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nt(p(u.Fa,u),X0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Q0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nt(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),Kc(this),Q0(this))};function Pf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Q0(u){u.g=new os(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Ar(u.qa);Xe(m,"RID","rpc"),Xe(m,"SID",u.K),Xe(m,"AID",u.T),Xe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(m,"TO",u.ja),Xe(m,"TYPE","xmlhttp"),Oa(u,m),u.m&&u.o&&kf(m,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Wc(Ar(m)),b.m=null,b.P=!0,b0(b,u)}t.Za=function(){this.C!=null&&(this.C=null,Kc(this),If(this),ze(19))};function Yc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Y0(u,m){var b=null;if(u.g==m){Yc(u),Pf(u),u.g=null;var R=2}else if(Sf(u.h,m))b=m.D,A0(u.h,m),R=1;else return;if(u.G!=0){if(m.o)if(R==1){b=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;R=pt(),ht(R,new li(R,b)),Qc(u)}else K0(u);else if(F=m.s,F==3||F==0&&0<m.X||!(R==1&&xR(u,m)||R==2&&If(u)))switch(b&&0<b.length&&(m=u.h,m.i=m.i.concat(b)),F){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function X0(u,m){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*m}function hi(u,m){if(u.j.info("Error code "+m),m==2){var b=p(u.fb,u),R=u.Xa;const F=!R;R=new di(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$c(R,"https"),Wc(R),F?fR(R.toString(),b):pR(R.toString(),b)}else ze(2);u.G=0,u.l&&u.l.sa(m),J0(u),H0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function J0(u){if(u.G=0,u.ka=[],u.l){const m=I0(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ka,m),S(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function Z0(u,m,b){var R=b instanceof di?Ar(b):new di(b);if(R.g!="")m&&(R.g=m+"."+R.g),zc(R,R.s);else{var F=a.location;R=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var U=new di(null);R&&$c(U,R),m&&(U.g=m),F&&zc(U,F),b&&(U.l=b),R=U}return b=u.D,m=u.ya,b&&m&&Xe(R,b,m),Xe(R,"VER",u.la),Oa(u,R),R}function ew(u,m,b){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new lt(new Hc({eb:b})):new lt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tw(){}t=tw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xc(){}Xc.prototype.g=function(u,m){return new bn(u,m)};function bn(u,m){Ae.call(this),this.g=new W0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!E(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!E(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new io(this)}v(bn,Ae),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Af(this.g)},bn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=to(u),u=b);m.i.push(new rR(m.Ya++,u)),m.G==3&&Qc(m)},bn.prototype.N=function(){this.g.l=null,delete this.j,Af(this.g),delete this.g,bn.aa.N.call(this)};function nw(u){no.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}v(nw,no);function rw(){ro.call(this),this.status=1}v(rw,ro);function io(u){this.g=u}v(io,tw),io.prototype.ua=function(){ht(this.g,"a")},io.prototype.ta=function(u){ht(this.g,new nw(u))},io.prototype.sa=function(u){ht(this.g,new rw)},io.prototype.ra=function(){ht(this.g,"b")},Xc.prototype.createWebChannel=Xc.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,ZC=function(){return new Xc},JC=function(){return pt()},XC=ge,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,nd=Fc,w0.COMPLETE="complete",YC=w0,Oc.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,nl=Oc,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,QC=lt}).apply(typeof Eu<"u"?Eu:typeof self<"u"?self:typeof window<"u"?window:{});const b_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Wy("@firebase/firestore");function qa(){return $i.logLevel}function de(t,...e){if($i.logLevel<=De.DEBUG){const n=e.map(tv);$i.debug(`Firestore (${Sa}): ${t}`,...n)}}function Jr(t,...e){if($i.logLevel<=De.ERROR){const n=e.map(tv);$i.error(`Firestore (${Sa}): ${t}`,...n)}}function ia(t,...e){if($i.logLevel<=De.WARN){const n=e.map(tv);$i.warn(`Firestore (${Sa}): ${t}`,...n)}}function tv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+t;throw Jr(e),new Error(e)}function Be(t,e){t||Ee()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class z5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W5{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new ek(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Xt(e)}}class H5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Be(this.o===void 0);const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new q5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Q5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function oa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new At(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new At(0,0))}static max(){return new Se(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends Kl{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const Y5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Kl{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return Y5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new oe(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new oe(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new oe(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Ze.fromString(e))}static fromName(e){return new me(Ze.fromString(e).popFirst(5))}static empty(){return new me(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Ze(e.slice()))}}function X5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new Gs(s,me.empty(),e)}function J5(t){return new Gs(t.readTime,t.key,-1)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(Se.min(),me.empty(),-1)}static max(){return new Gs(Se.max(),me.empty(),-1)}}function Z5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==e3)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function n3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _c(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nv.oe=-1;function Wh(t){return t==null}function Xd(t){return t===0&&1/t==-1/0}function r3(t){return typeof t=="number"&&Number.isInteger(t)&&!Xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s3(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function nk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tu(this.root,e,this.comparator,!0)}}class Tu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=s??Vt.EMPTY,this.right=i??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(e){return new T_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class T_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ut(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rk("Invalid base64 string: "+i):i}}(e);return new zt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const i3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(t){if(Be(!!t),typeof t=="string"){let e=0;const n=i3.exec(t);if(Be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sv(t){const e=t.mapValue.fields.__previous_value__;return rv(e)?sv(e):e}function Ql(t){const e=qs(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su={mapValue:{}};function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rv(t)?4:l3(t)?9007199254740991:a3(t)?10:11:Ee()}function Tr(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=qs(s.timestampValue),a=qs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zi(s.bytesValue).isEqual(zi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=mt(s.doubleValue),a=mt(i.doubleValue);return o===a?Xd(o)===Xd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(E_(o)!==E_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Tr(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Xl(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=Wi(t),r=Wi(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=mt(i.integerValue||i.doubleValue),l=mt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return S_(t.timestampValue,e.timestampValue);case 4:return S_(Ql(t),Ql(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(i,o){const a=zi(i),l=zi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Le(a[c],l[c]);if(h!==0)return h}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Le(mt(i.latitude),mt(o.latitude));return a!==0?a:Le(mt(i.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const d=i.fields||{},p=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,y=Le(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:C_(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Su.mapValue&&o===Su.mapValue)return 0;if(i===Su.mapValue)return 1;if(o===Su.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=Le(l[d],h[d]);if(p!==0)return p;const g=aa(a[l[d]],c[h[d]]);if(g!==0)return g}return Le(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function S_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=qs(t),r=qs(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function C_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=aa(n[s],r[s]);if(i)return i}return Le(n.length,r.length)}function la(t){return eg(t)}function eg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=eg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${eg(n.fields[o])}`;return s+"}"}(t.mapValue):Ee()}function k_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tg(t){return!!t&&"integerValue"in t}function iv(t){return!!t&&"arrayValue"in t}function A_(t){return!!t&&"nullValue"in t}function I_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rd(t){return!!t&&"mapValue"in t}function a3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=wl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];rd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Yi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new mn(wl(this.value))}}function sk(t){const e=[];return Yi(t.fields,(n,r)=>{const s=new Ft([n]);if(rd(r)){const i=sk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),mn.empty(),0)}static newFoundDocument(e,n,r,s){return new Zt(e,1,n,Se.min(),r,s,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.position=e,this.inclusive=n}}function P_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function R_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function c3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{}class Et extends ik{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d3(e,n,r):n==="array-contains"?new p3(e,r):n==="in"?new m3(e,r):n==="not-in"?new g3(e,r):n==="array-contains-any"?new y3(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h3(e,r):new f3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(aa(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends ik{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sr(e,n)}matches(e){return ok(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ok(t){return t.op==="and"}function ak(t){return u3(t)&&ok(t)}function u3(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function ng(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+la(t.value);if(ak(t))return t.filters.map(e=>ng(e)).join(",");{const e=t.filters.map(n=>ng(n)).join(",");return`${t.op}(${e})`}}function lk(t,e){return t instanceof Et?function(r,s){return s instanceof Et&&r.op===s.op&&r.field.isEqual(s.field)&&Tr(r.value,s.value)}(t,e):t instanceof sr?function(r,s){return s instanceof sr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&lk(o,s.filters[a]),!0):!1}(t,e):void Ee()}function ck(t){return t instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(ck).join(" ,")+"}"}(t):"Filter"}class d3 extends Et{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class h3 extends Et{constructor(e,n){super(e,"in",n),this.keys=uk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f3 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=uk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class p3 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iv(n)&&Xl(n.arrayValue,this.value)}}class m3 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class g3 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class y3 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function N_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new v3(t,e,n,r,s,i,o)}function ov(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ng(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.ue=n}return e.ue}function av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R_(t.startAt,e.startAt)&&R_(t.endAt,e.endAt)}function rg(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function w3(t,e,n,r,s,i,o,a){return new Ca(t,e,n,r,s,i,o,a)}function Hh(t){return new Ca(t)}function D_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dk(t){return t.collectionGroup!==null}function xl(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ut(Ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Jl(i,r))}),n.has(Ft.keyField().canonicalString())||e.ce.push(new Jl(Ft.keyField(),r))}return e.ce}function xr(t){const e=Te(t);return e.le||(e.le=hk(e,xl(t))),e.le}function x3(t){const e=Te(t);return e.he||(e.he=hk(e,t.explicitOrderBy)),e.he}function hk(t,e){if(t.limitType==="F")return N_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Jl(s.field,i)});const n=t.endAt?new Jd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jd(t.startAt.position,t.startAt.inclusive):null;return N_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sg(t,e){const n=t.filters.concat([e]);return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zd(t,e,n){return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return av(xr(t),xr(e))&&t.limitType===e.limitType}function fk(t){return`${ov(xr(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ck(s)).join(", ")}]`),Wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>la(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>la(s)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function qh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):me.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=P_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xl(r),s)||r.endAt&&!function(o,a,l){const c=P_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xl(r),s))}(t,e)}function _3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pk(t){return(e,n)=>{let r=!1;for(const s of xl(t)){const i=b3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function b3(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?aa(l,c):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new at(me.comparator);function Zr(){return E3}const mk=new at(me.comparator);function rl(...t){let e=mk;for(const n of t)e=e.insert(n.key,n);return e}function gk(t){let e=mk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return _l()}function yk(){return _l()}function _l(){return new ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const T3=new at(me.comparator),S3=new Ut(me.comparator);function Ne(...t){let e=S3;for(const n of t)e=e.add(n);return e}const C3=new Ut(Le);function k3(){return C3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function vk(t){return{integerValue:""+t}}function A3(t,e){return r3(e)?vk(e):lv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function I3(t,e,n){return t instanceof eh?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&rv(i)&&(i=sv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Zl?xk(t,e):t instanceof ec?_k(t,e):function(s,i){const o=wk(s,i),a=M_(o)+M_(s.Pe);return tg(o)&&tg(s.Pe)?vk(a):lv(s.serializer,a)}(t,e)}function P3(t,e,n){return t instanceof Zl?xk(t,e):t instanceof ec?_k(t,e):n}function wk(t,e){return t instanceof th?function(r){return tg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class eh extends Kh{}class Zl extends Kh{constructor(e){super(),this.elements=e}}function xk(t,e){const n=bk(e);for(const r of t.elements)n.some(s=>Tr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ec extends Kh{constructor(e){super(),this.elements=e}}function _k(t,e){let n=bk(e);for(const r of t.elements)n=n.filter(s=>!Tr(s,r));return{arrayValue:{values:n}}}class th extends Kh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function M_(t){return mt(t.integerValue||t.doubleValue)}function bk(t){return iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function R3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Zl&&s instanceof Zl||r instanceof ec&&s instanceof ec?oa(r.elements,s.elements,Tr):r instanceof th&&s instanceof th?Tr(r.Pe,s.Pe):r instanceof eh&&s instanceof eh}(t.transform,e.transform)}class N3{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qh{}function Ek(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cv(t.key,Zn.none()):new bc(t.key,t.data,Zn.none());{const n=t.data,r=mn.empty();let s=new Ut(Ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ni(t.key,r,new Cn(s.toArray()),Zn.none())}}function D3(t,e,n){t instanceof bc?function(s,i,o){const a=s.value.clone(),l=V_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ni?function(s,i,o){if(!sd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=V_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Tk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bl(t,e,n,r){return t instanceof bc?function(i,o,a,l){if(!sd(i.precondition,o))return a;const c=i.value.clone(),h=O_(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ni?function(i,o,a,l){if(!sd(i.precondition,o))return a;const c=O_(i.fieldTransforms,l,o),h=o.data;return h.setAll(Tk(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return sd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function M3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=wk(r.transform,s||null);i!=null&&(n===null&&(n=mn.empty()),n.set(r.field,i))}return n||null}function j_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(i,o)=>R3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends Qh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ni extends Qh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Tk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function V_(t,e,n){const r=new Map;Be(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,P3(o,a,n[s]))}return r}function O_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,I3(i,o,e))}return r}class cv extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j3 extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&D3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Ek(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>j_(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>j_(n,r))}}class uv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Be(e.mutations.length===r.length);let s=function(){return T3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new uv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O3=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Me;function B3(t){switch(t){default:return Ee();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function Sk(t){if(t===void 0)return Jr("GRPC error has no .code"),z.UNKNOWN;switch(t){case xt.OK:return z.OK;case xt.CANCELLED:return z.CANCELLED;case xt.UNKNOWN:return z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return z.INTERNAL;case xt.UNAVAILABLE:return z.UNAVAILABLE;case xt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case xt.NOT_FOUND:return z.NOT_FOUND;case xt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case xt.ABORTED:return z.ABORTED;case xt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case xt.DATA_LOSS:return z.DATA_LOSS;default:return Ee()}}(Me=xt||(xt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new Pi([4294967295,4294967295],0);function L_(t){const e=U3().encode(t),n=new KC;return n.update(e),new Uint8Array(n.digest())}function F_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Pi([n,r],0),new Pi([s,i],0)]}class dv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sl(`Invalid padding: ${n}`);if(r<0)throw new sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pi.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Pi.fromNumber(r)));return s.compare($3)===1&&(s=new Pi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=L_(e),[r,s]=F_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new dv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=L_(e),[r,s]=F_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yh(Se.min(),s,new at(Le),Zr(),Ne())}}class Ec{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ec(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Ck{constructor(e,n){this.targetId=e,this.me=n}}class kk{constructor(e,n,r=zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class B_{constructor(){this.fe=0,this.ge=$_(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),n=Ne(),r=Ne();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ee()}}),new Ec(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class z3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=U_(),this.Qe=new at(Le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(rg(i))if(r===0){const o=new me(i.path);this.Ue(n,o,Zt.newNoDocument(o,Se.min()))}else Be(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=zi(r).toUint8Array()}catch(l){if(l instanceof rk)return ia("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dv(o,s,i)}catch(l){return ia(l instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&rg(a.target)){const l=new me(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Zt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ne();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Yh(e,n,this.Qe,this.ke,r);return this.ke=Zr(),this.qe=U_(),this.Qe=new at(Le),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new B_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ut(Le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new B_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function U_(){return new at(me.comparator)}function $_(){return new at(me.comparator)}const W3={asc:"ASCENDING",desc:"DESCENDING"},H3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G3={and:"AND",or:"OR"};class q3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ig(t,e){return t.useProto3Json||Wh(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ak(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function K3(t,e){return nh(t,e.toTimestamp())}function _r(t){return Be(!!t),Se.fromTimestamp(function(n){const r=qs(n);return new At(r.seconds,r.nanos)}(t))}function hv(t,e){return og(t,e).canonicalString()}function og(t,e){const n=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ik(t){const e=Ze.fromString(t);return Be(jk(e)),e}function ag(t,e){return hv(t.databaseId,e.path)}function wp(t,e){const n=Ik(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(Rk(n))}function Pk(t,e){return hv(t.databaseId,e)}function Q3(t){const e=Ik(t);return e.length===4?Ze.emptyPath():Rk(e)}function lg(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Rk(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function z_(t,e,n){return{name:ag(t,e),fields:n.value.mapValue.fields}}function Y3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Be(h===void 0||typeof h=="string"),zt.fromBase64String(h||"")):(Be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),zt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?z.UNKNOWN:Sk(c.code);return new oe(h,c.message||"")}(o);n=new kk(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wp(t,r.document.name),i=_r(r.document.updateTime),o=r.document.createTime?_r(r.document.createTime):Se.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=Zt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new id(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wp(t,r.document),i=r.readTime?_r(r.readTime):Se.min(),o=Zt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new id([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wp(t,r.document),i=r.removedTargetIds||[];n=new id([],i,s,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new F3(s,i),a=r.targetId;n=new Ck(a,o)}}return n}function X3(t,e){let n;if(e instanceof bc)n={update:z_(t,e.key,e.value)};else if(e instanceof cv)n={delete:ag(t,e.key)};else if(e instanceof ni)n={update:z_(t,e.key,e.data),updateMask:oB(e.fieldMask)};else{if(!(e instanceof j3))return Ee();n={verify:ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof eh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof th)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:K3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ee()}(t,e.precondition)),n}function J3(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?_r(s.updateTime):_r(i);return o.isEqual(Se.min())&&(o=_r(i)),new N3(o,s.transformResults||[])}(n,e))):[]}function Z3(t,e){return{documents:[Pk(t,e.path)]}}function Nk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Pk(t,s);const i=function(c){if(c.length!==0)return Mk(sr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Es(p.field),direction:rB(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ig(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function eB(t,e,n,r){const{_t:s,parent:i}=Nk(t,e),o={},a=[];let l=0;return n.forEach(c=>{const h="aggregate_"+l++;o[h]=c.alias,c.aggregateType==="count"?a.push({alias:h,count:{}}):c.aggregateType==="avg"?a.push({alias:h,avg:{field:Es(c.fieldPath)}}):c.aggregateType==="sum"&&a.push({alias:h,sum:{field:Es(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},ut:o,parent:i}}function tB(t){let e=Q3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Be(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const p=Dk(d);return p instanceof sr&&ak(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(v){return new Jl(po(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,Wh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,g=d.values||[];return new Jd(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Jd(g,p)}(n.endAt)),w3(e,s,o,i,a,"F",l,c)}function nB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Dk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=po(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=po(n.unaryFilter.field);return Et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=po(n.unaryFilter.field);return Et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=po(n.unaryFilter.field);return Et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Et.create(po(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(r=>Dk(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function rB(t){return W3[t]}function sB(t){return H3[t]}function iB(t){return G3[t]}function Es(t){return{fieldPath:t.canonicalString()}}function po(t){return Ft.fromServerFormat(t.fieldPath)}function Mk(t){return t instanceof Et?function(n){if(n.op==="=="){if(I_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NAN"}};if(A_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NOT_NAN"}};if(A_(n.value))return{unaryFilter:{field:Es(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(n.field),op:sB(n.op),value:n.value}}}(t):t instanceof sr?function(n){const r=n.getFilters().map(s=>Mk(s));return r.length===1?r[0]:{compositeFilter:{op:iB(n.op),filters:r}}}(t):Ee()}function oB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r,s,i=Se.min(),o=Se.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.ct=e}}function lB(t){const e=tB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.un=new uB}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Gs.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class uB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ut(Ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ca(0)}static kn(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.changes=new ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&bl(r.mutation,s,Cn.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=Ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=rl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Zr();const o=_l(),a=function(){return _l()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof ni)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),bl(h.mutation,c,h.mutation.getFieldMask(),At.now())):o.set(c.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new hB(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_l();let s=new at((o,a)=>o-a),i=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Cn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(s.get(a.batchId)||Ne()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=yk();h.forEach(p=>{if(!i.has(p)){const g=Ek(n.get(p),r.get(p));g!==null&&d.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(Ci());let a=-1,l=i;return o.next(c=>q.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ne())).next(h=>({batchId:a,changes:gk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let s=rl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=rl();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,l=>{const c=function(d,p){return new Ca(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Zt.newInvalidDocument(h)))});let a=rl();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&bl(h.mutation,c,Cn.empty(),At.now()),qh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:_r(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:lB(s.bundledQuery),readTime:_r(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(){this.overlays=new at(me.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ci();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=Ci(),i=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new at((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Ci(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ci(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new O3(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ne(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.Tr=new Ut(It.Er),this.dr=new Ut(It.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new It(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new Ze([])),r=new It(n,e),s=new It(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new Ze([])),r=new It(n,e),s=new It(n,e+1);let i=Ne();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ut(It.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new V3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Le);return n.forEach(s=>{const i=new It(s,0),o=new It(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;me.isDocumentKey(i)||(i=i.child(""));const o=new It(new me(i),0);let a=new Ut(Le);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,s=>{const i=new It(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new It(n,0),s=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.Mr=e,this.docs=function(){return new at(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Zt.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Zr();const o=n.path,a=new me(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Z5(J5(h),r)<=0||(s.has(h.key)||qh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ee()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wB(this)}getSize(e){return q.resolve(this.size)}}class wB extends dB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.persistence=e,this.Nr=new ka(n=>ov(n),av),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fv,this.targetCount=0,this.kr=ca.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n){this.qr={},this.overlays={},this.Qr=new nv(0),this.Kr=!1,this.Kr=!0,this.$r=new gB,this.referenceDelegate=e(this),this.Ur=new xB(this),this.indexManager=new cB,this.remoteDocumentCache=function(s){return new vB(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new aB(n),this.Gr=new pB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new yB(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new bB(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class bB extends t3{constructor(e){super(),this.currentSequenceNumber=e}}class pv{constructor(e){this.persistence=e,this.Jr=new fv,this.Yr=null}static Zr(e){return new pv(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const s=me.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ne(),s=Ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new mv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return lL()?8:n3(nn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new EB;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(qa()<=De.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(qa()<=De.DEBUG&&de("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(qa()<=De.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):q.resolve())}Yi(e,n){if(D_(n))return q.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zd(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ne(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Zd(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return D_(n)||s.isEqual(Se.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?q.resolve(null):(qa()<=De.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fo(n)),this.rs(e,o,n,X5(s,-1)).next(a=>a))})}ts(e,n){let r=new Ut(pk(e));return n.forEach((s,i)=>{qh(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return qa()<=De.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",fo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Gs.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new at(Le),this._s=new ka(i=>ov(i),av),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function CB(t,e,n,r){return new SB(t,e,n,r)}async function Vk(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ne();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function kB(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,p=d.keys();let g=q.resolve();return p.forEach(v=>{g=g.next(()=>h.getEntry(l,v)).next(y=>{const S=c.docVersions.get(v);Be(S!==null),y.version.compareTo(S)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),h.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Ok(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AB(t,e){const n=Te(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const p=s.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,d)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),function(y,S,x){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,h)&&a.push(n.Ur.updateTargetData(i,g))});let l=Zr(),c=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(IB(i,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(Se.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(d=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function IB(t,e,n){let r=Ne(),s=Ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Zr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function PB(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RB(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new ks(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function cg(t,e,n){const r=Te(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!_c(o))throw o;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function W_(t,e,n){const r=Te(t);let s=Se.min(),i=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=Te(l),p=d._s.get(h);return p!==void 0?q.resolve(d.os.get(p)):d.Ur.getTargetData(c,h)}(r,o,xr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Se.min(),n?i:Ne())).next(a=>(NB(r,_3(e),a),{documents:a,Ts:i})))}function NB(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class H_{constructor(){this.activeTargetIds=k3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DB{constructor(){this.so=new H_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new H_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu=null;function xp(){return Cu===null?Cu=function(){return 268435456+Math.round(2147483648*Math.random())}():Cu++,"0x"+Cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class OB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=xp(),l=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(h=>(de("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ia("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=jB[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=xp();return new Promise((o,a)=>{const l=new QC;l.setWithCredentials(!0),l.listenOnce(YC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nd.NO_ERROR:const h=l.getResponseJson();de(Qt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case nd.TIMEOUT:de(Qt,`RPC '${e}' ${i} timed out`),a(new oe(z.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:const d=l.getStatus();if(de(Qt,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(S){const x=S.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(x)>=0?x:z.UNKNOWN}(g.status);a(new oe(v,g.message))}else a(new oe(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new oe(z.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{de(Qt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);de(Qt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=xp(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZC(),a=JC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");de(Qt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);let p=!1,g=!1;const v=new VB({Io:S=>{g?de(Qt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(de(Qt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),de(Qt,`RPC '${e}' stream ${s} sending:`,S),d.send(S))},To:()=>d.close()}),y=(S,x,E)=>{S.listen(x,T=>{try{E(T)}catch(k){setTimeout(()=>{throw k},0)}})};return y(d,nl.EventType.OPEN,()=>{g||(de(Qt,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),y(d,nl.EventType.CLOSE,()=>{g||(g=!0,de(Qt,`RPC '${e}' stream ${s} transport closed`),v.So())}),y(d,nl.EventType.ERROR,S=>{g||(g=!0,ia(Qt,`RPC '${e}' stream ${s} transport errored:`,S),v.So(new oe(z.UNAVAILABLE,"The operation could not be completed")))}),y(d,nl.EventType.MESSAGE,S=>{var x;if(!g){const E=S.data[0];Be(!!E);const T=E,k=T.error||((x=T[0])===null||x===void 0?void 0:x.error);if(k){de(Qt,`RPC '${e}' stream ${s} received error:`,k);const N=k.status;let V=function(A){const P=xt[A];if(P!==void 0)return Sk(P)}(N),C=k.message;V===void 0&&(V=z.INTERNAL,C="Unknown error status: "+N+" with message "+k.message),g=!0,v.So(new oe(V,C)),d.close()}else de(Qt,`RPC '${e}' stream ${s} received:`,E),v.bo(E)}}),y(a,XC.STAT_EVENT,S=>{S.stat===Zm.PROXY?de(Qt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Zm.NOPROXY&&de(Qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){return new q3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Lk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new oe(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LB extends Fk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Y3(this.serializer,e),r=function(i){if(!("targetChange"in i))return Se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?_r(o.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=lg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=rg(l)?{documents:Z3(i,l)}:{query:Nk(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ak(i,o.resumeToken);const c=ig(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=nh(i,o.snapshotVersion.toTimestamp());const c=ig(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=nB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=lg(this.serializer),n.removeTarget=e,this.a_(n)}}class FB extends Fk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=J3(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=lg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>X3(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new oe(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,og(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(z.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,og(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class UB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jr(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Xi(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Te(l);c.L_.add(4),await Tc(c),c.q_.set("Unknown"),c.L_.delete(4),await Jh(c)}(this))})}),this.q_=new UB(r,s)}}async function Jh(t){if(Xi(t))for(const e of t.B_)await e(!0)}async function Tc(t){for(const e of t.B_)await e(!1)}function Bk(t,e){const n=Te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),wv(n)?vv(n):Aa(n).r_()&&yv(n,e))}function gv(t,e){const n=Te(t),r=Aa(n);n.N_.delete(e),r.r_()&&Uk(n,e),n.N_.size===0&&(r.r_()?r.o_():Xi(n)&&n.q_.set("Unknown"))}function yv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Aa(t).A_(e)}function Uk(t,e){t.Q_.xe(e),Aa(t).R_(e)}function vv(t){t.Q_=new z3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Aa(t).start(),t.q_.v_()}function wv(t){return Xi(t)&&!Aa(t).n_()&&t.N_.size>0}function Xi(t){return Te(t).L_.size===0}function $k(t){t.Q_=void 0}async function zB(t){t.q_.set("Online")}async function WB(t){t.N_.forEach((e,n)=>{yv(t,e)})}async function HB(t,e){$k(t),wv(t)?(t.q_.M_(e),vv(t)):t.q_.set("Unknown")}async function GB(t,e,n){if(t.q_.set("Online"),e instanceof kk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(t,r)}else if(e instanceof id?t.Q_.Ke(e):e instanceof Ck?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await Ok(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(zt.EMPTY_BYTE_STRING,h.snapshotVersion)),Uk(i,l);const d=new ks(h.target,l,c,h.sequenceNumber);yv(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await rh(t,r)}}async function rh(t,e,n){if(!_c(e))throw e;t.L_.add(1),await Tc(t),t.q_.set("Offline"),n||(n=()=>Ok(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Jh(t)})}function zk(t,e){return e().catch(n=>rh(t,n,e))}async function Zh(t){const e=Te(t),n=Ks(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qB(e);)try{const s=await PB(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,KB(e,s)}catch(s){await rh(e,s)}Wk(e)&&Hk(e)}function qB(t){return Xi(t)&&t.O_.length<10}function KB(t,e){t.O_.push(e);const n=Ks(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Wk(t){return Xi(t)&&!Ks(t).n_()&&t.O_.length>0}function Hk(t){Ks(t).start()}async function QB(t){Ks(t).p_()}async function YB(t){const e=Ks(t);for(const n of t.O_)e.m_(n.mutations)}async function XB(t,e,n){const r=t.O_.shift(),s=uv.from(r,e,n);await zk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Zh(t)}async function JB(t,e){e&&Ks(t).V_&&await async function(r,s){if(function(o){return B3(o)&&o!==z.ABORTED}(s.code)){const i=r.O_.shift();Ks(r).s_(),await zk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Zh(r)}}(t,e),Wk(t)&&Hk(t)}async function q_(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Xi(n);n.L_.add(3),await Tc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Jh(n)}async function ZB(t,e){const n=Te(t);e?(n.L_.delete(2),await Jh(n)):e||(n.L_.add(2),await Tc(n),n.q_.set("Unknown"))}function Aa(t){return t.K_||(t.K_=function(n,r,s){const i=Te(n);return i.w_(),new LB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:zB.bind(null,t),Ro:WB.bind(null,t),mo:HB.bind(null,t),d_:GB.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),wv(t)?vv(t):t.q_.set("Unknown")):(await t.K_.stop(),$k(t))})),t.K_}function Ks(t){return t.U_||(t.U_=function(n,r,s){const i=Te(n);return i.w_(),new FB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QB.bind(null,t),mo:JB.bind(null,t),f_:YB.bind(null,t),g_:XB.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Zh(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new xv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _v(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),_c(t))return new oe(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=rl(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new $o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.W_=new at(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ua(e,n,$o.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class tU{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Te(n),i=s.queries;s.queries=Q_(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new oe(z.ABORTED,"Firestore shutting down"))}}function Q_(){return new ka(t=>fk(t),Gh)}async function bv(t,e){const n=Te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new eU,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=_v(o,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Tv(n)}async function Ev(t,e){const n=Te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nU(t,e){const n=Te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Tv(n)}function rU(t,e,n){const r=Te(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Tv(t){t.Y_.forEach(e=>{e.next()})}var ug,Y_;(Y_=ug||(ug={})).ea="default",Y_.Cache="cache";class Sv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.key=e}}class qk{constructor(e){this.key=e}}class sU{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=pk(e),this.Ra=new $o(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new K_,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const p=s.get(h),g=qh(this.query,d)?d:null,v=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;p&&g?p.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),S=!0):this.ga(p,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),S=!0):p&&!g&&(r.track({type:1,doc:p}),S=!0,(l||c)&&(a=!0)),S&&(g?(o=o.add(g),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(g,v){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return y(g)-y(v)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new ua(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new K_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ne(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new qk(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Gk(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ne();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ua.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oU{constructor(e){this.key=e,this.va=!1}}class aU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ka(a=>fk(a),Gh),this.Ma=new Map,this.xa=new Set,this.Oa=new at(me.comparator),this.Na=new Map,this.La=new fv,this.Ba={},this.ka=new Map,this.qa=ca.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lU(t,e,n=!0){const r=Zk(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Kk(r,e,n,!0),s}async function cU(t,e){const n=Zk(t);await Kk(n,e,!0,!1)}async function Kk(t,e,n,r){const s=await RB(t.localStore,xr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await uU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Bk(t.remoteStore,s),a}async function uU(t,e,n,r,s){t.Ka=(d,p,g)=>async function(y,S,x,E){let T=S.view.ma(x);T.ns&&(T=await W_(y.localStore,S.query,!1).then(({documents:C})=>S.view.ma(C,T)));const k=E&&E.targetChanges.get(S.targetId),N=E&&E.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(T,y.isPrimaryClient,k,N);return J_(y,S.targetId,V.wa),V.snapshot}(t,d,p,g);const i=await W_(t.localStore,e,!0),o=new sU(e,i.Ts),a=o.ma(i.documents),l=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);J_(t,n,c.wa);const h=new iU(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function dU(t,e,n){const r=Te(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Gh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await cg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&gv(r.remoteStore,s.targetId),dg(r,s.targetId)}).catch(xc)):(dg(r,s.targetId),await cg(r.localStore,s.targetId,!0))}async function hU(t,e){const n=Te(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gv(n.remoteStore,r.targetId))}async function fU(t,e,n){const r=xU(t);try{const s=await function(o,a){const l=Te(o),c=At.now(),h=a.reduce((g,v)=>g.add(v.key),Ne());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Zr(),y=Ne();return l.cs.getEntries(g,h).next(S=>{v=S,v.forEach((x,E)=>{E.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(S=>{d=S;const x=[];for(const E of a){const T=M3(E,d.get(E.key).overlayedDocument);T!=null&&x.push(new ni(E.key,T,sk(T.value.mapValue),Zn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(S=>{p=S;const x=S.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(g,S.batchId,x)})}).then(()=>({batchId:p.batchId,changes:gk(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new at(Le)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Sc(r,s.changes),await Zh(r.remoteStore)}catch(s){const i=_v(s,"Failed to persist write");n.reject(i)}}async function Qk(t,e){const n=Te(t);try{const r=await AB(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Be(o.va):s.removedDocuments.size>0&&(Be(o.va),o.va=!1))}),await Sc(n,r,e)}catch(r){await xc(r)}}function X_(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Te(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const p of d.j_)p.Z_(a)&&(c=!0)}),c&&Tv(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pU(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new at(me.comparator);o=o.insert(i,Zt.newNoDocument(i,Se.min()));const a=Ne().add(i),l=new Yh(Se.min(),new Map,new at(Le),o,a);await Qk(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Cv(r)}else await cg(r.localStore,e,!1).then(()=>dg(r,e,n)).catch(xc)}async function mU(t,e){const n=Te(t),r=e.batch.batchId;try{const s=await kB(n.localStore,e);Xk(n,r,null),Yk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sc(n,s)}catch(s){await xc(s)}}async function gU(t,e,n){const r=Te(t);try{const s=await function(o,a){const l=Te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Be(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);Xk(r,e,n),Yk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sc(r,s)}catch(s){await xc(s)}}function Yk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Xk(t,e,n){const r=Te(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function dg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Jk(t,r)})}function Jk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(gv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Cv(t))}function J_(t,e,n){for(const r of n)r instanceof Gk?(t.La.addReference(r.key,e),yU(t,r)):r instanceof qk?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Jk(t,r.key)):Ee()}function yU(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),Cv(t))}function Cv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new oU(n)),t.Oa=t.Oa.insert(n,r),Bk(t.remoteStore,new ks(xr(Hh(n.path)),r,"TargetPurposeLimboResolution",nv.oe))}}async function Sc(t,e,n){const r=Te(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=mv.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const h=Te(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>q.forEach(c,p=>q.forEach(p.$i,g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>q.forEach(p.Ui,g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!_c(d))throw d;de("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=h.os.get(p),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);h.os=h.os.insert(p,y)}}}(r.localStore,i))}async function vU(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await Vk(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new oe(z.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sc(n,r.hs)}}function wU(t,e){const n=Te(t),r=n.Na.get(e);if(r&&r.va)return Ne().add(r.key);{let s=Ne();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function Zk(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pU.bind(null,e),e.Ca.d_=nU.bind(null,e.eventManager),e.Ca.$a=rU.bind(null,e.eventManager),e}function xU(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gU.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return CB(this.persistence,new TB,e.initialUser,this.serializer)}Ga(e){return new _B(pv.Zr,this.serializer)}Wa(e){return new DB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vU.bind(null,this.syncEngine),await ZB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tU}()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),r=function(i){return new OB(i)}(e.databaseInfo);return function(i,o,a,l){return new BB(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new $B(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>X_(this.syncEngine,n,0),function(){return G_.D()?new G_:new MB}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const d=new aU(s,i,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Te(s);de("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Tc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hg.provider={build:()=>new hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Xt.UNAUTHENTICATED,this.clientId=tk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{de("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(de("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bp(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Vk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Z_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bU(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>q_(e.remoteStore,s)),t._onlineComponents=e}async function bU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await bp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await bp(t,new sh)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await bp(t,new sh);return t._offlineComponents}async function Av(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await Z_(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await Z_(t,new hg))),t._onlineComponents}function EU(t){return Av(t).then(e=>e.syncEngine)}function TU(t){return Av(t).then(e=>e.datastore)}async function ih(t){const e=await Av(t),n=e.eventManager;return n.onListen=lU.bind(null,e.syncEngine),n.onUnlisten=dU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hU.bind(null,e.syncEngine),n}function SU(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new kv({next:p=>{h.Za(),o.enqueueAndForget(()=>Ev(i,d));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new oe(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new oe(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new Sv(Hh(a.path),h,{includeMetadataChanges:!0,_a:!0});return bv(i,d)}(await ih(t),t.asyncQueue,e,n,r)),r.promise}function CU(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new kv({next:p=>{h.Za(),o.enqueueAndForget(()=>Ev(i,d)),p.fromCache&&l.source==="server"?c.reject(new oe(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new Sv(a,h,{includeMetadataChanges:!0,_a:!0});return bv(i,d)}(await ih(t),t.asyncQueue,e,n,r)),r.promise}function kU(t,e,n){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await TU(t);r.resolve(async function(o,a,l){var c;const h=Te(o),{request:d,ut:p,parent:g}=eB(h.serializer,x3(a),l);h.connection.Fo||delete d.parent;const v=(await h.Lo("RunAggregationQuery",h.serializer.databaseId,g,d,1)).filter(S=>!!S.result);Be(v.length===1);const y=(c=v[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(y).reduce((S,x)=>(S[p[x]]=y[x],S),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e,n){if(!n)throw new oe(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AU(t,e,n,r){if(e===!0&&r===!0)throw new oe(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tb(t){if(!me.isDocumentKey(t))throw new oe(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nb(t){if(me.isDocumentKey(t))throw new oe(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(t);throw new oe(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function IU(t,e){if(e<=0)throw new oe(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $5;switch(r.type){case"firstParty":return new G5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eb.get(n);r&&(de("ComponentProvider","Removing Datastore"),eb.delete(n),r.terminate())}(this),Promise.resolve()}}function PU(t,e,n,r={}){var s;const i=(t=xn(t,tf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Xt.MOCK_USER;else{a=tL(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new oe(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Xt(c)}t._authCredentials=new z5(new ek(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Fs extends is{constructor(e,n,r){super(e,n,Hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new me(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function on(t,e,...n){if(t=Tt(t),tA("collection","path",e),t instanceof tf){const r=Ze.fromString(e,...n);return nb(r),new Fs(t,null,r)}{if(!(t instanceof en||t instanceof Fs))throw new oe(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return nb(r),new Fs(t.firestore,null,r)}}function je(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=tk.newId()),tA("doc","path",e),t instanceof tf){const r=Ze.fromString(e,...n);return tb(r),new en(t,null,new me(r))}{if(!(t instanceof en||t instanceof Fs))throw new oe(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return tb(r),new en(t.firestore,t instanceof Fs?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Lk(this,"async_queue_retry"),this.Vu=()=>{const r=_p();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=_p();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=_p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new wr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_c(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=xv.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function ib(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class es extends tf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new sb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sb(e),this._firestoreClient=void 0,await e}}}function RU(t,e){const n=typeof t=="object"?t:uC(),r=typeof t=="string"?t:"(default)",s=Gy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ZO("firestore");i&&PU(s,...i)}return s}function Cc(t){if(t._terminated)throw new oe(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NU(t),t._firestoreClient}function NU(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new o3(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,eA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new _U(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class MU{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(zt.fromBase64String(e))}catch(n){throw new oe(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=/^__.*__$/;class VU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class nA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Nv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return oh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rA(this.Cu)&&jU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class OU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xh(e)}Qu(e,n,r,s=!1){return new Nv({Cu:e,methodName:n,qu:r,path:Ft.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dv(t){const e=t._freezeSettings(),n=Xh(t._databaseId);return new OU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LU(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Mv("Data must be an object, but it was:",o,r);const a=sA(r,o);let l,c;if(i.merge)l=new Cn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const p=fg(e,d,n);if(!o.contains(p))throw new oe(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);oA(h,p)||h.push(p)}l=new Cn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new VU(new mn(a),l,c)}class rf extends Iv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function FU(t,e,n,r){const s=t.Qu(1,e,n);Mv("Data must be an object, but it was:",s,r);const i=[],o=mn.empty();Yi(r,(l,c)=>{const h=jv(e,l,n);c=Tt(c);const d=s.Nu(h);if(c instanceof rf)i.push(h);else{const p=kc(c,d);p!=null&&(i.push(h),o.set(h,p))}});const a=new Cn(i);return new nA(o,a,s.fieldTransforms)}function BU(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[fg(e,r,n)],l=[s];if(i.length%2!=0)throw new oe(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(fg(e,i[p])),l.push(i[p+1]);const c=[],h=mn.empty();for(let p=a.length-1;p>=0;--p)if(!oA(c,a[p])){const g=a[p];let v=l[p];v=Tt(v);const y=o.Nu(g);if(v instanceof rf)c.push(g);else{const S=kc(v,y);S!=null&&(c.push(g),h.set(g,S))}}const d=new Cn(c);return new nA(h,d,o.fieldTransforms)}function UU(t,e,n,r=!1){return kc(n,t.Qu(r?4:3,e))}function kc(t,e){if(iA(t=Tt(t)))return Mv("Unsupported field value:",e,t),sA(t,e);if(t instanceof Iv)return function(r,s){if(!rA(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=kc(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=At.fromDate(r);return{timestampValue:nh(s.serializer,i)}}if(r instanceof At){const i=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(s.serializer,i)}}if(r instanceof Pv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:Ak(s.serializer,r._byteString)};if(r instanceof en){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return lv(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${ef(r)}`)}(t,e)}function sA(t,e){const n={};return nk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(t,(r,s)=>{const i=kc(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function iA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Pv||t instanceof da||t instanceof en||t instanceof Iv||t instanceof Rv)}function Mv(t,e,n){if(!iA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ef(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function fg(t,e,n){if((e=Tt(e))instanceof nf)return e._internalPath;if(typeof e=="string")return jv(t,e);throw oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const $U=new RegExp("[~\\*/\\[\\]]");function jv(t,e,n){if(e.search($U)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nf(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new oe(z.INVALID_ARGUMENT,a+t+l)}function oA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zU extends aA{data(){return super.data()}}function Vv(t,e){return typeof e=="string"?jv(t,e):e instanceof nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ov{}class Lv extends Ov{}function zo(t,e,...n){let r=[];e instanceof Ov&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Bv).length,a=i.filter(l=>l instanceof Fv).length;if(o>1||o>0&&a>0)throw new oe(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Fv extends Lv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fv(e,n,r)}_apply(e){const n=this._parse(e);return uA(e._query,n),new is(e.firestore,e.converter,sg(e._query,n))}_parse(e){const n=Dv(e.firestore);return function(i,o,a,l,c,h,d){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new oe(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ab(d,h);const g=[];for(const v of d)g.push(ob(l,i,v));p={arrayValue:{values:g}}}else p=ob(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ab(d,h),p=UU(a,o,d,h==="in"||h==="not-in");return Et.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Bv extends Ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)uA(o,l),o=sg(o,l)}(e._query,n),new is(e.firestore,e.converter,sg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uv extends Lv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Uv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new oe(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new oe(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(i,o)}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ca(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function pg(t,e="asc"){const n=e,r=Vv("orderBy",t);return Uv._create(r,n)}class $v extends Lv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $v(e,n,r)}_apply(e){return new is(e.firestore,e.converter,Zd(e._query,this._limit,this._limitType))}}function cA(t){return IU("limit",t),$v._create("limit",t,"F")}function ob(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new oe(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dk(e)&&n.indexOf("/")!==-1)throw new oe(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!me.isDocumentKey(r))throw new oe(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return k_(t,new me(r))}if(n instanceof en)return k_(t,n._key);throw new oe(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function ab(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class WU{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>mt(o.doubleValue));return new Rv(i)}convertGeoPoint(e){return new Pv(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=qs(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Be(jk(r));const s=new Yl(r.get(1),r.get(3)),i=new me(r.popFirst(5));return s.isEqual(n)||Jr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function GU(){return new DU("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dA extends aA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class od extends dA{data(e={}){return super.data(e)}}class hA{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new il(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new od(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new od(s._firestore,s._userDataWriter,a.doc.key,a.doc,new il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new od(s._firestore,s._userDataWriter,a.doc.key,a.doc,new il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:qU(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t){t=xn(t,en);const e=xn(t.firestore,es);return SU(Cc(e),t._key).then(n=>fA(e,t,n))}class sf extends WU{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function fn(t){t=xn(t,is);const e=xn(t.firestore,es),n=Cc(e),r=new sf(e);return lA(t._query),CU(n,t._query).then(s=>new hA(e,r,t,s))}function mg(t,e,n){t=xn(t,en);const r=xn(t.firestore,es),s=HU(t.converter,e);return zv(r,[LU(Dv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Zn.none())])}function nt(t,e,n,...r){t=xn(t,en);const s=xn(t.firestore,es),i=Dv(s);let o;return o=typeof(e=Tt(e))=="string"||e instanceof nf?BU(i,"updateDoc",t._key,e,n,r):FU(i,"updateDoc",t._key,e),zv(s,[o.toMutation(t._key,Zn.exists(!0))])}function ku(t){return zv(xn(t.firestore,es),[new cv(t._key,Zn.none())])}function KU(t,...e){var n,r,s;t=Tt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||ib(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ib(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,h;if(t instanceof en)c=xn(t.firestore,es),h=Hh(t._key.path),l={next:d=>{e[o]&&e[o](fA(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=xn(t,is);c=xn(d.firestore,es),h=d._query;const p=new sf(c);l={next:g=>{e[o]&&e[o](new hA(c,p,d,g))},error:e[o+1],complete:e[o+2]},lA(t._query)}return function(p,g,v,y){const S=new kv(y),x=new Sv(g,S,v);return p.asyncQueue.enqueueAndForget(async()=>bv(await ih(p),x)),()=>{S.Za(),p.asyncQueue.enqueueAndForget(async()=>Ev(await ih(p),x))}}(Cc(c),h,a,l)}function zv(t,e){return function(r,s){const i=new wr;return r.asyncQueue.enqueueAndForget(async()=>fU(await EU(r),s,i)),i.promise}(Cc(t),e)}function fA(t,e,n){const r=n.docs.get(e._key),s=new sf(t);return new dA(t,s,e._key,r,new il(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){return YU(t,{count:GU()})}function YU(t,e){const n=xn(t.firestore,es),r=Cc(n),s=s3(e,(i,o)=>new L3(o,i.aggregateType,i._internalFieldPath));return kU(r,t._query,s).then(i=>function(a,l,c){const h=new sf(a);return new MU(l,h,c)}(n,t,i))}(function(e,n=!0){(function(s){Sa=s})(Ea),ra(new Fi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new es(new W5(r.getProvider("auth-internal")),new K5(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ls(b_,"4.7.3",e),Ls(b_,"4.7.3","esm2017")})();const XU={apiKey:"AIzaSyCHtqJzplDYhttDaZdNsVw3vF6hBGfMJlE",authDomain:"fridgee-casino.firebaseapp.com",projectId:"fridgee-casino",storageBucket:"fridgee-casino.firebasestorage.app",messagingSenderId:"30106011664",appId:"1:30106011664:web:0c1ee7d26f157fc4c46295"},pA=cC(XU),ol=L5(pA),xe=RU(pA),mA=w.createContext(void 0);function ri(){const t=w.useContext(mA);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function JU({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState(!0);w.useEffect(()=>OC(ol,h=>{n(h),s(!1)}),[]);const l={user:e,loading:r,signup:async(c,h,d)=>{const p=await _F(ol,c,h);await TF(p.user,{displayName:d}),n(p.user)},login:async(c,h)=>{await bF(ol,c,h)},logout:async()=>{await kF(ol)}};return f.jsx(mA.Provider,{value:l,children:t})}const lb={coins:0,chips:0,clickCount:0,clickValue:1,autoClickerValue:0,autoClickerInterval:1e4,activeCosmetics:{confettiClick:!1,backgroundTheme:!1,neonGlow:!1,particleTrail:!1,premiumTheme:!1,rainbowClicker:!1,starryBackground:!1,goldenFrame:!1,fireworksEffect:!1,velvetCurtains:!1},upgrades:{doubleClick:!1,tripleClick:!1,clickPowerII:0,autoClicker:!1,autoClickerBoost:!1,autoClickerPro:!1,autoClickerMax:!1,hyperClicker:!1,goldenDollar:!1,confettiClick:!1,backgroundTheme:!1,diceGame:!1,blackjackGame:!1,megaClick:!1,superAutoClicker:!1,turboMode:!1,luckyGambler:!1,vipStatus:!1,moneyMagnet:!1,clickMultiplierX5:!1,diamondClicker:!1,fortuneBoost:!1,highRoller:!1,rouletteGame:!1,pokerGame:!1,neonGlow:!1,particleTrail:!1,premiumTheme:!1,rainbowClicker:!1,starryBackground:!1,goldenFrame:!1,fireworksEffect:!1,velvetCurtains:!1}},gA=w.createContext(void 0),$n=()=>{const t=w.useContext(gA);if(!t)throw new Error("useGame must be used within a GameProvider");return t},ZU=({children:t})=>{const{user:e,loading:n}=ri(),r=!!e,[s,i]=w.useState(()=>{const k=localStorage.getItem("fridgee_casino_save-v2");return k?JSON.parse(k):lb});w.useEffect(()=>{localStorage.setItem("fridgee_casino_save-v2",JSON.stringify(s))},[s]),w.useEffect(()=>{(async()=>{if(r&&e&&!n)try{const N=e.uid,V=je(xe,"players",N),C=await Yn(V);if(C.exists()){const _=C.data();i(A=>({...A,coins:_.coins??A.coins,chips:_.chips??A.chips,clickCount:_.clickCount??A.clickCount,upgrades:_.upgrades?JSON.parse(_.upgrades):A.upgrades,activeCosmetics:_.activeCosmetics?JSON.parse(_.activeCosmetics):A.activeCosmetics}))}}catch(N){console.error("Failed to sync from Firebase:",N)}})()},[r,e,n]),w.useEffect(()=>{if(!r||!e)return;const k=setInterval(async()=>{try{const N=e.uid,V=je(xe,"players",N),C=await Yn(V);C.exists()?await nt(V,{coins:s.coins,chips:s.chips,clickCount:s.clickCount,upgrades:JSON.stringify(s.upgrades),activeCosmetics:JSON.stringify(s.activeCosmetics),highScore:Math.max(C.data().highScore||0,s.coins),lastUpdated:new Date}):await mg(V,{username:e.displayName||"Player",coins:s.coins,chips:s.chips,clickCount:s.clickCount,upgrades:JSON.stringify(s.upgrades),activeCosmetics:JSON.stringify(s.activeCosmetics),highScore:s.coins,totalClicks:s.clickCount,createdAt:new Date})}catch(N){console.error("Failed to save to Firebase:",N)}},3e4);return()=>clearInterval(k)},[r,e,s]),w.useEffect(()=>{if(r&&e&&s.coins>0){const k=setTimeout(async()=>{try{const N=e.uid,V=je(xe,"players",N),C=await Yn(V);if(C.exists()){const _=C.data().highScore||0;s.coins>_&&await nt(V,{highScore:s.coins,coins:s.coins,lastUpdated:new Date})}}catch(N){console.error("Failed to update leaderboard:",N)}},2e3);return()=>clearTimeout(k)}},[s.coins,r,e]),w.useEffect(()=>{if(s.autoClickerValue>0){const k=setInterval(()=>{o(s.autoClickerValue)},s.autoClickerInterval);return()=>clearInterval(k)}},[s.autoClickerValue,s.autoClickerInterval]),w.useEffect(()=>{if(s.upgrades.moneyMagnet){const k=setInterval(()=>{o(50)},3e4);return()=>clearInterval(k)}},[s.upgrades.moneyMagnet]);const o=k=>{i(N=>({...N,coins:N.coins+k}))},a=k=>s.coins>=k?(i(N=>({...N,coins:N.coins-k})),!0):!1,l=k=>{i(N=>({...N,chips:N.chips+k}))},c=k=>s.chips>=k?(i(N=>({...N,chips:N.chips-k})),!0):!1,h=k=>{const N=Math.floor(k/10),V=N*10;return N<=0?!1:a(V)?(l(N),!0):!1},d=k=>c(k)?(o(k*10),!0):!1,p=k=>{let N=1;return k.megaClick?N=10:k.tripleClick?N=3:k.doubleClick&&(N=2),N+=k.clickPowerII,k.goldenDollar&&(N*=2),k.clickMultiplierX5&&(N*=5),k.diamondClicker&&(N*=3),N},g=k=>{if(!k.autoClicker)return 0;let N=1;return k.autoClickerBoost&&(N=5),k.autoClickerPro&&(N=15),k.autoClickerMax&&(N=25),k.superAutoClicker&&(N=10),N},v=k=>k.hyperClicker?3e3:k.turboMode?5e3:1e4,y=(k,N)=>s.coins>=N?(i(V=>{const C={...V.upgrades};k==="clickPowerII"?C.clickPowerII+=1:C[k]=!0;const _=p(C),A=g(C),P=v(C);return{...V,coins:V.coins-N,upgrades:C,clickValue:_,autoClickerValue:A,autoClickerInterval:P}}),!0):!1,S=()=>{i(k=>({...k,clickCount:k.clickCount+1,coins:k.coins+k.clickValue}))},x=k=>{i(N=>({...N,activeCosmetics:{...N.activeCosmetics,[k]:!N.activeCosmetics[k]}}))},E=()=>{i(lb),localStorage.removeItem("fridgee_casino_save-v2")},T=async()=>{if(!(!r||!e))try{const k=e.uid,N=je(xe,"players",k),V=await Yn(N);V.exists()?await nt(N,{coins:s.coins,chips:s.chips,clickCount:s.clickCount,upgrades:JSON.stringify(s.upgrades),activeCosmetics:JSON.stringify(s.activeCosmetics),highScore:Math.max(V.data().highScore||0,s.coins),lastUpdated:new Date}):await mg(N,{username:e.displayName||"Player",coins:s.coins,chips:s.chips,clickCount:s.clickCount,upgrades:JSON.stringify(s.upgrades),activeCosmetics:JSON.stringify(s.activeCosmetics),highScore:s.coins,totalClicks:s.clickCount,createdAt:new Date})}catch(k){console.error("Failed to sync to Firebase:",k)}};return f.jsx(gA.Provider,{value:{state:s,toggleCosmetic:x,addCoins:o,removeCoins:a,addChips:l,removeChips:c,convertCoinsToChips:h,convertChipsToCoins:d,purchaseUpgrade:y,incrementClickCount:S,resetGame:E,syncToDatabase:T},children:t})};var Ep="focusScope.autoFocusOnMount",Tp="focusScope.autoFocusOnUnmount",cb={bubbles:!1,cancelable:!0},e6="FocusScope",yA=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=w.useState(null),c=Oi(s),h=Oi(i),d=w.useRef(null),p=ut(e,y=>l(y)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let y=function(T){if(g.paused||!a)return;const k=T.target;a.contains(k)?d.current=k:hs(d.current,{select:!0})},S=function(T){if(g.paused||!a)return;const k=T.relatedTarget;k!==null&&(a.contains(k)||hs(d.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const N of T)N.removedNodes.length>0&&hs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const E=new MutationObserver(x);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),E.disconnect()}}},[r,a,g.paused]),w.useEffect(()=>{if(a){db.add(g);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(Ep,cb);a.addEventListener(Ep,c),a.dispatchEvent(x),x.defaultPrevented||(t6(o6(vA(a)),{select:!0}),document.activeElement===y&&hs(a))}return()=>{a.removeEventListener(Ep,c),setTimeout(()=>{const x=new CustomEvent(Tp,cb);a.addEventListener(Tp,h),a.dispatchEvent(x),x.defaultPrevented||hs(y??document.body,{select:!0}),a.removeEventListener(Tp,h),db.remove(g)},0)}}},[a,c,h,g]);const v=w.useCallback(y=>{if(!n&&!r||g.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(S&&x){const E=y.currentTarget,[T,k]=n6(E);T&&k?!y.shiftKey&&x===k?(y.preventDefault(),n&&hs(T,{select:!0})):y.shiftKey&&x===T&&(y.preventDefault(),n&&hs(k,{select:!0})):x===E&&y.preventDefault()}},[n,r,g.paused]);return f.jsx(Ge.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});yA.displayName=e6;function t6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(hs(r,{select:e}),document.activeElement!==n)return}function n6(t){const e=vA(t),n=ub(e,t),r=ub(e.reverse(),t);return[n,r]}function vA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ub(t,e){for(const n of t)if(!r6(n,{upTo:e}))return n}function r6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function s6(t){return t instanceof HTMLInputElement&&"select"in t}function hs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&s6(t)&&e&&t.select()}}var db=i6();function i6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=hb(t,e),t.unshift(e)},remove(e){var n;t=hb(t,e),(n=t[0])==null||n.resume()}}}function hb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function o6(t){return t.filter(e=>e.tagName!=="A")}var Sp=0;function a6(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fb()),document.body.insertAdjacentElement("beforeend",t[1]??fb()),Sp++,()=>{Sp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sp--}},[])}function fb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ad="right-scroll-bar-position",ld="width-before-scroll-bar",l6="with-scroll-bars-hidden",c6="--removed-body-scroll-bar-size";function Cp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function u6(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var d6=typeof window<"u"?w.useLayoutEffect:w.useEffect,pb=new WeakMap;function h6(t,e){var n=u6(null,function(r){return t.forEach(function(s){return Cp(s,r)})});return d6(function(){var r=pb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Cp(a,null)}),i.forEach(function(a){s.has(a)||Cp(a,o)})}pb.set(n,t)},[t]),n}function f6(t){return t}function p6(t,e){e===void 0&&(e=f6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function m6(t){t===void 0&&(t={});var e=p6(null);return e.options=dr({async:!0,ssr:!1},t),e}var wA=function(t){var e=t.sideCar,n=mc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,dr({},n))};wA.isSideCarExport=!0;function g6(t,e){return t.useMedium(e),wA}var xA=m6(),kp=function(){},of=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:kp,onWheelCapture:kp,onTouchMoveCapture:kp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,d=t.shards,p=t.sideCar,g=t.noRelative,v=t.noIsolation,y=t.inert,S=t.allowPinchZoom,x=t.as,E=x===void 0?"div":x,T=t.gapMode,k=mc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,V=h6([n,e]),C=dr(dr({},k),s);return w.createElement(w.Fragment,null,h&&w.createElement(N,{sideCar:xA,removeScrollBar:c,shards:d,noRelative:g,noIsolation:v,inert:y,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:T}),o?w.cloneElement(w.Children.only(a),dr(dr({},C),{ref:V})):w.createElement(E,dr({},C,{className:l,ref:V}),a))});of.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};of.classNames={fullWidth:ld,zeroRight:ad};var y6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function v6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=y6();return e&&t.setAttribute("nonce",e),t}function w6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function x6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=v6())&&(w6(e,n),x6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},b6=function(){var t=_6();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_A=function(){var t=b6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},E6={left:0,top:0,right:0,gap:0},Ap=function(t){return parseInt(t||"",10)||0},T6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ap(n),Ap(r),Ap(s)]},S6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return E6;var e=T6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},C6=_A(),Wo="data-scroll-locked",k6=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(l6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Wo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ad,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ld,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wo,`] {
    `).concat(c6,": ").concat(a,`px;
  }
`)},mb=function(){var t=parseInt(document.body.getAttribute(Wo)||"0",10);return isFinite(t)?t:0},A6=function(){w.useEffect(function(){return document.body.setAttribute(Wo,(mb()+1).toString()),function(){var t=mb()-1;t<=0?document.body.removeAttribute(Wo):document.body.setAttribute(Wo,t.toString())}},[])},I6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;A6();var i=w.useMemo(function(){return S6(s)},[s]);return w.createElement(C6,{styles:k6(i,!e,s,n?"":"!important")})},gg=!1;if(typeof window<"u")try{var Au=Object.defineProperty({},"passive",{get:function(){return gg=!0,!0}});window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{gg=!1}var co=gg?{passive:!1}:!1,P6=function(t){return t.tagName==="TEXTAREA"},bA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!P6(t)&&n[e]==="visible")},R6=function(t){return bA(t,"overflowY")},N6=function(t){return bA(t,"overflowX")},gb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=EA(t,r);if(s){var i=TA(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},D6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},M6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EA=function(t,e){return t==="v"?R6(e):N6(e)},TA=function(t,e){return t==="v"?D6(e):M6(e)},j6=function(t,e){return t==="h"&&e==="rtl"?-1:1},V6=function(t,e,n,r,s){var i=j6(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,d=0,p=0;do{if(!a)break;var g=TA(t,a),v=g[0],y=g[1],S=g[2],x=y-S-i*v;(v||x)&&EA(t,a)&&(d+=x,p+=v);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(d)<1||!h&&Math.abs(p)<1)&&(c=!0),c},Iu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yb=function(t){return[t.deltaX,t.deltaY]},vb=function(t){return t&&"current"in t?t.current:t},O6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},L6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},F6=0,uo=[];function B6(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(F6++)[0],i=w.useState(_A)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=S4([t.lockRef.current],(t.shards||[]).map(vb),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=Iu(y),E=n.current,T="deltaX"in y?y.deltaX:E[0]-x[0],k="deltaY"in y?y.deltaY:E[1]-x[1],N,V=y.target,C=Math.abs(T)>Math.abs(k)?"h":"v";if("touches"in y&&C==="h"&&V.type==="range")return!1;var _=window.getSelection(),A=_&&_.anchorNode,P=A?A===V||A.contains(V):!1;if(P)return!1;var M=gb(C,V);if(!M)return!0;if(M?N=C:(N=C==="v"?"h":"v",M=gb(C,V)),!M)return!1;if(!r.current&&"changedTouches"in y&&(T||k)&&(r.current=N),!N)return!0;var D=r.current||N;return V6(D,S,y,D==="h"?T:k)},[]),l=w.useCallback(function(y){var S=y;if(!(!uo.length||uo[uo.length-1]!==i)){var x="deltaY"in S?yb(S):Iu(S),E=e.current.filter(function(N){return N.name===S.type&&(N.target===S.target||S.target===N.shadowParent)&&O6(N.delta,x)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var T=(o.current.shards||[]).map(vb).filter(Boolean).filter(function(N){return N.contains(S.target)}),k=T.length>0?a(S,T[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),c=w.useCallback(function(y,S,x,E){var T={name:y,delta:S,target:x,should:E,shadowParent:U6(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(k){return k!==T})},1)},[]),h=w.useCallback(function(y){n.current=Iu(y),r.current=void 0},[]),d=w.useCallback(function(y){c(y.type,yb(y),y.target,a(y,t.lockRef.current))},[]),p=w.useCallback(function(y){c(y.type,Iu(y),y.target,a(y,t.lockRef.current))},[]);w.useEffect(function(){return uo.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,co),document.addEventListener("touchmove",l,co),document.addEventListener("touchstart",h,co),function(){uo=uo.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,co),document.removeEventListener("touchmove",l,co),document.removeEventListener("touchstart",h,co)}},[]);var g=t.removeScrollBar,v=t.inert;return w.createElement(w.Fragment,null,v?w.createElement(i,{styles:L6(s)}):null,g?w.createElement(I6,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function U6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $6=g6(xA,B6);var SA=w.forwardRef(function(t,e){return w.createElement(of,dr({},t,{ref:e,sideCar:$6}))});SA.classNames=of.classNames;var z6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ho=new WeakMap,Pu=new WeakMap,Ru={},Ip=0,CA=function(t){return t&&(t.host||CA(t.parentNode))},W6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=CA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},H6=function(t,e,n,r){var s=W6(e,Array.isArray(t)?t:[t]);Ru[n]||(Ru[n]=new WeakMap);var i=Ru[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var h=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))h(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(ho.get(p)||0)+1,S=(i.get(p)||0)+1;ho.set(p,y),i.set(p,S),o.push(p),y===1&&v&&Pu.set(p,!0),S===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return h(e),a.clear(),Ip++,function(){o.forEach(function(d){var p=ho.get(d)-1,g=i.get(d)-1;ho.set(d,p),i.set(d,g),p||(Pu.has(d)||d.removeAttribute(r),Pu.delete(d)),g||d.removeAttribute(n)}),Ip--,Ip||(ho=new WeakMap,ho=new WeakMap,Pu=new WeakMap,Ru={})}},G6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=z6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),H6(r,s,n,"aria-hidden")):function(){return null}};function q6(t){const e=K6(t),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,a=w.Children.toArray(i),l=a.find(Y6);if(l){const c=l.props.children,h=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...o,ref:s,children:w.isValidElement(c)?w.cloneElement(c,void 0,h):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function K6(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=J6(s),a=X6(i,s.props);return s.type!==w.Fragment&&(a.ref=r?cc(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Q6=Symbol("radix.slottable");function Y6(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Q6}function X6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function J6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var af="Dialog",[kA]=ei(af),[Z6,ir]=kA(af),AA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=w.useRef(null),l=w.useRef(null),[c,h]=dc({prop:r,defaultProp:s??!1,onChange:i,caller:af});return f.jsx(Z6,{scope:e,triggerRef:a,contentRef:l,contentId:yl(),titleId:yl(),descriptionId:yl(),open:c,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(d=>!d),[h]),modal:o,children:n})};AA.displayName=af;var IA="DialogTrigger",e$=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ir(IA,n),i=ut(e,s.triggerRef);return f.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gv(s.open),...r,ref:i,onClick:Fe(t.onClick,s.onOpenToggle)})});e$.displayName=IA;var Wv="DialogPortal",[t$,PA]=kA(Wv,{forceMount:void 0}),RA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ir(Wv,e);return f.jsx(t$,{scope:e,forceMount:n,children:w.Children.map(r,o=>f.jsx(wa,{present:n||i.open,children:f.jsx(g1,{asChild:!0,container:s,children:o})}))})};RA.displayName=Wv;var ah="DialogOverlay",NA=w.forwardRef((t,e)=>{const n=PA(ah,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ir(ah,t.__scopeDialog);return i.modal?f.jsx(wa,{present:r||i.open,children:f.jsx(r$,{...s,ref:e})}):null});NA.displayName=ah;var n$=q6("DialogOverlay.RemoveScroll"),r$=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ir(ah,n);return f.jsx(SA,{as:n$,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(Ge.div,{"data-state":Gv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Hi="DialogContent",DA=w.forwardRef((t,e)=>{const n=PA(Hi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ir(Hi,t.__scopeDialog);return f.jsx(wa,{present:r||i.open,children:i.modal?f.jsx(s$,{...s,ref:e}):f.jsx(i$,{...s,ref:e})})});DA.displayName=Hi;var s$=w.forwardRef((t,e)=>{const n=ir(Hi,t.__scopeDialog),r=w.useRef(null),s=ut(e,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return G6(i)},[]),f.jsx(MA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Fe(t.onFocusOutside,i=>i.preventDefault())})}),i$=w.forwardRef((t,e)=>{const n=ir(Hi,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return f.jsx(MA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),MA=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ir(Hi,n),l=w.useRef(null),c=ut(e,l);return a6(),f.jsxs(f.Fragment,{children:[f.jsx(yA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Ay,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Gv(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(a$,{titleId:a.titleId}),f.jsx(c$,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Hv="DialogTitle",jA=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ir(Hv,n);return f.jsx(Ge.h2,{id:s.titleId,...r,ref:e})});jA.displayName=Hv;var VA="DialogDescription",o$=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ir(VA,n);return f.jsx(Ge.p,{id:s.descriptionId,...r,ref:e})});o$.displayName=VA;var OA="DialogClose",LA=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ir(OA,n);return f.jsx(Ge.button,{type:"button",...r,ref:e,onClick:Fe(t.onClick,()=>s.onOpenChange(!1))})});LA.displayName=OA;function Gv(t){return t?"open":"closed"}var FA="DialogTitleWarning",[IH,BA]=SD(FA,{contentName:Hi,titleName:Hv,docsSlug:"dialog"}),a$=({titleId:t})=>{const e=BA(FA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},l$="DialogDescriptionWarning",c$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BA(l$).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},u$=AA,d$=RA,h$=NA,f$=DA,p$=jA,m$=LA;const UA=w.createContext({isComposing:()=>!1,setComposing:()=>{},justEndedComposing:()=>!1,markCompositionEnd:()=>{}}),qv=()=>w.useContext(UA);function g$({...t}){const e=w.useRef(!1),n=w.useRef(!1),r=w.useRef(null),s=w.useMemo(()=>({isComposing:()=>e.current,setComposing:i=>{e.current=i},justEndedComposing:()=>n.current,markCompositionEnd:()=>{n.current=!0,r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{n.current=!1},150)}}),[]);return f.jsx(UA.Provider,{value:s,children:f.jsx(u$,{"data-slot":"dialog",...t})})}function y$({...t}){return f.jsx(d$,{"data-slot":"dialog-portal",...t})}function $A({className:t,...e}){return f.jsx(h$,{"data-slot":"dialog-overlay",className:We("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}$A.displayName="DialogOverlay";function v$({className:t,children:e,showCloseButton:n=!0,onEscapeKeyDown:r,...s}){const{isComposing:i}=qv(),o=w.useCallback(a=>{if(a.isComposing||i()){a.preventDefault();return}r==null||r(a)},[i,r]);return f.jsxs(y$,{"data-slot":"dialog-portal",children:[f.jsx($A,{}),f.jsxs(f$,{"data-slot":"dialog-content",className:We("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),onEscapeKeyDown:o,...s,children:[e,n&&f.jsxs(m$,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[f.jsx(Xu,{}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function w$({className:t,...e}){return f.jsx("div",{"data-slot":"dialog-header",className:We("flex flex-col gap-2 text-center sm:text-left",t),...e})}function x$({className:t,...e}){return f.jsx(p$,{"data-slot":"dialog-title",className:We("text-lg leading-none font-semibold",t),...e})}function Nu(t){const e=w.useRef(t);e.current=t;const n=w.useRef(null);return n.current||(n.current=function(...r){return e.current.apply(this,r)}),n.current}function zA(t={}){const{onKeyDown:e,onCompositionStart:n,onCompositionEnd:r}=t,s=w.useRef(!1),i=w.useRef(null),o=w.useRef(null),a=Nu(d=>{i.current&&(clearTimeout(i.current),i.current=null),o.current&&(clearTimeout(o.current),o.current=null),s.current=!0,n==null||n(d)}),l=Nu(d=>{i.current=setTimeout(()=>{o.current=setTimeout(()=>{s.current=!1})}),r==null||r(d)}),c=Nu(d=>{if(s.current&&(d.key==="Escape"||d.key==="Enter"&&!d.shiftKey)){d.stopPropagation();return}e==null||e(d)}),h=Nu(()=>s.current);return{onCompositionStart:a,onCompositionEnd:l,onKeyDown:c,isComposing:h}}function Ur({className:t,type:e,onKeyDown:n,onCompositionStart:r,onCompositionEnd:s,...i}){const o=qv(),{onCompositionStart:a,onCompositionEnd:l,onKeyDown:c}=zA({onKeyDown:h=>{const d=h.nativeEvent.isComposing||o.justEndedComposing();h.key==="Enter"&&d||n==null||n(h)},onCompositionStart:h=>{o.setComposing(!0),r==null||r(h)},onCompositionEnd:h=>{o.markCompositionEnd(),setTimeout(()=>{o.setComposing(!1)},100),s==null||s(h)}});return f.jsx("input",{type:e,"data-slot":"input",className:We("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),onCompositionStart:a,onCompositionEnd:l,onKeyDown:c,...i})}function _$({open:t,onClose:e}){const[n,r]=w.useState(!0),[s,i]=w.useState(""),[o,a]=w.useState(""),[l,c]=w.useState(""),[h,d]=w.useState(!1),{login:p,signup:g}=ri(),v=async y=>{y.preventDefault(),d(!0);try{if(n)await p(s,o),be.success("Welcome back!");else{if(!l.trim()){be.error("Please enter a display name"),d(!1);return}await g(s,o,l),be.success("Account created successfully!")}e(),i(""),a(""),c("")}catch(S){console.error("Auth error:",S),S.code==="auth/email-already-in-use"?be.error("Email already in use"):S.code==="auth/weak-password"?be.error("Password should be at least 6 characters"):S.code==="auth/invalid-email"?be.error("Invalid email address"):S.code==="auth/user-not-found"||S.code==="auth/wrong-password"?be.error("Invalid email or password"):be.error("Authentication failed. Please try again.")}finally{d(!1)}};return f.jsx(g$,{open:t,onOpenChange:e,children:f.jsxs(v$,{className:"sm:max-w-md bg-zinc-900 border-amber-600",children:[f.jsx(w$,{children:f.jsx(x$,{className:"text-2xl font-display text-amber-400",children:n?"Welcome Back":"Join the Casino"})}),f.jsxs("form",{onSubmit:v,className:"space-y-4",children:[!n&&f.jsxs("div",{children:[f.jsx("label",{className:"text-sm text-zinc-400 mb-1 block",children:"Display Name"}),f.jsx(Ur,{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Your casino name",required:!n,className:"bg-zinc-800 border-zinc-700 text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm text-zinc-400 mb-1 block",children:"Email"}),f.jsx(Ur,{type:"email",value:s,onChange:y=>i(y.target.value),placeholder:"your@email.com",required:!0,className:"bg-zinc-800 border-zinc-700 text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm text-zinc-400 mb-1 block",children:"Password"}),f.jsx(Ur,{type:"password",value:o,onChange:y=>a(y.target.value),placeholder:"",required:!0,minLength:6,className:"bg-zinc-800 border-zinc-700 text-white"})]}),f.jsx(he,{type:"submit",disabled:h,className:"w-full bg-amber-600 hover:bg-amber-500 text-black font-bold",children:h?"Processing...":n?"Sign In":"Create Account"}),f.jsx("button",{type:"button",onClick:()=>r(!n),className:"w-full text-sm text-amber-400 hover:text-amber-300 transition-colors",children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})]})]})})}function b$({children:t}){var v;const{state:e,resetGame:n}=$n(),{user:r,logout:s}=ri(),[i,o]=w.useState({x:0,y:0}),[a,l]=w.useState([]),[c,h]=w.useState(!1),[d,p]=w.useState([]),g=async()=>{try{await s(),be.success("Logged out successfully")}catch{be.error("Failed to log out")}};return w.useEffect(()=>{if(!e.activeCosmetics.particleTrail)return;const y=S=>{o({x:S.clientX,y:S.clientY});const x={id:Date.now()+Math.random(),x:S.clientX,y:S.clientY};l(E=>[...E.slice(-15),x])};return window.addEventListener("mousemove",y),()=>window.removeEventListener("mousemove",y)},[e.activeCosmetics.particleTrail]),w.useEffect(()=>{if(!e.activeCosmetics.starryBackground){p([]);return}const y=Array.from({length:100},(S,x)=>({id:x,x:Math.random()*100,y:Math.random()*100}));p(y)},[e.activeCosmetics.starryBackground]),f.jsxs("div",{className:We("min-h-screen w-full text-amber-50 font-sans overflow-x-hidden transition-colors duration-700",e.activeCosmetics.premiumTheme?"bg-gradient-to-br from-purple-950 via-indigo-950 to-purple-900":e.activeCosmetics.backgroundTheme?"bg-slate-900":"bg-zinc-950"),children:[e.activeCosmetics.starryBackground&&f.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[d.map(y=>f.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full animate-pulse",style:{left:`${y.x}%`,top:`${y.y}%`,opacity:Math.random()*.7+.3,animation:`twinkle ${2+Math.random()*3}s infinite`}},y.id)),f.jsx("style",{children:`
            @keyframes twinkle {
              0%, 100% { opacity: 0.3; }
              50% { opacity: 1; }
            }
          `})]}),e.activeCosmetics.velvetCurtains&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed left-0 top-0 z-0 w-20 h-full bg-gradient-to-r from-red-900 via-red-800 to-transparent opacity-60 pointer-events-none"}),f.jsx("div",{className:"fixed right-0 top-0 z-0 w-20 h-full bg-gradient-to-l from-red-900 via-red-800 to-transparent opacity-60 pointer-events-none"})]}),e.activeCosmetics.particleTrail&&a.map(y=>f.jsx("div",{className:"fixed w-2 h-2 rounded-full pointer-events-none z-[9998] animate-ping",style:{left:`${y.x}px`,top:`${y.y}px`,background:`hsl(${y.id*137.5%360}, 70%, 60%)`}},y.id)),f.jsx("div",{className:"fixed inset-0 z-0 opacity-40 pointer-events-none mix-blend-overlay",style:{backgroundImage:"url('/images/art_deco_bg.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),f.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.8)_100%)]"}),e.activeCosmetics.goldenFrame&&f.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none border-8 border-yellow-400/30 shadow-inset"}),f.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[f.jsx("header",{className:"w-full p-6 border-b border-amber-500/20 bg-black/40 backdrop-blur-md sticky top-0 z-50",children:f.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-display font-bold text-transparent bg-clip-text bg-gradient-to-b from-amber-200 to-amber-600",children:"Fridgee's Casino"}),f.jsx("p",{className:"text-xs text-amber-400/60 tracking-widest uppercase",children:"Est. 2025  iamfridgee@gmail.com"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsxs("span",{className:"text-xs text-blue-400/80 uppercase tracking-wider flex items-center gap-1",children:[f.jsx(eO,{className:"w-3 h-3"})," Clicks"]}),f.jsx("span",{className:"text-lg font-bold font-mono text-blue-100",children:e.clickCount.toLocaleString()})]}),f.jsx("div",{className:"h-8 w-px bg-amber-500/30"}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-xs text-amber-500/80 uppercase tracking-wider",children:"Wallet"}),f.jsxs("span",{className:"text-xl font-bold font-mono text-amber-100",children:["$",e.coins.toLocaleString()]})]}),f.jsx("div",{className:"h-8 w-px bg-amber-500/30"}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-xs text-emerald-500/80 uppercase tracking-wider",children:"Chips"}),f.jsx("span",{className:"text-xl font-bold font-mono text-emerald-100",children:e.chips.toLocaleString()})]}),f.jsx("div",{className:"h-8 w-px bg-amber-500/30"}),r?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-amber-300",children:(v=r.email)==null?void 0:v.split("@")[0]}),f.jsx(he,{onClick:g,variant:"ghost",size:"sm",className:"text-amber-400 hover:text-amber-300",children:f.jsx(YV,{className:"w-4 h-4"})})]}):f.jsx(he,{onClick:()=>h(!0),variant:"ghost",size:"sm",className:"text-amber-400 hover:text-amber-300",children:f.jsx(QV,{className:"w-4 h-4"})}),f.jsx(he,{onClick:n,variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300",children:f.jsx(By,{className:"w-4 h-4"})})]})]})}),f.jsx("main",{className:"flex-1 container mx-auto py-8",children:t}),f.jsx("footer",{className:"border-t border-amber-500/20 bg-black/40 backdrop-blur-md p-4 text-center text-amber-200/60 text-xs",children:f.jsx("p",{children:" 2025 Fridgee's Casino. All rights reserved."})})]}),f.jsx(_$,{open:c,onOpenChange:h})]})}const WA=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),lf=w.createContext({}),cf=w.createContext(null),uf=typeof document<"u",Kv=uf?w.useLayoutEffect:w.useEffect,HA=w.createContext({strict:!1}),Qv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),E$="framerAppearId",GA="data-"+Qv(E$);function T$(t,e,n,r){const{visualElement:s}=w.useContext(lf),i=w.useContext(HA),o=w.useContext(cf),a=w.useContext(WA).reducedMotion,l=w.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;w.useInsertionEffect(()=>{c&&c.update(n,o)});const h=w.useRef(!!(n[GA]&&!window.HandoffComplete));return Kv(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),w.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function Ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function S$(t,e,n){return w.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ao(n)&&(n.current=r))},[e])}function tc(t){return typeof t=="string"||Array.isArray(t)}function df(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xv=["initial",...Yv];function hf(t){return df(t.animate)||Xv.some(e=>tc(t[e]))}function qA(t){return!!(hf(t)||t.variants)}function C$(t,e){if(hf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tc(n)?n:void 0,animate:tc(r)?r:void 0}}return t.inherit!==!1?e:{}}function k$(t){const{initial:e,animate:n}=C$(t,w.useContext(lf));return w.useMemo(()=>({initial:e,animate:n}),[wb(e),wb(n)])}function wb(t){return Array.isArray(t)?t.join(" "):t}const xb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nc={};for(const t in xb)nc[t]={isEnabled:e=>xb[t].some(n=>!!e[n])};function A$(t){for(const e in t)nc[e]={...nc[e],...t[e]}}const Jv=w.createContext({}),KA=w.createContext({}),I$=Symbol.for("motionComponentSymbol");function P$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&A$(t);function i(a,l){let c;const h={...w.useContext(WA),...a,layoutId:R$(a)},{isStatic:d}=h,p=k$(a),g=r(a,d);if(!d&&uf){p.visualElement=T$(s,g,h,e);const v=w.useContext(KA),y=w.useContext(HA).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,y,t,v))}return w.createElement(lf.Provider,{value:p},c&&p.visualElement?w.createElement(c,{visualElement:p.visualElement,...h}):null,n(s,a,S$(g,p.visualElement,l),g,d,p.visualElement))}const o=w.forwardRef(i);return o[I$]=s,o}function R$({layoutId:t}){const e=w.useContext(Jv).id;return e&&t!==void 0?e+"-"+t:t}function N$(t){function e(r,s={}){return P$(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const D$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zv(t){return typeof t!="string"||t.includes("-")?!1:!!(D$.indexOf(t)>-1||/[A-Z]/.test(t))}const lh={};function M$(t){Object.assign(lh,t)}const Ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ji=new Set(Ac);function QA(t,{layout:e,layoutId:n}){return Ji.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lh[t]||t==="opacity")}const _n=t=>!!(t&&t.getVelocity),j$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V$=Ac.length;function O$(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<V$;o++){const a=Ac[o];if(t[a]!==void 0){const l=j$[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const YA=t=>e=>typeof e=="string"&&e.startsWith(t),XA=YA("--"),yg=YA("var(--"),L$=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,F$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qs=(t,e,n)=>Math.min(Math.max(n,t),e),Zi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},El={...Zi,transform:t=>Qs(0,1,t)},Du={...Zi,default:1},Tl=t=>Math.round(t*1e5)/1e5,ff=/(-)?([\d]*\.?[\d])+/g,JA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,B$=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ic(t){return typeof t=="string"}const Pc=t=>({test:e=>Ic(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fs=Pc("deg"),br=Pc("%"),ye=Pc("px"),U$=Pc("vh"),$$=Pc("vw"),_b={...br,parse:t=>br.parse(t)/100,transform:t=>br.transform(t*100)},bb={...Zi,transform:Math.round},ZA={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,size:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:Du,scaleX:Du,scaleY:Du,scaleZ:Du,skew:fs,skewX:fs,skewY:fs,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:El,originX:_b,originY:_b,originZ:ye,zIndex:bb,fillOpacity:El,strokeOpacity:El,numOctaves:bb};function e0(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,h=!0;for(const d in e){const p=e[d];if(XA(d)){i[d]=p;continue}const g=ZA[d],v=F$(p,g);if(Ji.has(d)){if(l=!0,o[d]=v,!h)continue;p!==(g.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=v):s[d]=v}if(e.transform||(l||r?s.transform=O$(t.transform,n,h,r):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;s.transformOrigin=`${d} ${p} ${g}`}}const t0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eI(t,e,n){for(const r in e)!_n(e[r])&&!QA(r,n)&&(t[r]=e[r])}function z$({transformTemplate:t},e,n){return w.useMemo(()=>{const r=t0();return e0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function W$(t,e,n){const r=t.style||{},s={};return eI(s,r,t),Object.assign(s,z$(t,e,n)),t.transformValues?t.transformValues(s):s}function H$(t,e,n){const r={},s=W$(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const G$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ch(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||G$.has(t)}let tI=t=>!ch(t);function q$(t){t&&(tI=e=>e.startsWith("on")?!ch(e):t(e))}try{q$(require("@emotion/is-prop-valid").default)}catch{}function K$(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(tI(s)||n===!0&&ch(s)||!e&&!ch(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Eb(t,e,n){return typeof t=="string"?t:ye.transform(e+n*t)}function Q$(t,e,n){const r=Eb(e,t.x,t.width),s=Eb(n,t.y,t.height);return`${r} ${s}`}const Y$={offset:"stroke-dashoffset",array:"stroke-dasharray"},X$={offset:"strokeDashoffset",array:"strokeDasharray"};function J$(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Y$:X$;t[i.offset]=ye.transform(-r);const o=ye.transform(e),a=ye.transform(n);t[i.array]=`${o} ${a}`}function n0(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(e0(t,c,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v,dimensions:y}=t;g.transform&&(y&&(v.transform=g.transform),delete g.transform),y&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=Q$(y,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&J$(g,o,a,l,!1)}const nI=()=>({...t0(),attrs:{}}),r0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Z$(t,e,n,r){const s=w.useMemo(()=>{const i=nI();return n0(i,e,{enableHardwareAcceleration:!1},r0(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};eI(i,t.style,t),s.style={...i,...s.style}}return s}function e9(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Zv(n)?Z$:H$)(r,i,o,n),h={...K$(r,typeof n=="string",t),...l,ref:s},{children:d}=r,p=w.useMemo(()=>_n(d)?d.get():d,[d]);return w.createElement(n,{...h,children:p})}}function rI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const sI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iI(t,e,n,r){rI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(sI.has(s)?s:Qv(s),e.attrs[s])}function s0(t,e){const{style:n}=t,r={};for(const s in n)(_n(n[s])||e.style&&_n(e.style[s])||QA(s,t))&&(r[s]=n[s]);return r}function oI(t,e){const n=s0(t,e);for(const r in t)if(_n(t[r])||_n(e[r])){const s=Ac.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function i0(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function aI(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const uh=t=>Array.isArray(t),t9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),n9=t=>uh(t)?t[t.length-1]||0:t;function cd(t){const e=_n(t)?t.get():t;return t9(e)?e.toValue():e}function r9({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:s9(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const lI=t=>(e,n)=>{const r=w.useContext(lf),s=w.useContext(cf),i=()=>r9(t,e,r,s);return n?i():aI(i)};function s9(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=cd(i[p]);let{initial:o,animate:a}=t;const l=hf(t),c=qA(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!df(d)&&(Array.isArray(d)?d:[d]).forEach(g=>{const v=i0(t,g);if(!v)return;const{transitionEnd:y,transition:S,...x}=v;for(const E in x){let T=x[E];if(Array.isArray(T)){const k=h?T.length-1:0;T=T[k]}T!==null&&(s[E]=T)}for(const E in y)s[E]=y[E]}),s}const yt=t=>t;class Tb{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function i9(t){let e=new Tb,n=new Tb,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&s,p=d?e:n;return c&&o.add(l),p.add(l)&&d&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const Mu=["prepare","read","update","preRender","render","postRender"],o9=40;function a9(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Mu.reduce((d,p)=>(d[p]=i9(()=>n=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,o9),1),s.timestamp=d,s.isProcessing=!0,Mu.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Mu.reduce((d,p)=>{const g=i[p];return d[p]=(v,y=!1,S=!1)=>(n||l(),g.schedule(v,y,S)),d},{}),cancel:d=>Mu.forEach(p=>i[p].cancel(d)),state:s,steps:i}}const{schedule:Qe,cancel:ts,state:Yt,steps:Pp}=a9(typeof requestAnimationFrame<"u"?requestAnimationFrame:yt,!0),l9={useVisualState:lI({scrapeMotionValuesFromProps:oI,createRenderState:nI,onMount:(t,e,{renderState:n,latestValues:r})=>{Qe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Qe.render(()=>{n0(n,r,{enableHardwareAcceleration:!1},r0(e.tagName),t.transformTemplate),iI(e,n)})}})},c9={useVisualState:lI({scrapeMotionValuesFromProps:s0,createRenderState:t0})};function u9(t,{forwardMotionProps:e=!1},n,r){return{...Zv(t)?l9:c9,preloadedFeatures:n,useRender:e9(e),createVisualElement:r,Component:t}}function Lr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const cI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function pf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const d9=t=>e=>cI(e)&&t(e,pf(e));function $r(t,e,n,r){return Lr(t,e,d9(n),r)}const h9=(t,e)=>n=>e(t(n)),Bs=(...t)=>t.reduce(h9);function uI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Sb=uI("dragHorizontal"),Cb=uI("dragVertical");function dI(t){let e=!1;if(t==="y")e=Cb();else if(t==="x")e=Sb();else{const n=Sb(),r=Cb();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function hI(){const t=dI(!0);return t?(t(),!1):!0}class si{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kb(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||hI())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Qe.update(()=>a[r](i,o))};return $r(t.current,n,s,{passive:!t.getProps()[r]})}class f9 extends si{mount(){this.unmount=Bs(kb(this.node,!0),kb(this.node,!1))}unmount(){}}class p9 extends si{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bs(Lr(this.node.current,"focus",()=>this.onFocus()),Lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fI=(t,e)=>e?t===e?!0:fI(t,e.parentElement):!1;function Rp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,pf(n))}class m9 extends si{constructor(){super(...arguments),this.removeStartListeners=yt,this.removeEndListeners=yt,this.removeAccessibleListeners=yt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=$r(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps();Qe.update(()=>{!d&&!fI(this.node.current,a.target)?h&&h(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=$r(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Bs(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Rp("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Qe.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Lr(this.node.current,"keyup",o),Rp("down",(a,l)=>{this.startPress(a,l)})},n=Lr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Rp("cancel",(i,o)=>this.cancelPress(i,o))},s=Lr(this.node.current,"blur",r);this.removeAccessibleListeners=Bs(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Qe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Qe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=$r(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Lr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Bs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const vg=new WeakMap,Np=new WeakMap,g9=t=>{const e=vg.get(t.target);e&&e(t)},y9=t=>{t.forEach(g9)};function v9({root:t,...e}){const n=t||document;Np.has(n)||Np.set(n,{});const r=Np.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(y9,{root:t,...e})),r[s]}function w9(t,e,n){const r=v9(e);return vg.set(t,n),r.observe(t),()=>{vg.delete(t),r.unobserve(t)}}const x9={some:0,all:1};class _9 extends si{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:x9[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return w9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(b9(e,n))&&this.startObserver()}unmount(){}}function b9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const E9={inView:{Feature:_9},tap:{Feature:m9},focus:{Feature:p9},hover:{Feature:f9}};function pI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function T9(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function S9(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function mf(t,e,n){const r=t.getProps();return i0(r,e,n!==void 0?n:r.custom,T9(t),S9(t))}let o0=yt;const Ri=t=>t*1e3,zr=t=>t/1e3,C9={current:!1},mI=t=>Array.isArray(t)&&typeof t[0]=="number";function gI(t){return!!(!t||typeof t=="string"&&yI[t]||mI(t)||Array.isArray(t)&&t.every(gI))}const al=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,yI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:al([0,.65,.55,1]),circOut:al([.55,0,1,.45]),backIn:al([.31,.01,.66,-.59]),backOut:al([.33,1.53,.69,.99])};function vI(t){if(t)return mI(t)?al(t):Array.isArray(t)?t.map(vI):yI[t]}function k9(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=vI(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function A9(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const wI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,I9=1e-7,P9=12;function R9(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=wI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>I9&&++a<P9);return o}function Rc(t,e,n,r){if(t===e&&n===r)return yt;const s=i=>R9(i,0,1,t,n);return i=>i===0||i===1?i:wI(s(i),e,r)}const N9=Rc(.42,0,1,1),D9=Rc(0,0,.58,1),xI=Rc(.42,0,.58,1),M9=t=>Array.isArray(t)&&typeof t[0]!="number",_I=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bI=t=>e=>1-t(1-e),a0=t=>1-Math.sin(Math.acos(t)),EI=bI(a0),j9=_I(a0),TI=Rc(.33,1.53,.69,.99),l0=bI(TI),V9=_I(l0),O9=t=>(t*=2)<1?.5*l0(t):.5*(2-Math.pow(2,-10*(t-1))),L9={linear:yt,easeIn:N9,easeInOut:xI,easeOut:D9,circIn:a0,circInOut:j9,circOut:EI,backIn:l0,backInOut:V9,backOut:TI,anticipate:O9},Ab=t=>{if(Array.isArray(t)){o0(t.length===4);const[e,n,r,s]=t;return Rc(e,n,r,s)}else if(typeof t=="string")return L9[t];return t},c0=(t,e)=>n=>!!(Ic(n)&&B$.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),SI=(t,e,n)=>r=>{if(!Ic(r))return r;const[s,i,o,a]=r.match(ff);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},F9=t=>Qs(0,255,t),Dp={...Zi,transform:t=>Math.round(F9(t))},ki={test:c0("rgb","red"),parse:SI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dp.transform(t)+", "+Dp.transform(e)+", "+Dp.transform(n)+", "+Tl(El.transform(r))+")"};function B9(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const wg={test:c0("#"),parse:B9,transform:ki.transform},Io={test:c0("hsl","hue"),parse:SI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+br.transform(Tl(e))+", "+br.transform(Tl(n))+", "+Tl(El.transform(r))+")"},rn={test:t=>ki.test(t)||wg.test(t)||Io.test(t),parse:t=>ki.test(t)?ki.parse(t):Io.test(t)?Io.parse(t):wg.parse(t),transform:t=>Ic(t)?t:t.hasOwnProperty("red")?ki.transform(t):Io.transform(t)},st=(t,e,n)=>-n*t+n*e+t;function Mp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function U9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Mp(l,a,t+1/3),i=Mp(l,a,t),o=Mp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const jp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},$9=[wg,ki,Io],z9=t=>$9.find(e=>e.test(t));function Ib(t){const e=z9(t);let n=e.parse(t);return e===Io&&(n=U9(n)),n}const CI=(t,e)=>{const n=Ib(t),r=Ib(e),s={...n};return i=>(s.red=jp(n.red,r.red,i),s.green=jp(n.green,r.green,i),s.blue=jp(n.blue,r.blue,i),s.alpha=st(n.alpha,r.alpha,i),ki.transform(s))};function W9(t){var e,n;return isNaN(t)&&Ic(t)&&(((e=t.match(ff))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(JA))===null||n===void 0?void 0:n.length)||0)>0}const kI={regex:L$,countKey:"Vars",token:"${v}",parse:yt},AI={regex:JA,countKey:"Colors",token:"${c}",parse:rn.parse},II={regex:ff,countKey:"Numbers",token:"${n}",parse:Zi.parse};function Vp(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function dh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Vp(n,kI),Vp(n,AI),Vp(n,II),n}function PI(t){return dh(t).values}function RI(t){const{values:e,numColors:n,numVars:r,tokenised:s}=dh(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(kI.token,o[l]):l<r+n?a=a.replace(AI.token,rn.transform(o[l])):a=a.replace(II.token,Tl(o[l]));return a}}const H9=t=>typeof t=="number"?0:t;function G9(t){const e=PI(t);return RI(t)(e.map(H9))}const Ys={test:W9,parse:PI,createTransformer:RI,getAnimatableNone:G9},NI=(t,e)=>n=>`${n>0?e:t}`;function DI(t,e){return typeof t=="number"?n=>st(t,e,n):rn.test(t)?CI(t,e):t.startsWith("var(")?NI(t,e):jI(t,e)}const MI=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>DI(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},q9=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=DI(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},jI=(t,e)=>{const n=Ys.createTransformer(e),r=dh(t),s=dh(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Bs(MI(r.values,s.values),n):NI(t,e)},rc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Pb=(t,e)=>n=>st(t,e,n);function K9(t){return typeof t=="number"?Pb:typeof t=="string"?rn.test(t)?CI:jI:Array.isArray(t)?MI:typeof t=="object"?q9:Pb}function Q9(t,e,n){const r=[],s=n||K9(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||yt:e;a=Bs(l,a)}r.push(a)}return r}function VI(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(o0(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Q9(e,r,s),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=rc(t[h],t[h+1],c);return o[h](d)};return n?c=>l(Qs(t[0],t[i-1],c)):l}function Y9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=rc(0,e,r);t.push(st(n,1,s))}}function X9(t){const e=[0];return Y9(e,t.length-1),e}function J9(t,e){return t.map(n=>n*e)}function Z9(t,e){return t.map(()=>e||xI).splice(0,t.length-1)}function hh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=M9(r)?r.map(Ab):Ab(r),i={done:!1,value:e[0]},o=J9(n&&n.length===e.length?n:X9(e),t),a=VI(o,e,{ease:Array.isArray(s)?s:Z9(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function OI(t,e){return e?t*(1e3/e):0}const ez=5;function LI(t,e,n){const r=Math.max(e-ez,0);return OI(n-t(r),e-r)}const Op=.001,tz=.01,nz=10,rz=.05,sz=1;function iz({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Qs(rz,sz,o),t=Qs(tz,nz,zr(t)),o<1?(s=c=>{const h=c*o,d=h*t,p=h-n,g=xg(c,o),v=Math.exp(-d);return Op-p/g*v},i=c=>{const d=c*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-d),y=xg(Math.pow(c,2),o);return(-s(c)+Op>0?-1:1)*((p-g)*v)/y}):(s=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-Op+h*d},i=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=az(s,i,a);if(t=Ri(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const oz=12;function az(t,e,n){let r=n;for(let s=1;s<oz;s++)r=r-t(r)/e(r);return r}function xg(t,e){return t*Math.sqrt(1-e*e)}const lz=["duration","bounce"],cz=["stiffness","damping","mass"];function Rb(t,e){return e.some(n=>t[n]!==void 0)}function uz(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Rb(t,cz)&&Rb(t,lz)){const n=iz(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function FI({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=uz({...r,velocity:-zr(r.velocity||0)}),g=d||0,v=l/(2*Math.sqrt(a*c)),y=i-s,S=zr(Math.sqrt(a/c)),x=Math.abs(y)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let E;if(v<1){const T=xg(S,v);E=k=>{const N=Math.exp(-v*S*k);return i-N*((g+v*S*y)/T*Math.sin(T*k)+y*Math.cos(T*k))}}else if(v===1)E=T=>i-Math.exp(-S*T)*(y+(g+S*y)*T);else{const T=S*Math.sqrt(v*v-1);E=k=>{const N=Math.exp(-v*S*k),V=Math.min(T*k,300);return i-N*((g+v*S*y)*Math.sinh(V)+T*y*Math.cosh(V))/T}}return{calculatedDuration:p&&h||null,next:T=>{const k=E(T);if(p)o.done=T>=h;else{let N=g;T!==0&&(v<1?N=LI(E,T,k):N=0);const V=Math.abs(N)<=n,C=Math.abs(i-k)<=e;o.done=V&&C}return o.value=o.done?i:k,o}}}function Nb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},g=_=>a!==void 0&&_<a||l!==void 0&&_>l,v=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let y=n*e;const S=d+y,x=o===void 0?S:o(S);x!==S&&(y=x-d);const E=_=>-y*Math.exp(-_/r),T=_=>x+E(_),k=_=>{const A=E(_),P=T(_);p.done=Math.abs(A)<=c,p.value=p.done?x:P};let N,V;const C=_=>{g(p.value)&&(N=_,V=FI({keyframes:[p.value,v(p.value)],velocity:LI(T,_,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:_=>{let A=!1;return!V&&N===void 0&&(A=!0,k(_),C(_)),N!==void 0&&_>N?V.next(_-N):(!A&&k(_),p)}}}const dz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Qe.update(e,!0),stop:()=>ts(e),now:()=>Yt.isProcessing?Yt.timestamp:performance.now()}},Db=2e4;function Mb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Db;)e+=n,r=t.next(e);return e>=Db?1/0:e}const hz={decay:Nb,inertia:Nb,tween:hh,keyframes:hh,spring:FI};function fh({autoplay:t=!0,delay:e=0,driver:n=dz,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:d,...p}){let g=1,v=!1,y,S;const x=()=>{S=new Promise(se=>{y=se})};x();let E;const T=hz[s]||hh;let k;T!==hh&&typeof r[0]!="number"&&(k=VI([0,100],r,{clamp:!1}),r=[0,100]);const N=T({...p,keyframes:r});let V;a==="mirror"&&(V=T({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",_=null,A=null,P=null;N.calculatedDuration===null&&i&&(N.calculatedDuration=Mb(N));const{calculatedDuration:M}=N;let D=1/0,I=1/0;M!==null&&(D=M+o,I=D*(i+1)-o);let H=0;const ee=se=>{if(A===null)return;g>0&&(A=Math.min(A,se)),g<0&&(A=Math.min(se-I/g,A)),_!==null?H=_:H=Math.round(se-A)*g;const ve=H-e*(g>=0?1:-1),j=g>=0?ve<0:ve>I;H=Math.max(ve,0),C==="finished"&&_===null&&(H=I);let $=H,G=N;if(i){const we=Math.min(H,I)/D;let fe=Math.floor(we),Ce=we%1;!Ce&&we>=1&&(Ce=1),Ce===1&&fe--,fe=Math.min(fe,i+1),!!(fe%2)&&(a==="reverse"?(Ce=1-Ce,o&&(Ce-=o/D)):a==="mirror"&&(G=V)),$=Qs(0,1,Ce)*D}const J=j?{done:!1,value:r[0]}:G.next($);k&&(J.value=k(J.value));let{done:B}=J;!j&&M!==null&&(B=g>=0?H>=I:H<=0);const ne=_===null&&(C==="finished"||C==="running"&&B);return d&&d(J.value),ne&&O(),J},W=()=>{E&&E.stop(),E=void 0},te=()=>{C="idle",W(),y(),x(),A=P=null},O=()=>{C="finished",h&&h(),W(),y()},K=()=>{if(v)return;E||(E=n(ee));const se=E.now();l&&l(),_!==null?A=se-_:(!A||C==="finished")&&(A=se),C==="finished"&&x(),P=A,_=null,C="running",E.start()};t&&K();const X={then(se,ve){return S.then(se,ve)},get time(){return zr(H)},set time(se){se=Ri(se),H=se,_!==null||!E||g===0?_=se:A=E.now()-se/g},get duration(){const se=N.calculatedDuration===null?Mb(N):N.calculatedDuration;return zr(se)},get speed(){return g},set speed(se){se===g||!E||(g=se,X.time=zr(H))},get state(){return C},play:K,pause:()=>{C="paused",_=H},stop:()=>{v=!0,C!=="idle"&&(C="idle",c&&c(),te())},cancel:()=>{P!==null&&ee(P),te()},complete:()=>{C="finished"},sample:se=>(A=0,ee(se))};return X}function fz(t){let e;return()=>(e===void 0&&(e=t()),e)}const pz=fz(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),mz=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ju=10,gz=2e4,yz=(t,e)=>e.type==="spring"||t==="backgroundColor"||!gI(e.ease);function vz(t,e,{onUpdate:n,onComplete:r,...s}){if(!(pz()&&mz.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const h=()=>{l=new Promise(T=>{a=T})};h();let{keyframes:d,duration:p=300,ease:g,times:v}=s;if(yz(e,s)){const T=fh({...s,repeat:0,delay:0});let k={done:!1,value:d[0]};const N=[];let V=0;for(;!k.done&&V<gz;)k=T.sample(V),N.push(k.value),V+=ju;v=void 0,d=N,p=V-ju,g="linear"}const y=k9(t.owner.current,e,d,{...s,duration:p,ease:g,times:v}),S=()=>{c=!1,y.cancel()},x=()=>{c=!0,Qe.update(S),a(),h()};return y.onfinish=()=>{c||(t.set(A9(d,s)),r&&r(),x())},{then(T,k){return l.then(T,k)},attachTimeline(T){return y.timeline=T,y.onfinish=null,yt},get time(){return zr(y.currentTime||0)},set time(T){y.currentTime=Ri(T)},get speed(){return y.playbackRate},set speed(T){y.playbackRate=T},get duration(){return zr(p)},play:()=>{o||(y.play(),ts(S))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:T}=y;if(T){const k=fh({...s,autoplay:!1});t.setWithVelocity(k.sample(T-ju).value,k.sample(T).value,ju)}x()},complete:()=>{c||y.finish()},cancel:x}}function wz({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:yt,pause:yt,stop:yt,then:i=>(i(),Promise.resolve()),cancel:yt,complete:yt});return e?fh({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const xz={type:"spring",stiffness:500,damping:25,restSpeed:10},_z=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bz={type:"keyframes",duration:.8},Ez={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tz=(t,{keyframes:e})=>e.length>2?bz:Ji.has(t)?t.startsWith("scale")?_z(e[1]):xz:Ez,_g=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ys.test(e)||e==="0")&&!e.startsWith("url(")),Sz=new Set(["brightness","contrast","saturate","opacity"]);function Cz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ff)||[];if(!r)return t;const s=n.replace(r,"");let i=Sz.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const kz=/([a-z-]*)\(.*?\)/g,bg={...Ys,getAnimatableNone:t=>{const e=t.match(kz);return e?e.map(Cz).join(" "):t}},Az={...ZA,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:bg,WebkitFilter:bg},u0=t=>Az[t];function BI(t,e){let n=u0(t);return n!==bg&&(n=Ys),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const UI=t=>/^0[^.\s]+$/.test(t);function Iz(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||UI(t)}function Pz(t,e,n,r){const s=_g(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Iz(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];i[h]=BI(e,a)}return i}function Rz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function d0(t,e){return t[e]||t.default||t}const Nz={skipAnimations:!1},h0=(t,e,n,r={})=>s=>{const i=d0(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ri(o);const l=Pz(e,t,n,i),c=l[0],h=l[l.length-1],d=_g(t,c),p=_g(t,h);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{e.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(Rz(i)||(g={...g,...Tz(t,g)}),g.duration&&(g.duration=Ri(g.duration)),g.repeatDelay&&(g.repeatDelay=Ri(g.repeatDelay)),!d||!p||C9.current||i.type===!1||Nz.skipAnimations)return wz(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=vz(e,t,g);if(v)return v}return fh(g)};function ph(t){return!!(_n(t)&&t.add)}const $I=t=>/^\-?\d*\.?\d+$/.test(t);function f0(t,e){t.indexOf(e)===-1&&t.push(e)}function p0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class m0{constructor(){this.subscriptions=[]}add(e){return f0(this.subscriptions,e),()=>p0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dz=t=>!isNaN(parseFloat(t));class Mz{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Yt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Qe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Qe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Dz(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new m0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?OI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ha(t,e){return new Mz(t,e)}const zI=t=>e=>e.test(t),jz={test:t=>t==="auto",parse:t=>t},WI=[Zi,ye,br,fs,$$,U$,jz],Ka=t=>WI.find(zI(t)),Vz=[...WI,rn,Ys],Oz=t=>Vz.find(zI(t));function Lz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ha(n))}function Fz(t,e){const n=mf(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=n9(i[o]);Lz(t,o,a)}}function Bz(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),h!=null&&(typeof h=="string"&&($I(h)||UI(h))?h=parseFloat(h):!Oz(h)&&Ys.test(c)&&(h=BI(l,c)),t.addValue(l,ha(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function Uz(t,e){return e?(e[t]||e.default||e).from:void 0}function $z(t,e,n){const r={};for(const s in t){const i=Uz(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function zz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Wz(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function HI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const p=t.getValue(d),g=a[d];if(!p||g===void 0||h&&zz(h,d))continue;const v={delay:n,elapsed:0,...d0(i||{},d)};if(window.HandoffAppearAnimations){const x=t.getProps()[GA];if(x){const E=window.HandoffAppearAnimations(x,d,p,Qe);E!==null&&(v.elapsed=E,v.isHandoff=!0)}}let y=!v.isHandoff&&!Wz(p,g);if(v.type==="spring"&&(p.getVelocity()||v.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(h0(d,p,g,t.shouldReduceMotion&&Ji.has(d)?{type:!1}:v));const S=p.animation;ph(l)&&(l.add(d),S.then(()=>l.remove(d))),c.push(S)}return o&&Promise.all(c).then(()=>{o&&Fz(t,o)}),c}function Eg(t,e,n={}){const r=mf(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(HI(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=s;return Hz(t,e,c+l,h,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function Hz(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Gz).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Eg(c,e,{...i,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Gz(t,e){return t.sortNodePosition(e)}function qz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Eg(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Eg(t,e,n);else{const s=typeof e=="function"?mf(t,e,n.custom):e;r=Promise.all(HI(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Kz=[...Yv].reverse(),Qz=Yv.length;function Yz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>qz(t,n,r)))}function Xz(t){let e=Yz(t);const n=Zz();let r=!0;const s=(l,c)=>{const h=mf(t,c);if(h){const{transition:d,transitionEnd:p,...g}=h;l={...l,...g,...p}}return l};function i(l){e=l(t)}function o(l,c){const h=t.getProps(),d=t.getVariantContext(!0)||{},p=[],g=new Set;let v={},y=1/0;for(let x=0;x<Qz;x++){const E=Kz[x],T=n[E],k=h[E]!==void 0?h[E]:d[E],N=tc(k),V=E===c?T.isActive:null;V===!1&&(y=x);let C=k===d[E]&&k!==h[E]&&N;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),T.protectedKeys={...v},!T.isActive&&V===null||!k&&!T.prevProp||df(k)||typeof k=="boolean")continue;let A=Jz(T.prevProp,k)||E===c&&T.isActive&&!C&&N||x>y&&N,P=!1;const M=Array.isArray(k)?k:[k];let D=M.reduce(s,{});V===!1&&(D={});const{prevResolvedValues:I={}}=T,H={...I,...D},ee=W=>{A=!0,g.has(W)&&(P=!0,g.delete(W)),T.needsAnimating[W]=!0};for(const W in H){const te=D[W],O=I[W];if(v.hasOwnProperty(W))continue;let K=!1;uh(te)&&uh(O)?K=!pI(te,O):K=te!==O,K?te!==void 0?ee(W):g.add(W):te!==void 0&&g.has(W)?ee(W):T.protectedKeys[W]=!0}T.prevProp=k,T.prevResolvedValues=D,T.isActive&&(v={...v,...D}),r&&t.blockInitialAnimation&&(A=!1),A&&(!C||P)&&p.push(...M.map(W=>({animation:W,options:{type:E,...l}})))}if(g.size){const x={};g.forEach(E=>{const T=t.getBaseTarget(E);T!==void 0&&(x[E]=T)}),p.push({animation:x})}let S=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function a(l,c,h){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const p=o(h,l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function Jz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pI(e,t):!1}function pi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zz(){return{animate:pi(!0),whileInView:pi(),whileHover:pi(),whileTap:pi(),whileDrag:pi(),whileFocus:pi(),exit:pi()}}class e7 extends si{constructor(e){super(e),e.animationState||(e.animationState=Xz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),df(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let t7=0;class n7 extends si{constructor(){super(...arguments),this.id=t7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const r7={animation:{Feature:e7},exit:{Feature:n7}},jb=(t,e)=>Math.abs(t-e);function s7(t,e){const n=jb(t.x,e.x),r=jb(t.y,e.y);return Math.sqrt(n**2+r**2)}class GI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Fp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=s7(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=d,{timestamp:y}=Yt;this.history.push({...v,timestamp:y});const{onStart:S,onMove:x}=this.handlers;p||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Lp(p,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Fp(d.type==="pointercancel"?this.lastMoveEventInfo:Lp(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,S),v&&v(d,S)},!cI(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=pf(e),a=Lp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Yt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Fp(a,this.history)),this.removeListeners=Bs($r(this.contextWindow,"pointermove",this.handlePointerMove),$r(this.contextWindow,"pointerup",this.handlePointerUp),$r(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ts(this.updatePoint)}}function Lp(t,e){return e?{point:e(t.point)}:t}function Vb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fp({point:t},e){return{point:t,delta:Vb(t,qI(e)),offset:Vb(t,i7(e)),velocity:o7(e,.1)}}function i7(t){return t[0]}function qI(t){return t[t.length-1]}function o7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=qI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ri(e)));)n--;if(!r)return{x:0,y:0};const i=zr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Pn(t){return t.max-t.min}function Tg(t,e=0,n=.01){return Math.abs(t-e)<=n}function Ob(t,e,n,r=.5){t.origin=r,t.originPoint=st(e.min,e.max,t.origin),t.scale=Pn(n)/Pn(e),(Tg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=st(n.min,n.max,t.origin)-t.originPoint,(Tg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Sl(t,e,n,r){Ob(t.x,e.x,n.x,r?r.originX:void 0),Ob(t.y,e.y,n.y,r?r.originY:void 0)}function Lb(t,e,n){t.min=n.min+e.min,t.max=t.min+Pn(e)}function a7(t,e,n){Lb(t.x,e.x,n.x),Lb(t.y,e.y,n.y)}function Fb(t,e,n){t.min=e.min-n.min,t.max=t.min+Pn(e)}function Cl(t,e,n){Fb(t.x,e.x,n.x),Fb(t.y,e.y,n.y)}function l7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?st(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?st(n,t,r.max):Math.min(t,n)),t}function Bb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function c7(t,{top:e,left:n,bottom:r,right:s}){return{x:Bb(t.x,n,s),y:Bb(t.y,e,r)}}function Ub(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function u7(t,e){return{x:Ub(t.x,e.x),y:Ub(t.y,e.y)}}function d7(t,e){let n=.5;const r=Pn(t),s=Pn(e);return s>r?n=rc(e.min,e.max-r,t.min):r>s&&(n=rc(t.min,t.max-s,e.min)),Qs(0,1,n)}function h7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sg=.35;function f7(t=Sg){return t===!1?t=0:t===!0&&(t=Sg),{x:$b(t,"left","right"),y:$b(t,"top","bottom")}}function $b(t,e,n){return{min:zb(t,e),max:zb(t,n)}}function zb(t,e){return typeof t=="number"?t:t[e]||0}const Wb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Po=()=>({x:Wb(),y:Wb()}),Hb=()=>({min:0,max:0}),_t=()=>({x:Hb(),y:Hb()});function jn(t){return[t("x"),t("y")]}function KI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function p7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function m7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bp(t){return t===void 0||t===1}function Cg({scale:t,scaleX:e,scaleY:n}){return!Bp(t)||!Bp(e)||!Bp(n)}function xi(t){return Cg(t)||QI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function QI(t){return Gb(t.x)||Gb(t.y)}function Gb(t){return t&&t!=="0%"}function mh(t,e,n){const r=t-n,s=e*r;return n+s}function qb(t,e,n,r,s){return s!==void 0&&(t=mh(t,s,r)),mh(t,n,r)+e}function kg(t,e=0,n=1,r,s){t.min=qb(t.min,e,n,r,s),t.max=qb(t.max,e,n,r,s)}function YI(t,{x:e,y:n}){kg(t.x,e.translate,e.scale,e.originPoint),kg(t.y,n.translate,n.scale,n.originPoint)}function g7(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ro(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,YI(t,o)),r&&xi(i.latestValues)&&Ro(t,i.latestValues))}e.x=Kb(e.x),e.y=Kb(e.y)}function Kb(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function gs(t,e){t.min=t.min+e,t.max=t.max+e}function Qb(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=st(t.min,t.max,i);kg(t,e[n],e[r],o,e.scale)}const y7=["x","scaleX","originX"],v7=["y","scaleY","originY"];function Ro(t,e){Qb(t.x,e,y7),Qb(t.y,e,v7)}function XI(t,e){return KI(m7(t.getBoundingClientRect(),e))}function w7(t,e,n){const r=XI(t,n),{scroll:s}=e;return s&&(gs(r.x,s.offset.x),gs(r.y,s.offset.y)),r}const JI=({current:t})=>t?t.ownerDocument.defaultView:null,x7=new WeakMap;class _7{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pf(h,"page").point)},i=(h,d)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dI(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(S=>{let x=this.getAxisMotionValue(S).get()||0;if(br.test(x)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[S];T&&(x=Pn(T)*(parseFloat(x)/100))}}this.originPoint[S]=x}),v&&Qe.update(()=>v(h,d),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=d;if(g&&this.currentDirection===null){this.currentDirection=b7(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),y&&y(h,d)},a=(h,d)=>this.stop(h,d),l=()=>jn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new GI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:JI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Qe.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Vu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=l7(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=c7(s.layoutBox,n):this.constraints=!1,this.elastic=f7(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=h7(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ao(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=w7(r,s.root,this.visualElement.getTransformPagePoint());let o=u7(s.layout.layoutBox,i);if(n){const a=n(p7(o));this.hasMutatedConstraints=!!a,a&&(o=KI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=jn(h=>{if(!Vu(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(h0(e,r,0,n))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!Vu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-st(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ao(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=d7({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(o=>{if(!Vu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(st(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;x7.set(this.visualElement,this);const e=this.visualElement.current,n=$r(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ao(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Lr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(jn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Sg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Vu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function b7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class E7 extends si{constructor(e){super(e),this.removeGroupControls=yt,this.removeListeners=yt,this.controls=new _7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Yb=t=>(e,n)=>{t&&Qe.update(()=>t(e,n))};class T7 extends si{constructor(){super(...arguments),this.removePointerDownListener=yt}onPointerDown(e){this.session=new GI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Yb(e),onStart:Yb(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Qe.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=$r(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function S7(){const t=w.useContext(cf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=w.useId();return w.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=Xb(t,e.target.x),r=Xb(t,e.target.y);return`${n}% ${r}%`}},C7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ys.parse(t);if(s.length>5)return r;const i=Ys.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=st(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class k7 extends Y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;M$(A7),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Qe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZI(t){const[e,n]=S7(),r=w.useContext(Jv);return Y.createElement(k7,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(KA),isPresent:e,safeToRemove:n})}const A7={borderRadius:{...Qa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qa,borderTopRightRadius:Qa,borderBottomLeftRadius:Qa,borderBottomRightRadius:Qa,boxShadow:C7},eP=["TopLeft","TopRight","BottomLeft","BottomRight"],I7=eP.length,Jb=t=>typeof t=="string"?parseFloat(t):t,Zb=t=>typeof t=="number"||ye.test(t);function P7(t,e,n,r,s,i){s?(t.opacity=st(0,n.opacity!==void 0?n.opacity:1,R7(r)),t.opacityExit=st(e.opacity!==void 0?e.opacity:1,0,N7(r))):i&&(t.opacity=st(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<I7;o++){const a=`border${eP[o]}Radius`;let l=eE(e,a),c=eE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Zb(l)===Zb(c)?(t[a]=Math.max(st(Jb(l),Jb(c),r),0),(br.test(c)||br.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=st(e.rotate||0,n.rotate||0,r))}function eE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const R7=tP(0,.5,EI),N7=tP(.5,.95,yt);function tP(t,e,n){return r=>r<t?0:r>e?1:n(rc(t,e,r))}function tE(t,e){t.min=e.min,t.max=e.max}function Mn(t,e){tE(t.x,e.x),tE(t.y,e.y)}function nE(t,e,n,r,s){return t-=e,t=mh(t,1/n,r),s!==void 0&&(t=mh(t,1/s,r)),t}function D7(t,e=0,n=1,r=.5,s,i=t,o=t){if(br.test(e)&&(e=parseFloat(e),e=st(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=st(i.min,i.max,r);t===i&&(a-=e),t.min=nE(t.min,e,n,a,s),t.max=nE(t.max,e,n,a,s)}function rE(t,e,[n,r,s],i,o){D7(t,e[n],e[r],e[s],e.scale,i,o)}const M7=["x","scaleX","originX"],j7=["y","scaleY","originY"];function sE(t,e,n,r){rE(t.x,e,M7,n?n.x:void 0,r?r.x:void 0),rE(t.y,e,j7,n?n.y:void 0,r?r.y:void 0)}function iE(t){return t.translate===0&&t.scale===1}function nP(t){return iE(t.x)&&iE(t.y)}function V7(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function rP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function oE(t){return Pn(t.x)/Pn(t.y)}class O7{constructor(){this.members=[]}add(e){f0(this.members,e),e.scheduleRender()}remove(e){if(p0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aE(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const L7=(t,e)=>t.depth-e.depth;class F7{constructor(){this.children=[],this.isDirty=!1}add(e){f0(this.children,e),this.isDirty=!0}remove(e){p0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(L7),this.isDirty=!1,this.children.forEach(e)}}function B7(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ts(r),t(i-e))};return Qe.read(r,!0),()=>ts(r)}function U7(t){window.MotionDebug&&window.MotionDebug.record(t)}function $7(t){return t instanceof SVGElement&&t.tagName!=="svg"}function z7(t,e,n){const r=_n(t)?t:ha(t);return r.start(h0("",r,e,n)),r.animation}const lE=["","X","Y","Z"],W7={visibility:"hidden"},cE=1e3;let H7=0;const _i={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function sP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=H7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_i.totalNodes=_i.resolvedTargetDeltas=_i.recalculatedProjection=0,this.nodes.forEach(K7),this.nodes.forEach(Z7),this.nodes.forEach(e8),this.nodes.forEach(Q7),U7(_i)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new F7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new m0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$7(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=B7(p,250),ud.hasAnimatedSinceResize&&(ud.hasAnimatedSinceResize=!1,this.nodes.forEach(dE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||i8,{onLayoutAnimationStart:S,onLayoutAnimationComplete:x}=h.getProps(),E=!this.targetLayout||!rP(this.targetLayout,v)||g,T=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,T);const k={...d0(y,"layout"),onPlay:S,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||dE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(t8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uE);return}this.isUpdating||this.nodes.forEach(X7),this.isUpdating=!1,this.nodes.forEach(J7),this.nodes.forEach(G7),this.nodes.forEach(q7),this.clearAllSnapshots();const a=performance.now();Yt.delta=Qs(0,1e3/60,a-Yt.timestamp),Yt.timestamp=a,Yt.isProcessing=!0,Pp.update.process(Yt),Pp.preRender.process(Yt),Pp.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Y7),this.sharedNodes.forEach(n8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!nP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||xi(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),o8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return _t();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(gs(a.x,l.offset.x),gs(a.y,l.offset.y)),a}removeElementScroll(o){const a=_t();Mn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){Mn(a,o);const{scroll:p}=this.root;p&&(gs(a.x,-p.offset.x),gs(a.y,-p.offset.y))}gs(a.x,h.offset.x),gs(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=_t();Mn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ro(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),xi(h.latestValues)&&Ro(l,h.latestValues)}return xi(this.latestValues)&&Ro(l,this.latestValues),l}removeTransform(o){const a=_t();Mn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!xi(c.latestValues))continue;Cg(c.latestValues)&&c.updateSnapshot();const h=_t(),d=c.measurePageBox();Mn(h,d),sE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return xi(this.latestValues)&&sE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Cl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mn(this.target,this.layout.layoutBox),YI(this.target,this.targetDelta)):Mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Cl(this.relativeTargetOrigin,this.target,g.target),Mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_i.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cg(this.parent.latestValues)||QI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Mn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;g7(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Po(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Po(),this.projectionDeltaWithTransform=Po());const y=this.projectionTransform;Sl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=aE(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),_i.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=_t(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,S=this.getStack(),x=!S||S.members.length<=1,E=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(s8));this.animationProgress=0;let T;this.mixTargetDelta=k=>{const N=k/1e3;hE(d.x,o.x,N),hE(d.y,o.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r8(this.relativeTarget,this.relativeTargetOrigin,p,N),T&&V7(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=_t()),Mn(T,this.relativeTarget)),y&&(this.animationValues=h,P7(h,c,this.latestValues,N,E,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{ud.hasAnimatedSinceResize=!0,this.currentAnimation=z7(0,cE,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&iP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||_t();const d=Pn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Pn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Mn(a,l),Ro(a,h),Sl(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new O7),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<lE.length;h++){const d="rotate"+lE[h];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return W7;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=cd(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=cd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!xi(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=aE(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in lh){if(p[y]===void 0)continue;const{correct:S,applyTo:x}=lh[y],E=c.transform==="none"?p[y]:S(p[y],d);if(x){const T=x.length;for(let k=0;k<T;k++)c[x[k]]=E}else c[y]=E}return this.options.layoutId&&(c.pointerEvents=d===this?cd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(uE),this.root.sharedNodes.clear()}}}function G7(t){t.updateLayout()}function q7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?jn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Pn(p);p.min=r[d].min,p.max=p.min+g}):iP(i,n.layoutBox,r)&&jn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],g=Pn(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Po();Sl(a,r,n.layoutBox);const l=Po();o?Sl(l,t.applyTransform(s,!0),n.measuredBox):Sl(l,r,n.layoutBox);const c=!nP(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const v=_t();Cl(v,n.layoutBox,p.layoutBox);const y=_t();Cl(y,r,g.layoutBox),rP(v,y)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function K7(t){_i.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Q7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Y7(t){t.clearSnapshot()}function uE(t){t.clearMeasurements()}function X7(t){t.isLayoutDirty=!1}function J7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Z7(t){t.resolveTargetDelta()}function e8(t){t.calcProjection()}function t8(t){t.resetRotation()}function n8(t){t.removeLeadSnapshot()}function hE(t,e,n){t.translate=st(e.translate,0,n),t.scale=st(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fE(t,e,n,r){t.min=st(e.min,n.min,r),t.max=st(e.max,n.max,r)}function r8(t,e,n,r){fE(t.x,e.x,n.x,r),fE(t.y,e.y,n.y,r)}function s8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const i8={duration:.45,ease:[.4,0,.1,1]},pE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),mE=pE("applewebkit/")&&!pE("chrome/")?Math.round:yt;function gE(t){t.min=mE(t.min),t.max=mE(t.max)}function o8(t){gE(t.x),gE(t.y)}function iP(t,e,n){return t==="position"||t==="preserve-aspect"&&!Tg(oE(e),oE(n),.2)}const a8=sP({attachResizeListener:(t,e)=>Lr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Up={current:void 0},oP=sP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Up.current){const t=new a8({});t.mount(window),t.setOptions({layoutScroll:!0}),Up.current=t}return Up.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),l8={pan:{Feature:T7},drag:{Feature:E7,ProjectionNode:oP,MeasureLayout:ZI}},c8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function u8(t){const e=c8.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Ag(t,e,n=1){const[r,s]=u8(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return $I(o)?parseFloat(o):o}else return yg(s)?Ag(s,e,n+1):s}function d8(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!yg(i))return;const o=Ag(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!yg(i))continue;const o=Ag(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const h8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),aP=t=>h8.has(t),f8=t=>Object.keys(t).some(aP),yE=t=>t===Zi||t===ye,vE=(t,e)=>parseFloat(t.split(", ")[e]),wE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return vE(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?vE(i[1],t):0}},p8=new Set(["x","y","z"]),m8=Ac.filter(t=>!p8.has(t));function g8(t){const e=[];return m8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const fa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:wE(4,13),y:wE(5,14)};fa.translateX=fa.x;fa.translateY=fa.y;const y8=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=fa[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=fa[c](l,i)}),t},v8=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(aP);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],d=Ka(h);const p=e[l];let g;if(uh(p)){const v=p.length,y=p[0]===null?1:0;h=p[y],d=Ka(h);for(let S=y;S<v&&p[S]!==null;S++)g?o0(Ka(p[S])===g):g=Ka(p[S])}else g=Ka(p);if(d!==g)if(yE(d)&&yE(g)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&g===ye&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(g!=null&&g.transform)&&(h===0||p===0)?h===0?c.set(g.transform(h)):e[l]=d.transform(p):(o||(i=g8(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=y8(e,t,a);return i.length&&i.forEach(([h,d])=>{t.getValue(h).set(d)}),t.render(),uf&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function w8(t,e,n,r){return f8(e)?v8(t,e,n,r):{target:e,transitionEnd:r}}const x8=(t,e,n,r)=>{const s=d8(t,e,r);return e=s.target,r=s.transitionEnd,w8(t,e,n,r)},Ig={current:null},lP={current:!1};function _8(){if(lP.current=!0,!!uf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ig.current=t.matches;t.addListener(e),e()}else Ig.current=!1}function b8(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(_n(i))t.addValue(s,i),ph(r)&&r.add(s);else if(_n(o))t.addValue(s,ha(i,{owner:t})),ph(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,ha(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const xE=new WeakMap,cP=Object.keys(nc),E8=cP.length,_E=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],T8=Xv.length;class S8{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=hf(n),this.isVariantNode=qA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const d in h){const p=h[d];a[d]!==void 0&&_n(p)&&(p.set(a[d],!1),ph(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,xE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),lP.current||_8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ig.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xE.delete(this.current),this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ji.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Qe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<E8;l++){const c=cP[l],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:g}=nc[c];p&&(o=p),h(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&Ao(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_E.length;r++){const s=_E[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=b8(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<T8;r++){const s=Xv[r],i=this.props[s];(tc(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ha(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=i0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!_n(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new m0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class uP extends S8{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=$z(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){Bz(this,r,o);const a=x8(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function C8(t){return window.getComputedStyle(t)}class k8 extends uP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ji.has(n)){const r=u0(n);return r&&r.default||0}else{const r=C8(e),s=(XA(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XI(e,n)}build(e,n,r,s){e0(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return s0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_n(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){rI(e,n,r,s)}}class A8 extends uP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ji.has(n)){const r=u0(n);return r&&r.default||0}return n=sI.has(n)?n:Qv(n),e.getAttribute(n)}measureInstanceViewportBox(){return _t()}scrapeMotionValuesFromProps(e,n){return oI(e,n)}build(e,n,r,s){n0(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){iI(e,n,r,s)}mount(e){this.isSVGTag=r0(e.tagName),super.mount(e)}}const I8=(t,e)=>Zv(t)?new A8(e,{enableHardwareAcceleration:!1}):new k8(e,{enableHardwareAcceleration:!0}),P8={layout:{ProjectionNode:oP,MeasureLayout:ZI}},R8={...r7,...E9,...l8,...P8},Gi=N$((t,e)=>u9(t,e,R8,I8));function dP(){const t=w.useRef(!1);return Kv(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function N8(){const t=dP(),[e,n]=w.useState(0),r=w.useCallback(()=>{t.current&&n(e+1)},[e]);return[w.useCallback(()=>Qe.postRender(r),[r]),e]}class D8 extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function M8({children:t,isPresent:e}){const n=w.useId(),r=w.useRef(null),s=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),w.createElement(D8,{isPresent:e,childRef:r,sizeRef:s},w.cloneElement(t,{ref:r}))}const $p=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=aI(j8),l=w.useId(),c=w.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),i?void 0:[n]);return w.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),w.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=w.createElement(M8,{isPresent:n},t)),w.createElement(cf.Provider,{value:c},t)};function j8(){return new Map}function V8(t){return w.useEffect(()=>()=>t(),[])}const bi=t=>t.key||"";function O8(t,e){t.forEach(n=>{const r=bi(n);e.set(r,n)})}function L8(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const F8=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=w.useContext(Jv).forceRender||N8()[0],l=dP(),c=L8(t);let h=c;const d=w.useRef(new Map).current,p=w.useRef(h),g=w.useRef(new Map).current,v=w.useRef(!0);if(Kv(()=>{v.current=!1,O8(c,g),p.current=h}),V8(()=>{v.current=!0,g.clear(),d.clear()}),v.current)return w.createElement(w.Fragment,null,h.map(E=>w.createElement($p,{key:bi(E),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},E)));h=[...h];const y=p.current.map(bi),S=c.map(bi),x=y.length;for(let E=0;E<x;E++){const T=y[E];S.indexOf(T)===-1&&!d.has(T)&&d.set(T,void 0)}return o==="wait"&&d.size&&(h=[]),d.forEach((E,T)=>{if(S.indexOf(T)!==-1)return;const k=g.get(T);if(!k)return;const N=y.indexOf(T);let V=E;if(!V){const C=()=>{d.delete(T);const _=Array.from(g.keys()).filter(A=>!S.includes(A));if(_.forEach(A=>g.delete(A)),p.current=c.filter(A=>{const P=bi(A);return P===T||_.includes(P)}),!d.size){if(l.current===!1)return;a(),r&&r()}};V=w.createElement($p,{key:bi(k),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:i,mode:o},k),d.set(T,V)}h.splice(N,0,V)}),h=h.map(E=>{const T=E.key;return d.has(T)?E:w.createElement($p,{key:bi(E),isPresent:!0,presenceAffectsLayout:i,mode:o},E)}),w.createElement(w.Fragment,null,d.size?h:h.map(E=>w.cloneElement(E)))};function B8(){const{user:t}=ri(),{state:e,incrementClickCount:n}=$n(),[r,s]=w.useState([]),[i,o]=w.useState(0),a=w.useRef(null),l=w.useRef(null),c=w.useRef(null),h=w.useRef(null),[d,p]=w.useState(!1),[g,v]=w.useState(1);w.useEffect(()=>(console.log("Initializing audio..."),l.current=new Audio("/sounds/click1.mp3"),c.current=new Audio("/sounds/click2.mp3"),h.current=new Audio("/sounds/click3.mp3"),[l.current,c.current,h.current].forEach(x=>{x&&(x.volume=.5,x.preload="auto",x.onerror=()=>console.warn("Audio failed to load"),x.oncanplaythrough=()=>console.log("Audio ready to play"))}),()=>{l.current&&l.current.pause(),c.current&&c.current.pause(),h.current&&h.current.pause()}),[]),w.useEffect(()=>{if(!t){console.log("No user logged in, disabling sound"),p(!1);return}console.log("Setting up real-time listener for user:",t.uid);const x=KU(je(xe,"players",t.uid),E=>{if(E.exists()){const T=E.data();console.log(" Real-time sound update:",{soundEnabled:T.soundEnabled,selectedSound:T.selectedSound,timestamp:new Date().toISOString()}),p(T.soundEnabled||!1),v(T.selectedSound||1)}else console.log("User document not found in Firestore"),p(!1),v(1)},E=>{console.error("Real-time listener error:",E)});return()=>{console.log("Cleaning up real-time listener"),x()}},[t]);const y=()=>{if(console.log("Attempting to play sound..."),console.log("Local sound state:",{soundEnabled:d,selectedSound:g}),!d){console.log("Sound disabled");return}console.log("Selected sound number:",g);let x=null;switch(g){case 1:x=l.current;break;case 2:x=c.current;break;case 3:x=h.current;break;default:x=l.current}x?(console.log("Playing audio element:",x),x.currentTime=0,x.play().then(()=>{console.log(" Audio played successfully")}).catch(E=>{console.error(" Failed to play audio:",E);try{const T=new Audio(`/sounds/click${g}.mp3`);T.volume=.5,T.play().catch(k=>console.log("Fallback also failed:",k))}catch{console.log("Could not create fallback audio")}})):console.error("Audio element not found for sound:",g)};w.useEffect(()=>{if(!e.activeCosmetics.rainbowClicker)return;const x=setInterval(()=>{o(E=>(E+2)%360)},30);return()=>clearInterval(x)},[e.activeCosmetics.rainbowClicker]);const S=x=>{var T;console.log("Click detected, playing sound..."),y(),n();const E=(T=a.current)==null?void 0:T.getBoundingClientRect();if(E){const k=x.clientX-E.left,N=x.clientY-E.top,V={id:Date.now(),x:k,y:N,val:e.clickValue};s(C=>[...C,V]),setTimeout(()=>{s(C=>C.filter(_=>_.id!==V.id))},1e3)}if(e.activeCosmetics.confettiClick){const k=["#FF6B6B","#4ECDC4","#FFE66D","#A8E6CF","#FF8B94"];for(let N=0;N<8;N++){const V=document.createElement("div");V.style.position="fixed",V.style.left=`${x.clientX}px`,V.style.top=`${x.clientY}px`,V.style.width="8px",V.style.height="8px",V.style.borderRadius="50%",V.style.backgroundColor=k[Math.floor(Math.random()*k.length)],V.style.pointerEvents="none",V.style.zIndex="9999",document.body.appendChild(V);const C=Math.PI*2*N/8,_=50+Math.random()*50,A=Math.cos(C)*_,P=Math.sin(C)*_;let M=x.clientX,D=x.clientY,I=1;const H=()=>{M+=A*.016,D+=P*.016+2,I-=.02,V.style.left=`${M}px`,V.style.top=`${D}px`,V.style.opacity=`${I}`,I>0?requestAnimationFrame(H):document.body.removeChild(V)};requestAnimationFrame(H)}}if(e.activeCosmetics.fireworksEffect&&e.clickValue>100)for(let k=0;k<12;k++){const N=document.createElement("div");N.style.position="fixed",N.style.left=`${x.clientX}px`,N.style.top=`${x.clientY}px`,N.style.width="6px",N.style.height="6px",N.style.borderRadius="50%",N.style.backgroundColor=`hsl(${Math.random()*360}, 100%, 50%)`,N.style.pointerEvents="none",N.style.zIndex="9999",N.style.boxShadow="0 0 10px currentColor",document.body.appendChild(N);const V=Math.PI*2*k/12,C=100+Math.random()*100,_=Math.cos(V)*C,A=Math.sin(V)*C;let P=x.clientX,M=x.clientY,D=1;const I=()=>{P+=_*.016,M+=A*.016+3,D-=.015,N.style.left=`${P}px`,N.style.top=`${M}px`,N.style.opacity=`${D}`,D>0?requestAnimationFrame(I):document.body.removeChild(N)};requestAnimationFrame(I)}};return f.jsxs("div",{className:"relative flex flex-col items-center justify-center p-8",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsxs("h2",{className:"text-4xl font-bold text-amber-400 font-display drop-shadow-lg",children:["$",e.coins.toLocaleString()]}),f.jsx("p",{className:"text-amber-200/60 text-sm uppercase tracking-widest mt-1",children:"Current Balance"})]}),f.jsxs(Gi.button,{ref:a,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"relative group cursor-pointer outline-none",children:[e.activeCosmetics.rainbowClicker&&f.jsx("div",{className:"absolute inset-0 rounded-full blur-2xl opacity-60 group-hover:opacity-100 transition-opacity",style:{background:`conic-gradient(from ${i}deg, red, yellow, lime, cyan, blue, magenta, red)`,width:"280px",height:"280px",left:"-20px",top:"-20px"}}),e.activeCosmetics.goldenFrame&&f.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-yellow-400 blur-sm opacity-70 pointer-events-none",style:{width:"240px",height:"240px",left:"-10px",top:"-10px"}}),f.jsx("div",{className:We("absolute inset-0 rounded-full blur-3xl transition-all duration-500",e.activeCosmetics.neonGlow?"bg-cyan-500/40 group-hover:bg-cyan-400/60 animate-pulse":"bg-amber-500/20 group-hover:bg-amber-500/30")}),f.jsx("img",{src:"/images/gold_coin_clicker.png",alt:"Click me!",className:"relative w-64 h-64 object-contain drop-shadow-2xl"}),f.jsx(F8,{children:r.map(x=>f.jsxs(Gi.div,{initial:{opacity:1,y:0},animate:{opacity:0,y:-50},exit:{opacity:0},transition:{duration:1},className:"absolute pointer-events-none font-bold text-lg text-amber-300",style:{left:x.x,top:x.y},children:["+$",x.val.toLocaleString()]},x.id))})]})]})}const U8=[{key:"doubleClick",name:"Double Click",description:"Earn $2 per click instead of $1",cost:50,icon:"",category:"clicker"},{key:"tripleClick",name:"Triple Click",description:"Earn $3 per click instead of $1",cost:200,icon:"",category:"clicker"},{key:"megaClick",name:"Mega Click",description:"Earn $10 per click",cost:5e3,icon:"",category:"clicker"},{key:"clickPowerII",name:"Click Power II",description:"+1 per click (Stacks, cost increases 1.5x each purchase)",cost:1500,icon:"",category:"clicker",stackable:!0},{key:"goldenDollar",name:"Golden Dollar",description:"Times your Cliking Power by x2!",cost:1e3,icon:"",category:"clicker"},{key:"clickMultiplierX5",name:"Click Multiplier 5",description:"5 click power",cost:15e3,icon:"",category:"clicker"},{key:"diamondClicker",name:"Diamond Clicker",description:"3 click power",cost:8e3,icon:"",category:"clicker"},{key:"autoClicker",name:"Auto Clicker",description:"$1 every 10 seconds",cost:200,icon:"",category:"passive"},{key:"autoClickerBoost",name:"Auto Clicker Boost",description:"$5 every 10 seconds",cost:1e3,icon:"",category:"passive"},{key:"autoClickerPro",name:"Auto Clicker Pro",description:"$15 every 10 seconds",cost:3e3,icon:"",category:"passive"},{key:"autoClickerMax",name:"Auto Clicker Max",description:"$25 every 10 seconds",cost:5e3,icon:"",category:"passive"},{key:"superAutoClicker",name:"Super Auto Clicker",description:"$10 every 10 seconds",cost:2500,icon:"",category:"passive"},{key:"hyperClicker",name:"Hyper Clicker",description:"Every 3 seconds (faster)",cost:4e3,icon:"",category:"passive"},{key:"turboMode",name:"Turbo Mode",description:"Every 5 seconds",cost:2e3,icon:"",category:"passive"},{key:"moneyMagnet",name:"Money Magnet",description:"$50 every 30 seconds",cost:3e3,icon:"",category:"passive"},{key:"fortuneBoost",name:"Fortune Boost",description:"Increased passive income",cost:5e3,icon:"",category:"passive"},{key:"diceGame",name:"Dice Game",description:"Roll dice for coins",cost:500,icon:"",category:"game"},{key:"blackjackGame",name:"Blackjack",description:"Classic card game",cost:2e3,icon:"",category:"game"},{key:"rouletteGame",name:"Roulette",description:"Spin the wheel",cost:2500,icon:"",category:"game"},{key:"pokerGame",name:"Poker",description:"Texas Hold'em (VIP Only)",cost:1e4,icon:"",category:"game",requiresVIP:!0},{key:"highRoller",name:"High Roller",description:"Bet unlimited chips in games",cost:2e4,icon:"",category:"clicker"},{key:"vipStatus",name:"VIP Status",description:"Unlock exclusive features & poker",cost:17777,icon:"",category:"clicker"},{key:"luckyGambler",name:"Lucky Gambler",description:"Increased game winnings",cost:8e3,icon:"",category:"clicker"},{key:"confettiClick",name:"Confetti Click",description:"Particles on click",cost:500,icon:"",category:"cosmetic"},{key:"neonGlow",name:"Neon Glow",description:"Glowing effect",cost:750,icon:"",category:"cosmetic"},{key:"particleTrail",name:"Particle Trail",description:"Cursor trail effect",cost:600,icon:"",category:"cosmetic"},{key:"backgroundTheme",name:"Cool Theme",description:"Alternative background",cost:400,icon:"",category:"cosmetic"},{key:"premiumTheme",name:"Premium Theme",description:"Purple & gold theme (VIP Only)",cost:5e3,icon:"",category:"cosmetic",requiresVIP:!0},{key:"rainbowClicker",name:"Rainbow Clicker",description:"Rainbow colors (VIP Only)",cost:350,icon:"",category:"cosmetic",requiresVIP:!0},{key:"starryBackground",name:"Starry Night",description:"Animated stars (VIP Only)",cost:1500,icon:"",category:"cosmetic",requiresVIP:!0},{key:"goldenFrame",name:"Golden Frame",description:"Gold border (VIP Only)",cost:800,icon:"",category:"cosmetic",requiresVIP:!0},{key:"fireworksEffect",name:"Fireworks",description:"Big win fireworks (VIP Only)",cost:1200,icon:"",category:"cosmetic",requiresVIP:!0},{key:"velvetCurtains",name:"Velvet Curtains",description:"Theater curtains (VIP Only)",cost:500,icon:"",category:"cosmetic",requiresVIP:!0}];function $8(){const{state:t,purchaseUpgrade:e}=$n(),n=s=>{if(s.requiresVIP&&!t.upgrades.vipStatus){be.error(`${s.name} requires VIP Status!`);return}if(!s.stackable&&t.upgrades[s.key]){be.info(`${s.name} already purchased!`);return}let i=s.cost;s.stackable&&typeof t.upgrades[s.key]=="number"&&(i=Math.floor(s.cost*Math.pow(1.5,t.upgrades[s.key]))),e(s.key,i)?be.success(`Purchased ${s.name}!`):be.error(`Not enough coins! Need $${i}`)},r=["clicker","passive","game","cosmetic"];return f.jsx("div",{className:"space-y-8",children:r.map(s=>{const i=U8.filter(a=>a.category===s),o={clicker:" Click Power",passive:" Passive Income",game:" Games",cosmetic:" Cosmetics"}[s];return f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-amber-200 mb-4",children:o}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(a=>{const l=!a.stackable&&t.upgrades[a.key],c=a.requiresVIP&&!t.upgrades.vipStatus;let h=a.cost;return a.stackable&&typeof t.upgrades[a.key]=="number"&&(h=Math.floor(a.cost*Math.pow(1.5,t.upgrades[a.key]))),f.jsx(Ot,{className:`bg-black/40 border-amber-500/30 backdrop-blur-md transition-all ${l?"opacity-50":c?"border-red-500/30 opacity-60":"hover:border-amber-500/60"}`,children:f.jsxs(Lt,{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("div",{className:"text-4xl",children:a.icon}),c&&f.jsx(U1,{className:"w-5 h-5 text-red-500"})]}),f.jsx("h3",{className:"text-amber-100 font-semibold",children:a.name}),f.jsx("p",{className:"text-amber-200/60 text-sm mb-3",children:a.description}),a.stackable&&typeof t.upgrades[a.key]=="number"&&f.jsxs("p",{className:"text-yellow-300 text-xs mb-2",children:["Owned: ",t.upgrades[a.key]]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"text-amber-300 font-bold",children:["$",h.toLocaleString()]}),f.jsx(he,{onClick:()=>n(a),disabled:l||c,className:`text-xs ${l?"bg-gray-600 cursor-not-allowed":c?"bg-red-600 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700"}`,children:l?" Owned":c?" VIP":"Buy"})]})]})},a.key)})})]},s)})})}const Ou=[{icon:"7",name:"Jackpot",prize:1e4,weight:1},{icon:"",name:"Money",prize:5e3,weight:2},{icon:"?",name:"Mystery",prize:0,weight:4},{icon:"",name:"Bread",prize:500,weight:10},{icon:"",name:"Apple",prize:100,weight:18},{icon:"",name:"Candy",prize:10,weight:30},{icon:"",name:"Miss",prize:0,weight:60}];function z8(){const{state:t,removeCoins:e,addCoins:n}=$n(),[r,s]=w.useState(["7","7","7"]),[i,o]=w.useState(!1),a=()=>{if(t.coins<1){be.error("Not enough coins! Need $1 to spin.");return}if(e(1)){o(!0);let h=2e3;const d=setInterval(()=>{s([l().icon,l().icon,l().icon])},100);setTimeout(()=>{clearInterval(d),c()},h)}},l=()=>{const h=Ou.reduce((p,g)=>p+g.weight,0);let d=Math.random()*h;for(const p of Ou){if(d<p.weight)return p;d-=p.weight}return Ou[Ou.length-1]},c=()=>{const h=l(),d=l(),p=l();if(s([h.icon,d.icon,p.icon]),h.name===d.name&&d.name===p.name&&h.name!=="Miss"){let g=h.prize;h.name==="Mystery"&&(g=Math.floor(Math.random()*4001)+1e3),t.upgrades.fortuneBoost&&(g=Math.floor(g*1.1)),n(g),be.success(` JACKPOT! You won $${g.toLocaleString()} (${h.name})!`,{duration:4e3})}else be("Better luck next time!",{duration:2e3});o(!1)};return f.jsxs("div",{className:"relative w-full max-w-md mx-auto p-6 bg-zinc-900 rounded-xl border-4 border-amber-600 shadow-2xl",children:[f.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-amber-600 px-6 py-1 rounded-t-lg border-t border-l border-r border-amber-400",children:f.jsx("span",{className:"font-display font-bold text-black uppercase tracking-widest",children:"Fortune 777"})}),f.jsxs("div",{className:"flex justify-center gap-2 bg-black p-4 rounded-lg border-inner border-zinc-800 mb-6 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent pointer-events-none z-10"}),r.map((h,d)=>f.jsx("div",{className:"w-20 h-24 bg-white rounded flex items-center justify-center text-5xl border-2 border-zinc-300 shadow-inner",children:f.jsx(Gi.div,{animate:i?{y:[0,-20,0]}:{},transition:{repeat:i?1/0:0,duration:.1},children:h})},d))]}),f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx("div",{className:"text-amber-400 font-mono text-sm",children:"Cost: $1 / Spin"}),f.jsx(he,{size:"lg",onClick:a,disabled:i,className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold text-xl py-6 border-b-4 border-red-800 active:border-b-0 active:translate-y-1 transition-all",children:i?"SPINNING...":"SPIN!"})]}),f.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 text-[10px] text-zinc-500 text-center",children:[f.jsx("div",{children:"7 $10k"}),f.jsx("div",{children:" $5k"}),f.jsx("div",{children:"? $1k-5k"}),f.jsx("div",{children:" $500"}),f.jsx("div",{children:" $100"}),f.jsx("div",{children:" $10"})]})]})}function W8(){const{state:t,removeChips:e,addChips:n}=$n(),[r,s]=w.useState(""),[i,o]=w.useState(null),[a,l]=w.useState(!1),[c,h]=w.useState(null),d=()=>{const p=parseInt(r);if(!i){be.error("Choose Even or Odd!");return}if(isNaN(p)||p<=0){be.error("Invalid bet amount");return}if(t.chips<p){be.error("Not enough chips!");return}e(p)&&(l(!0),h(null),setTimeout(()=>{const g=Math.floor(Math.random()*6)+1;h(g),l(!1);const v=g%2===0;if(i==="even"&&v||i==="odd"&&!v){const S=p*2;n(S),be.success(`Rolled ${g}! You won ${S} Chips!`)}else be.error(`Rolled ${g}. You lost ${p} Chips.`)},1e3))};return f.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl border border-red-900/50 shadow-lg",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("h3",{className:"text-xl font-display font-bold text-red-400 flex items-center gap-2",children:[f.jsx(HV,{})," High Roller Dice"]})}),f.jsx("div",{className:"flex justify-center mb-8 h-24 items-center",children:a?f.jsx(Gi.div,{animate:{rotate:360},transition:{repeat:1/0,duration:.5,ease:"linear"},className:"text-6xl",children:""}):f.jsx("div",{className:"text-6xl font-bold text-white",children:c!==null?c:"?"})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx(he,{variant:i==="even"?"default":"outline",onClick:()=>o("even"),className:`flex-1 ${i==="even"?"bg-blue-600":"border-zinc-700 text-zinc-400"}`,children:"EVEN (2,4,6)"}),f.jsx(he,{variant:i==="odd"?"default":"outline",onClick:()=>o("odd"),className:`flex-1 ${i==="odd"?"bg-red-600":"border-zinc-700 text-zinc-400"}`,children:"ODD (1,3,5)"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ur,{type:"number",placeholder:"Bet Amount",value:r,onChange:p=>s(p.target.value),className:"bg-black/50 border-zinc-700 text-white"}),f.jsx(he,{onClick:d,disabled:a,className:"bg-amber-600 hover:bg-amber-500 text-white font-bold px-8",children:"ROLL"})]})]})]})}const H8=["","","",""],G8=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];function q8(){const{state:t,removeChips:e,addChips:n}=$n(),[r,s]=w.useState(""),[i,o]=w.useState([]),[a,l]=w.useState([]),[c,h]=w.useState("idle"),[d,p]=w.useState(""),[g,v]=w.useState(!1),y=()=>{const _=[];for(const A of H8)for(const P of G8){let M=parseInt(P);["J","Q","K"].includes(P)&&(M=10),P==="A"&&(M=11),_.push({suit:A,value:P,score:M})}for(let A=_.length-1;A>0;A--){const P=Math.floor(Math.random()*(A+1));[_[A],_[P]]=[_[P],_[A]]}return _},[S,x]=w.useState([]),E=_=>{let A=_.reduce((M,D)=>M+D.score,0),P=_.filter(M=>M.value==="A").length;for(;A>21&&P>0;)A-=10,P--;return A},T=()=>{const _=parseInt(r);if(isNaN(_)||_<=0){be.error("Invalid bet amount");return}if(t.chips<_){be.error("Not enough chips!");return}if(e(_)){const A=y();x(A),h("playing"),p("");const P=[A.pop(),A.pop()],M=[A.pop(),A.pop()];o(P),l(M),v(!0),setTimeout(()=>{v(!1),E(P)===21&&setTimeout(()=>V(P,M,_*3),500)},800)}},k=()=>{v(!0);const _=[...i,S.pop()];o(_),setTimeout(()=>{v(!1),E(_)>21&&V(_,a,0)},400)},N=()=>{let _=[...a],A=[...S];const P=E(i),M=E(_);if(M>P&&M<=21){V(i,_,0);return}const D=()=>{if(E(_)<17)v(!0),_.push(A.pop()),l([..._]),setTimeout(()=>{v(!1),setTimeout(D,200)},400);else{x(A);const I=E(i),H=E(_),ee=parseInt(r);let W=0;H>21||I>H?W=ee*2:I===H&&(W=ee),V(i,_,W)}};D()},V=(_,A,P)=>{h("finished");const M=E(_),D=E(A);M>21?p("Bust! You lost."):D>21?(p("Dealer Bust! You Win!"),n(P)):M>D?(p("You Win!"),n(P)):M<D?p("Dealer Wins."):(p("Push (Tie). Chips returned."),n(P))},C=({card:_,hidden:A,shouldAnimate:P})=>f.jsx(Gi.div,{initial:P?{x:-100,y:-50,opacity:0,rotate:-20}:!1,animate:P?{x:0,y:0,opacity:1,rotate:0}:{},transition:{type:"spring",stiffness:200,damping:15},className:`
        w-16 h-24 rounded-lg flex items-center justify-center text-xl font-bold border-2 shadow-md
        ${A?"bg-red-900 border-white/20":"bg-white text-black border-zinc-300"}
      `,children:!A&&f.jsxs("div",{className:["",""].includes(_.suit)?"text-red-600":"text-black",children:[_.value,_.suit]})});return f.jsxs("div",{className:"relative bg-emerald-900/80 p-6 rounded-xl border-8 border-amber-900 shadow-2xl overflow-hidden",style:{backgroundImage:"url('/images/blackjack_table.jpg')",backgroundSize:"cover",backgroundBlendMode:"multiply"},children:[f.jsx("div",{className:"absolute inset-0 bg-black/40"}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"flex justify-between items-start mb-8",children:f.jsx("h3",{className:"text-2xl font-display font-bold text-amber-100 drop-shadow-md",children:"Blackjack"})}),f.jsxs("div",{className:"flex flex-col items-center mb-8 min-h-[120px]",children:[f.jsx("div",{className:"text-xs uppercase tracking-widest text-emerald-200/50 mb-2",children:"Dealer"}),f.jsxs("div",{className:"flex gap-2",children:[a.map((_,A)=>f.jsx(C,{card:_,hidden:c==="playing"&&A===1,shouldAnimate:g&&A===a.length-1},`dealer-${A}`)),a.length===0&&f.jsx("div",{className:"w-16 h-24 border-2 border-dashed border-white/20 rounded-lg"})]}),c==="finished"&&f.jsx("div",{className:"mt-2 text-sm font-bold text-white",children:E(a)})]}),f.jsxs("div",{className:"flex flex-col items-center mb-8 min-h-[120px]",children:[f.jsx("div",{className:"text-xs uppercase tracking-widest text-emerald-200/50 mb-2",children:"You"}),f.jsxs("div",{className:"flex gap-2",children:[i.map((_,A)=>f.jsx(C,{card:_,shouldAnimate:g&&A===i.length-1},`player-${A}`)),i.length===0&&f.jsx("div",{className:"w-16 h-24 border-2 border-dashed border-white/20 rounded-lg"})]}),i.length>0&&f.jsx("div",{className:"mt-2 text-sm font-bold text-white",children:E(i)})]}),f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c==="idle"||c==="finished"?f.jsxs("div",{className:"flex gap-2 w-full max-w-xs",children:[f.jsx(Ur,{type:"number",placeholder:"Bet Chips",value:r,onChange:_=>s(_.target.value),className:"bg-black/60 border-emerald-500/30 text-white"}),f.jsx(he,{onClick:T,className:"bg-amber-600 hover:bg-amber-500 text-white font-bold",children:"DEAL"})]}):f.jsxs("div",{className:"flex gap-4",children:[f.jsx(he,{onClick:k,className:"bg-emerald-600 hover:bg-emerald-500 w-24",children:"HIT"}),f.jsx(he,{onClick:N,className:"bg-red-600 hover:bg-red-500 w-24",children:"STAND"})]}),d&&f.jsx(Gi.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"bg-black/80 px-6 py-2 rounded-full text-amber-400 font-bold border border-amber-500/50",children:d})]})]})]})}const K8=Array.from({length:37},(t,e)=>e),bE=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],Q8=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35];function Y8(){const{state:t,removeChips:e,addChips:n}=$n(),[r,s]=w.useState(""),[i,o]=w.useState(null),[a,l]=w.useState(null),[c,h]=w.useState(!1),[d,p]=w.useState(null),g=()=>{const y=parseInt(r);if(!i){be.error("Choose a bet type!");return}if(i==="number"&&a===null){be.error("Select a number!");return}if(isNaN(y)||y<=0){be.error("Invalid bet amount");return}if(t.chips<y){be.error("Not enough chips!");return}e(y)&&(h(!0),p(null),setTimeout(()=>{const S=Math.floor(Math.random()*37);p(S),h(!1);let x=!1,E=0;i==="number"&&S===a?(x=!0,E=y*36):(i==="red"&&bE.includes(S)||i==="black"&&Q8.includes(S)||i==="even"&&S!==0&&S%2===0||i==="odd"&&S%2!==0)&&(x=!0,E=y*2),x?(n(E),be.success(`${S}! You won ${E} Chips!`)):be.error(`${S}. You lost ${y} Chips.`)},2e3))},v=y=>y===0?"bg-green-600":bE.includes(y)?"bg-red-600":"bg-black";return f.jsxs("div",{className:"bg-gradient-to-br from-green-900 to-green-950 p-6 rounded-xl border-8 border-amber-900 shadow-2xl",children:[f.jsx("h3",{className:"text-2xl font-display font-bold text-amber-100 mb-4 text-center",children:" Roulette Wheel"}),f.jsx("div",{className:"flex justify-center mb-8 h-32 items-center",children:c?f.jsx(Gi.div,{animate:{rotate:720},transition:{duration:2,ease:"easeOut"},className:"w-24 h-24 rounded-full border-8 border-amber-400 bg-gradient-to-br from-red-600 to-black flex items-center justify-center",children:f.jsx("div",{className:"text-white font-bold text-2xl",children:"?"})}):f.jsx("div",{className:`w-24 h-24 rounded-full border-8 border-amber-400 ${d!==null?v(d):"bg-zinc-800"} flex items-center justify-center shadow-2xl`,children:f.jsx("div",{className:"text-white font-bold text-4xl",children:d!==null?d:"?"})})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx(he,{variant:i==="red"?"default":"outline",onClick:()=>{o("red"),l(null)},className:`${i==="red"?"bg-red-600":"border-zinc-700 text-zinc-400"}`,disabled:c,children:"RED (2x)"}),f.jsx(he,{variant:i==="black"?"default":"outline",onClick:()=>{o("black"),l(null)},className:`${i==="black"?"bg-black":"border-zinc-700 text-zinc-400"}`,disabled:c,children:"BLACK (2x)"}),f.jsx(he,{variant:i==="even"?"default":"outline",onClick:()=>{o("even"),l(null)},className:`${i==="even"?"bg-blue-600":"border-zinc-700 text-zinc-400"}`,disabled:c,children:"EVEN (2x)"}),f.jsx(he,{variant:i==="odd"?"default":"outline",onClick:()=>{o("odd"),l(null)},className:`${i==="odd"?"bg-purple-600":"border-zinc-700 text-zinc-400"}`,disabled:c,children:"ODD (2x)"})]}),f.jsxs("div",{children:[f.jsxs(he,{variant:i==="number"?"default":"outline",onClick:()=>o("number"),className:`w-full ${i==="number"?"bg-amber-600":"border-zinc-700 text-zinc-400"}`,disabled:c,children:["SINGLE NUMBER (36x) ",a!==null&&`- ${a}`]}),i==="number"&&f.jsx("div",{className:"grid grid-cols-10 gap-1 mt-2 max-h-32 overflow-y-auto",children:K8.map(y=>f.jsx("button",{onClick:()=>l(y),className:`
                    p-2 rounded text-xs font-bold text-white
                    ${a===y?"ring-2 ring-yellow-400":""}
                    ${v(y)}
                  `,children:y},y))})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ur,{type:"number",placeholder:"Bet Amount (Chips)",value:r,onChange:y=>s(y.target.value),className:"bg-black/50 border-zinc-700 text-white",disabled:c}),f.jsx(he,{onClick:g,disabled:c,className:"bg-amber-600 hover:bg-amber-500 text-white font-bold px-8",children:"SPIN"})]})]})]})}function hP(t,[e,n]){return Math.min(n,Math.max(e,t))}var X8=w.createContext(void 0);function g0(t){const e=w.useContext(X8);return t||e||"ltr"}function fP(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function EE(t){const e=J8(t),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,a=w.Children.toArray(i),l=a.find(eW);if(l){const c=l.props.children,h=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...o,ref:s,children:w.isValidElement(c)?w.cloneElement(c,void 0,h):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function J8(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=nW(s),a=tW(i,s.props);return s.type!==w.Fragment&&(a.ref=r?cc(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Z8=Symbol("radix.slottable");function eW(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Z8}function tW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function nW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pP(t){const e=t+"CollectionProvider",[n,r]=ei(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:S,children:x}=y,E=Y.useRef(null),T=Y.useRef(new Map).current;return f.jsx(s,{scope:S,itemMap:T,collectionRef:E,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=EE(a),c=Y.forwardRef((y,S)=>{const{scope:x,children:E}=y,T=i(a,x),k=ut(S,T.collectionRef);return f.jsx(l,{ref:k,children:E})});c.displayName=a;const h=t+"CollectionItemSlot",d="data-radix-collection-item",p=EE(h),g=Y.forwardRef((y,S)=>{const{scope:x,children:E,...T}=y,k=Y.useRef(null),N=ut(S,k),V=i(h,x);return Y.useEffect(()=>(V.itemMap.set(k,{ref:k,...T}),()=>void V.itemMap.delete(k))),f.jsx(p,{[d]:"",ref:N,children:E})});g.displayName=h;function v(y){const S=i(t+"CollectionConsumer",y);return Y.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(S.itemMap.values()).sort((V,C)=>T.indexOf(V.ref.current)-T.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},v,r]}var mP=["PageUp","PageDown"],gP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ia="Slider",[Pg,rW,sW]=pP(Ia),[vP]=ei(Ia,[sW]),[iW,gf]=vP(Ia),wP=w.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:h,onValueChange:d=()=>{},onValueCommit:p=()=>{},inverted:g=!1,form:v,...y}=t,S=w.useRef(new Set),x=w.useRef(0),T=o==="horizontal"?oW:aW,[k=[],N]=dc({prop:h,defaultProp:c,onChange:M=>{var I;(I=[...S.current][x.current])==null||I.focus(),d(M)}}),V=w.useRef(k);function C(M){const D=hW(k,M);P(M,D)}function _(M){P(M,x.current)}function A(){const M=V.current[x.current];k[x.current]!==M&&p(k)}function P(M,D,{commit:I}={commit:!1}){const H=gW(i),ee=yW(Math.round((M-r)/i)*i+r,H),W=hP(ee,[r,s]);N((te=[])=>{const O=uW(te,W,D);if(mW(O,l*i)){x.current=O.indexOf(W);const K=String(O)!==String(te);return K&&I&&p(O),K?O:te}else return te})}return f.jsx(iW,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:x,thumbs:S.current,values:k,orientation:o,form:v,children:f.jsx(Pg.Provider,{scope:t.__scopeSlider,children:f.jsx(Pg.Slot,{scope:t.__scopeSlider,children:f.jsx(T,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:Fe(y.onPointerDown,()=>{a||(V.current=k)}),min:r,max:s,inverted:g,onSlideStart:a?void 0:C,onSlideMove:a?void 0:_,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&P(r,0,{commit:!0}),onEndKeyDown:()=>!a&&P(s,k.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:D})=>{if(!a){const ee=mP.includes(M.key)||M.shiftKey&&gP.includes(M.key)?10:1,W=x.current,te=k[W],O=i*ee*D;P(te+O,W,{commit:!0})}}})})})})});wP.displayName=Ia;var[xP,_P]=vP(Ia,{startEdge:"left",endEdge:"right",size:"width",direction:1}),oW=w.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...h}=t,[d,p]=w.useState(null),g=ut(e,T=>p(T)),v=w.useRef(void 0),y=g0(s),S=y==="ltr",x=S&&!i||!S&&i;function E(T){const k=v.current||d.getBoundingClientRect(),N=[0,k.width],C=y0(N,x?[n,r]:[r,n]);return v.current=k,C(T-k.left)}return f.jsx(xP,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:f.jsx(bP,{dir:y,"data-orientation":"horizontal",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const k=E(T.clientX);o==null||o(k)},onSlideMove:T=>{const k=E(T.clientX);a==null||a(k)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:T=>{const N=yP[x?"from-left":"from-right"].includes(T.key);c==null||c({event:T,direction:N?-1:1})}})})}),aW=w.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,h=w.useRef(null),d=ut(e,h),p=w.useRef(void 0),g=!s;function v(y){const S=p.current||h.current.getBoundingClientRect(),x=[0,S.height],T=y0(x,g?[r,n]:[n,r]);return p.current=S,T(y-S.top)}return f.jsx(xP,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:f.jsx(bP,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const S=v(y.clientY);i==null||i(S)},onSlideMove:y=>{const S=v(y.clientY);o==null||o(S)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:y=>{const x=yP[g?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:x?-1:1})}})})}),bP=w.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,h=gf(Ia,n);return f.jsx(Ge.span,{...c,ref:e,onKeyDown:Fe(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):mP.concat(gP).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Fe(t.onPointerDown,d=>{const p=d.target;p.setPointerCapture(d.pointerId),d.preventDefault(),h.thumbs.has(p)?p.focus():r(d)}),onPointerMove:Fe(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&s(d)}),onPointerUp:Fe(t.onPointerUp,d=>{const p=d.target;p.hasPointerCapture(d.pointerId)&&(p.releasePointerCapture(d.pointerId),i(d))})})}),EP="SliderTrack",TP=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=gf(EP,n);return f.jsx(Ge.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});TP.displayName=EP;var Rg="SliderRange",SP=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=gf(Rg,n),i=_P(Rg,n),o=w.useRef(null),a=ut(e,o),l=s.values.length,c=s.values.map(p=>AP(p,s.min,s.max)),h=l>1?Math.min(...c):0,d=100-Math.max(...c);return f.jsx(Ge.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:h+"%",[i.endEdge]:d+"%"}})});SP.displayName=Rg;var Ng="SliderThumb",CP=w.forwardRef((t,e)=>{const n=rW(t.__scopeSlider),[r,s]=w.useState(null),i=ut(e,a=>s(a)),o=w.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return f.jsx(lW,{...t,ref:i,index:o})}),lW=w.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=gf(Ng,n),a=_P(Ng,n),[l,c]=w.useState(null),h=ut(e,E=>c(E)),d=l?o.form||!!l.closest("form"):!0,p=jy(l),g=o.values[r],v=g===void 0?0:AP(g,o.min,o.max),y=dW(r,o.values.length),S=p==null?void 0:p[a.size],x=S?fW(S,v,a.direction):0;return w.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${x}px)`},children:[f.jsx(Pg.ItemSlot,{scope:t.__scopeSlider,children:f.jsx(Ge.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:g===void 0?{display:"none"}:t.style,onFocus:Fe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&f.jsx(kP,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});CP.displayName=Ng;var cW="RadioBubbleInput",kP=w.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=w.useRef(null),i=ut(s,r),o=fP(e);return w.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const d=new Event("input",{bubbles:!0});h.call(a,e),a.dispatchEvent(d)}},[o,e]),f.jsx(Ge.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});kP.displayName=cW;function uW(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function AP(t,e,n){const i=100/(n-e)*(t-e);return hP(i,[0,100])}function dW(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function hW(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function fW(t,e,n){const r=t/2,i=y0([0,50],[0,r]);return(r-i(e)*n)*n}function pW(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function mW(t,e){if(e>0){const n=pW(t);return Math.min(...n)>=e}return!0}function y0(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function gW(t){return(String(t).split(".")[1]||"").length}function yW(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var vW=wP,wW=TP,xW=SP,_W=CP;function TE({className:t,defaultValue:e,value:n,min:r=0,max:s=100,...i}){const o=w.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[r,s],[n,e,r,s]);return f.jsxs(vW,{"data-slot":"slider",defaultValue:e,value:n,min:r,max:s,className:We("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...i,children:[f.jsx(wW,{"data-slot":"slider-track",className:We("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:f.jsx(xW,{"data-slot":"slider-range",className:We("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(a,l)=>f.jsx(_W,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}const bW=["","","",""],EW=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],TW={2:0,3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,J:9,Q:10,K:11,A:12},SE=[{name:"Jerry",maxChips:25e3,aggression:.4,tightness:.4,bluffChance:.15},{name:"Billy",maxChips:1e5,aggression:.7,tightness:.3,bluffChance:.2},{name:"Faraday",maxChips:1e6,aggression:.8,tightness:.2,bluffChance:.25}],SW=()=>{const t=[];for(const e of bW)for(const n of EW)t.push({suit:e,rank:n,value:TW[n]});return t},CW=t=>{const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},CE=t=>{const e=[...t].sort((p,g)=>g.value-p.value),n={},r={},s=[];e.forEach(p=>{n[p.value]=(n[p.value]||0)+1,r[p.suit]=(r[p.suit]||0)+1,s.push(p.value)});const i=Object.keys(r).find(p=>r[p]>=5),o=i?e.filter(p=>p.suit===i):[],a=p=>{const g=[...new Set(p.map(v=>v.value))].sort((v,y)=>y-v);if(g.includes(12)&&g.includes(0)&&g.includes(1)&&g.includes(2)&&g.includes(3))return p.filter(v=>[12,0,1,2,3].includes(v.value)).sort((v,y)=>y.value-v.value);for(let v=0;v<=g.length-5;v++)if(g[v]-g[v+4]===4)return p.filter(y=>g.slice(v,v+5).includes(y.value));return null};if(i){const p=a(o);if(p)return{rank:p[0].value===12&&p[4].value===8?9:8,value:p[0].value,cards:p.slice(0,5),kickers:[]}}const l=Object.keys(n).find(p=>n[parseInt(p)]===4);if(l){const p=parseInt(l),g=Math.max(...s.filter(v=>v!==p));return{rank:7,value:p,cards:e.filter(v=>v.value===p).slice(0,4),kickers:[g]}}const c=Object.keys(n).filter(p=>n[parseInt(p)]===3).map(Number).sort((p,g)=>g-p),h=Object.keys(n).filter(p=>n[parseInt(p)]>=2).map(Number).sort((p,g)=>g-p);if(c.length>=2||c.length===1&&h.length>=2){const p=c[0],g=c.length>=2?c[1]:h.find(v=>v!==p)||0;return{rank:6,value:p,cards:e.filter(v=>v.value===p||v.value===g).slice(0,5),kickers:[g]}}if(i&&o.length>=5)return{rank:5,value:o[0].value,cards:o.slice(0,5),kickers:[]};const d=a(e);if(d)return{rank:4,value:d[0].value,cards:d.slice(0,5),kickers:[]};if(c.length>0){const p=c[0],g=s.filter(v=>v!==p).sort((v,y)=>y-v).slice(0,2);return{rank:3,value:p,cards:e.filter(v=>v.value===p).slice(0,3),kickers:g}}if(h.length>=2){const p=h[0],g=h[1],v=s.filter(y=>y!==p&&y!==g).sort((y,S)=>S-y)[0];return{rank:2,value:Math.max(p,g),cards:e.filter(y=>y.value===p||y.value===g).slice(0,4),kickers:[v]}}if(h.length===1){const p=h[0],g=s.filter(v=>v!==p).sort((v,y)=>y-v).slice(0,3);return{rank:1,value:p,cards:e.filter(v=>v.value===p).slice(0,2),kickers:g}}return{rank:0,value:s[0],cards:e.slice(0,5),kickers:s.slice(1,5)}},kE=(t,e)=>{if(t.rank!==e.rank)return e.rank-t.rank;if(t.value!==e.value)return e.value-t.value;for(let n=0;n<Math.max(t.kickers.length,e.kickers.length);n++){const r=t.kickers[n]||0,s=e.kickers[n]||0;if(r!==s)return s-r}return 0};function kW(){const{state:t,removeChips:e,addChips:n}=$n(),[r,s]=w.useState(1),[i,o]=w.useState(!1),[a,l]=w.useState(0),[c,h]=w.useState(100),[d,p]=w.useState(null),[g,v]=w.useState(""),[y,S]=w.useState(!1),[x,E]=w.useState(!1),[T,k]=w.useState(!1),[N,V]=w.useState(null),[C,_]=w.useState({}),A=t.upgrades.vipStatus,P=t.upgrades.highRoller,M=()=>{if(!A){be.error("You need VIP Status to play Poker!");return}if(t.chips<100){be.error("You need at least 100 chips to play!");return}const j=CW(SW()),$=[j.pop(),j.pop()],G=[{id:0,name:"You",chips:t.chips,hand:$,bet:0,folded:!1,isBot:!1,hasActed:!1,lastAction:"",isAllIn:!1}];for(let Ue=0;Ue<r;Ue++){const un=SE[Ue],dn=[j.pop(),j.pop()];G.push({id:Ue+1,name:un.name,chips:un.maxChips,hand:dn,bet:0,folded:!1,isBot:!0,hasActed:!1,lastAction:"",isAllIn:!1})}const J=P?50:10,B=J*2,ne=0,we=(ne+1)%G.length,fe=(ne+2)%G.length;G[we].bet=J,G[we].chips-=J,G[we].lastAction=`Small blind $${J}`,we===0&&e(J),G[fe].bet=B,G[fe].chips-=B,G[fe].lastAction=`Big blind $${B}`,fe===0&&e(B),G[we].hasActed=!1,G[fe].hasActed=!1;let Ce=B*2;const ke=J+B,dt=(fe+1)%G.length;p({players:G,communityCards:[],pot:ke,currentPlayer:dt,gamePhase:"preflop",currentBet:B,dealerIndex:ne,deck:j,smallBlind:J,bigBlind:B,sidePots:[]}),o(!0),l(Ce),h(P?t.chips:Math.min(1e3,t.chips)),v(`Blinds posted: $${J}/$${B}`),_({}),V(null)},D=(j,$)=>{const G=SE.find(vt=>vt.name===j.name);if(!G)return{action:"fold",amount:0};const J=[...j.hand,...$.communityCards],B=CE(J);let ne=(B.rank*100+B.value)/1e3;if($.communityCards.length===0){const vt=Math.max(j.hand[0].value,j.hand[1].value),zn=j.hand[0].value===j.hand[1].value,L=j.hand[0].suit===j.hand[1].suit,re=Math.abs(j.hand[0].value-j.hand[1].value)<=2;ne=vt/12*.5,zn&&(ne+=.3),L&&(ne+=.1),re&&(ne+=.1)}const we=G.aggression,fe=G.tightness,Ce=G.bluffChance,ke=Math.random(),dt=ke<Ce,Ue=$.currentBet-j.bet;if(Ue/($.pot+Ue),ne<.15&&ke<.3*fe&&!dt)return{action:"fold",amount:0};if(dt&&ne<.5&&ke<.5){const vt=Math.min(Math.max(Ue*1.5,$.bigBlind*1.5),j.chips*.1);return{action:"raise",amount:j.bet+vt}}if(ne<.3)return Ue<$.bigBlind&&ke<.4?{action:"call",amount:Ue}:Ue===0?{action:"call",amount:0}:ke<.3?{action:"fold",amount:0}:{action:"call",amount:Ue};if(ne<.6){if(ke<.5*we){const vt=Math.min(Math.max(Ue*1.8,$.bigBlind*1.5),j.chips*.15);return{action:"raise",amount:j.bet+vt}}return Ue<j.chips*.2?{action:"call",amount:Ue}:{action:"fold",amount:0}}const un=2+ne*1.5+we*1.5,dn=Math.min(Math.max(Ue*un,$.bigBlind*2),j.chips*(.2+ne*.3));return{action:"raise",amount:j.bet+dn}},I=j=>{if(!d)return;const $=d.players[0];let G=0,J="";if(j==="fold"){$.folded=!0,$.hasActed=!0,$.lastAction="Folded",J="You folded!";const B=d.players.filter(ne=>!ne.folded);if(B.length===1&&B[0].isBot){const ne=B[0];ne.chips+=d.pot,ne.id===0&&(n(d.pot),be.success(`You won $${d.pot.toLocaleString()}!`)),v(`${ne.name} wins $${d.pot.toLocaleString()}!`),setTimeout(()=>{X()},2e3);return}v(J),H(d);return}else if(j==="call"){const B=Math.min(d.currentBet-$.bet,t.chips);if(B>t.chips){be.error("Not enough chips!");return}G=B,$.bet+=B,d.pot+=B,$.lastAction=B===0?"Checked":`Called $${B}`,J=B===0?"You checked":`You called $${B}`,B>0&&e(B),B===t.chips&&($.isAllIn=!0,$.lastAction="All-in!"),$.hasActed=!0}else if(j==="raise"){if(a<=d.currentBet&&d.currentBet>0){be.error("Raise must be higher than current bet!");return}const B=a-$.bet;if(B>t.chips){be.error("Not enough chips to raise that amount!");return}G=B,$.bet=a,d.pot+=B,d.currentBet=a,$.lastAction=`Raised to $${a}`,J=`You raised to $${a}`,e(B),$.hasActed=!0,B===t.chips&&($.isAllIn=!0,$.lastAction="All-in!")}J&&v(J),$.chips=t.chips-G,H(d),l(0),p({...d})},H=j=>{const $=j.players.filter(B=>!B.folded);if($.length===1){const B=$[0];B.chips+=j.pot,B.id===0?(n(j.pot),be.success(`You won $${j.pot.toLocaleString()} by default!`),v(`All opponents folded! You win $${j.pot.toLocaleString()}!`)):(be.error(`${B.name} won the pot!`),v(`${B.name} wins $${j.pot.toLocaleString()}!`)),setTimeout(()=>{X()},2e3);return}const G=$.filter(B=>!B.isAllIn);if(G.every(B=>B.hasActed)&&G.every(B=>B.bet===j.currentBet||B.isAllIn)||G.length<=1)setTimeout(()=>{W(j)},1e3);else{let B=(j.currentPlayer+1)%j.players.length;for(;j.players[B].folded||j.players[B].isAllIn||B===0&&j.players[0].hasActed;)B=(B+1)%j.players.length;if(j.currentPlayer=B,p({...j}),j.players[B].isBot)setTimeout(()=>{ee(j)},500);else{const ne=Math.max(j.currentBet*2,j.bigBlind*2);l(Math.max(ne,j.currentBet))}}},ee=j=>{S(!0),setTimeout(()=>{const $=j.players[j.currentPlayer],G=D($,j);let J="";if(G.action==="fold"){$.folded=!0,$.lastAction="Folded",J=`${$.name} folded`;const B=j.players.filter(ne=>!ne.folded);if(B.length===1&&!B[0].isBot){const ne=B[0];ne.chips+=j.pot,n(j.pot),be.success(`All bots folded! You win $${j.pot.toLocaleString()}!`),v(`All opponents folded! You win $${j.pot.toLocaleString()}!`),setTimeout(()=>{X()},2e3);return}}else if(G.action==="call"){const B=Math.min(G.amount,$.chips);$.bet+=B,$.chips-=B,j.pot+=B,$.lastAction=B===0?"Checked":`Called $${B}`,J=`${$.name} ${B===0?"checked":`called $${B}`}`,B===$.chips&&($.isAllIn=!0,$.lastAction="All-in!")}else if(G.action==="raise"){const B=Math.min(G.amount-$.bet,$.chips);$.bet=G.amount,$.chips-=B,j.pot+=B,j.currentBet=G.amount,$.lastAction=`Raised to $${G.amount}`,J=`${$.name} raised to $${G.amount}`,B===$.chips&&($.isAllIn=!0,$.lastAction="All-in!")}$.hasActed=!0,J&&v(J),H(j),p({...j}),S(!1)},1500)},W=j=>{j.players.forEach(G=>{G.isAllIn||(G.hasActed=!1,G.bet=0)}),j.currentBet=0,j.players.filter(G=>!G.folded);let $=j.dealerIndex;do $=($+1)%j.players.length;while(j.players[$].folded||j.players[$].isAllIn);j.currentPlayer=$,E(!0),setTimeout(()=>{if(j.gamePhase==="preflop")j.communityCards=[j.deck.pop(),j.deck.pop(),j.deck.pop()],j.gamePhase="flop",v("Flop revealed!");else if(j.gamePhase==="flop")j.communityCards.push(j.deck.pop()),j.gamePhase="turn",v("Turn revealed!");else if(j.gamePhase==="turn")j.communityCards.push(j.deck.pop()),j.gamePhase="river",v("River revealed!");else if(j.gamePhase==="river"){j.gamePhase="showdown",O(j);return}if(j.currentPlayer===0){const G=Math.max(j.currentBet*2,j.bigBlind*2);l(Math.max(G,j.currentBet))}p({...j}),E(!1),j.players[j.currentPlayer].isBot&&setTimeout(()=>{ee(j)},1e3)},800)},te=j=>{const $=j.players.filter(we=>!we.folded),G=$.map(we=>we.bet).sort((we,fe)=>we-fe),J=[...new Set(G)],B=[];let ne=0;for(const we of J){const fe=(we-ne)*$.filter(ke=>ke.bet>=we).length,Ce=$.filter(ke=>ke.bet>=we).map(ke=>ke.id);fe>0&&B.push({amount:fe,eligiblePlayers:Ce}),ne=we}return B},O=j=>{k(!0),v("Showdown! Revealing cards..."),j.sidePots=te(j);const $=j.players.filter(B=>!B.folded);let G=0;const J=1e3;$.forEach((B,ne)=>{setTimeout(()=>{_(we=>({...we,[B.id]:!0})),ne===$.length-1&&setTimeout(()=>{K(j)},500)},G),G+=J})},K=j=>{const G=j.players.filter(fe=>!fe.folded).map(fe=>({player:fe,handResult:CE([...fe.hand,...j.communityCards])}));G.sort((fe,Ce)=>kE(Ce.handResult,fe.handResult));const J=[],B=G[0].handResult;for(const fe of G)if(kE(fe.handResult,B)===0)J.push(fe);else break;let ne=0;for(const fe of j.sidePots){const Ce=J.filter(ke=>fe.eligiblePlayers.includes(ke.player.id));if(Ce.length>0){const ke=Math.floor(fe.amount/Ce.length);for(const dt of Ce)dt.player.chips+=ke,ne+=ke,dt.player.id===0&&n(ke)}}const we=J.filter(fe=>!j.sidePots.some(Ce=>Ce.eligiblePlayers.includes(fe.player.id)));if(we.length>0){const fe=Math.floor(j.pot/we.length);for(const Ce of we)Ce.player.chips+=fe,ne+=fe,Ce.player.id===0&&n(fe)}J.length===1?(V(J[0].player),v(`${J[0].player.name} wins $${ne.toLocaleString()}!`),J[0].player.id===0?be.success(`You won $${ne.toLocaleString()}!`):be.error(`${J[0].player.name} won the pot!`)):(v(`${J.length}-way tie! Each gets $${Math.floor(ne/J.length).toLocaleString()}`),be.info(`Split pot between ${J.map(fe=>fe.player.name).join(", ")}`)),setTimeout(()=>{X()},4e3)},X=j=>{setTimeout(()=>{o(!1),p(null),v(""),k(!1),V(null),_({})},2e3)},se=j=>j.suit===""||j.suit===""?"text-red-600":"text-black",ve=()=>{if(!d)return null;const j=d.players[0];if(T||y||j.folded||j.isAllIn||d.gamePhase==="showdown")return null;if(!(d.currentPlayer===0||!j.hasActed))return f.jsxs("div",{className:"text-center py-4",children:[f.jsxs("p",{className:"text-amber-100",children:["Waiting for ",d.players[d.currentPlayer].name," to act..."]}),f.jsxs("p",{className:"text-amber-200/70 text-sm mt-2",children:["Current bet: $",d.currentBet,"  Your bet: $",j.bet]})]});const G=d.currentBet-j.bet,J=Math.max(d.currentBet*2,d.bigBlind*2),B=Math.min(c,t.chips+j.bet);return f.jsxs("div",{className:"space-y-4 mt-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"text-amber-100 block mb-2 font-semibold",children:["Your Bet: $",a.toLocaleString(),G>0&&f.jsxs("span",{className:"text-amber-300 ml-2 text-sm",children:["To call: $",G]})]}),f.jsx(TE,{value:[a],onValueChange:ne=>l(ne[0]),min:Math.max(J,d.currentBet),max:B,step:10,className:"w-full"}),f.jsxs("div",{className:"flex justify-between text-xs text-amber-200/60 mt-1",children:[f.jsxs("span",{children:["$",Math.max(J,d.currentBet)]}),f.jsxs("span",{children:["$",B.toLocaleString()]})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx(he,{onClick:()=>I("fold"),className:"bg-red-600 hover:bg-red-700 font-bold py-3",children:"Fold"}),f.jsx(he,{onClick:()=>I("call"),className:"bg-amber-600 hover:bg-amber-700 font-bold py-3",disabled:G>t.chips,children:G===0?"Check":`Call $${G}`}),f.jsx(he,{onClick:()=>I("raise"),disabled:a<=d.currentBet||a>t.chips+j.bet,className:"bg-green-600 hover:bg-green-700 font-bold py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:"Raise"})]}),f.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[f.jsxs(he,{onClick:()=>l(Math.max(J,d.currentBet)),variant:"outline",className:"text-xs py-2 border-amber-500/50 text-amber-200",children:["Min ($",Math.max(J,d.currentBet),")"]}),f.jsxs(he,{onClick:()=>l(Math.min(d.currentBet*2,B)),variant:"outline",className:"text-xs py-2 border-amber-500/50 text-amber-200",children:["2x ($",Math.min(d.currentBet*2,B),")"]}),f.jsxs(he,{onClick:()=>l(Math.min(d.pot,B)),variant:"outline",className:"text-xs py-2 border-amber-500/50 text-amber-200",children:["Pot ($",Math.min(d.pot,B),")"]}),f.jsxs(he,{onClick:()=>l(B),variant:"outline",className:"text-xs py-2 border-amber-500/50 text-amber-200",children:["All-in ($",B,")"]})]})]})};return A?i?f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30 rounded-lg",style:{backgroundImage:"url(/poker-table.png)"}}),f.jsxs(Ot,{className:"relative bg-black/60 border-amber-500/30 backdrop-blur-md",children:[f.jsx(ea,{className:"border-b border-amber-500/20 pb-4",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx(ta,{className:"text-2xl font-display text-amber-200",children:" Poker Table"}),f.jsxs(Ud,{className:"text-amber-200/50",children:[d==null?void 0:d.gamePhase.toUpperCase(),"  Blinds: $",d==null?void 0:d.smallBlind,"/$",d==null?void 0:d.bigBlind]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-amber-100 text-sm",children:"Pot"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:"/chip-stack.png",alt:"chips",className:"w-8 h-8"}),f.jsxs("p",{className:"text-amber-300 font-bold text-2xl",children:["$",(d==null?void 0:d.pot.toLocaleString())||0]})]})]})]})}),f.jsxs(Lt,{className:"p-6 space-y-6",children:[g&&f.jsxs("div",{className:`p-3 rounded text-center font-semibold animate-pulse ${N?"bg-green-900/60 border-green-500/50 text-green-100":"bg-amber-900/40 border-amber-500/40 text-amber-100"}`,children:[g,N&&f.jsxs("div",{className:"mt-2 text-lg flex items-center justify-center gap-2",children:[f.jsx("span",{className:"text-yellow-300",children:""}),f.jsxs("span",{children:[N.name," wins!"]}),f.jsx("span",{className:"text-yellow-300",children:""})]})]}),f.jsx("div",{className:"text-center pb-4 border-b border-amber-500/20",children:f.jsxs("div",{className:"flex justify-center items-center gap-3",children:[f.jsx("p",{className:"text-amber-200 font-display text-lg",children:" Dealer"}),f.jsx("img",{src:"/dealer-deck.png",alt:"deck",className:"w-16 h-16 rounded"}),f.jsxs("p",{className:"text-amber-200/70",children:["Cards left: ",(d==null?void 0:d.deck.length)||0]})]})}),d&&d.sidePots.length>0&&f.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 p-2 rounded-lg",children:[f.jsx("p",{className:"text-amber-100 text-sm text-center",children:"Side Pots"}),f.jsx("div",{className:"flex gap-2 justify-center mt-1",children:d.sidePots.map((j,$)=>f.jsxs("div",{className:"px-3 py-1 bg-purple-800/50 rounded text-xs text-amber-200",children:["$",j.amount.toLocaleString()]},$))})]}),d&&f.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:d.players.filter(j=>j.isBot).map(j=>f.jsxs("div",{className:`bg-amber-900/20 border p-3 rounded-lg transition-all ${j.folded?"border-red-500/30 opacity-50":j.isAllIn?"border-yellow-500/50 bg-yellow-900/20":"border-amber-500/30"} ${(N==null?void 0:N.id)===j.id&&!j.folded?"ring-2 ring-yellow-400 ring-opacity-70":""}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-100 font-semibold",children:j.name}),f.jsxs("p",{className:"text-amber-200/70 text-sm",children:["Chips: $",j.chips.toLocaleString()]}),f.jsxs("p",{className:"text-amber-200/70 text-sm",children:["Bet: $",j.bet.toLocaleString()]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[f.jsx("div",{className:"text-xs px-2 py-1 rounded bg-amber-800/50 text-amber-200",children:j.name==="Jerry"?"$25k":j.name==="Billy"?"$100k":"$1M"}),j.isAllIn&&f.jsx("div",{className:"text-xs px-2 py-1 rounded bg-yellow-800/50 text-yellow-200",children:"ALL-IN"})]})]}),j.lastAction&&f.jsx("p",{className:"text-yellow-300 text-xs mt-1 truncate",children:j.lastAction}),f.jsx("div",{className:"flex gap-2 mt-3 justify-center",children:!j.folded&&j.hand.map(($,G)=>f.jsx("div",{className:`w-16 h-20 rounded-lg border-2 flex flex-col items-center justify-center text-xl font-bold shadow-lg transition-all duration-500 ${T&&C[j.id]?"bg-white border-amber-500 transform scale-110":"bg-blue-900 border-blue-700"}`,children:T&&C[j.id]?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:se($),children:$.rank}),f.jsx("span",{className:se($),children:$.suit})]}):f.jsx("span",{className:"text-blue-300",children:""})},G))}),T&&C[j.id]&&f.jsx("div",{className:"text-center mt-2",children:f.jsx("p",{className:"text-xs text-green-300 font-semibold",children:"Cards Revealed"})})]},j.id))}),d&&d.communityCards.length>0&&f.jsxs("div",{className:"bg-green-900/30 border border-amber-500/30 p-4 rounded-lg",children:[f.jsx("p",{className:"text-amber-100 mb-3 font-semibold text-center",children:"Community Cards"}),f.jsx("div",{className:"flex gap-3 justify-center",children:d.communityCards.map((j,$)=>f.jsxs("div",{className:`w-20 h-28 bg-white rounded-lg border-2 border-amber-500 flex flex-col items-center justify-center text-3xl font-bold shadow-lg ${x?"animate-bounce":""}`,children:[f.jsx("span",{className:se(j),children:j.rank}),f.jsx("span",{className:se(j),children:j.suit})]},$))})]}),d&&f.jsxs("div",{className:`bg-gradient-to-br from-amber-900/40 to-amber-800/40 border-2 p-4 rounded-lg transition-all duration-300 ${(N==null?void 0:N.id)===0&&!d.players[0].folded?"border-yellow-400 ring-2 ring-yellow-400 ring-opacity-70":d.players[0].isAllIn?"border-yellow-500/70 bg-yellow-900/30":"border-amber-500/50"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-100 font-bold text-lg",children:"You"}),f.jsxs("p",{className:"text-amber-200/70",children:["Chips: $",t.chips.toLocaleString()]}),f.jsxs("p",{className:"text-amber-200/70",children:["Bet: $",d.players[0].bet.toLocaleString()]}),d.players[0].isAllIn&&f.jsx("p",{className:"text-yellow-300 text-sm font-semibold",children:"ALL-IN!"}),d.players[0].lastAction.includes("blind")&&f.jsx("p",{className:"text-blue-300 text-sm",children:d.players[0].lastAction})]}),f.jsx("div",{className:"flex gap-2",children:d.players[0].hand.map((j,$)=>f.jsx("div",{className:`w-20 h-28 rounded-lg border-2 flex flex-col items-center justify-center text-3xl font-bold shadow-xl transition-all duration-500 ${T&&C[0]?"bg-white border-amber-500 transform scale-110":"bg-gradient-to-br from-amber-300 to-amber-600 border-amber-700"}`,children:T&&C[0]?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:se(j),children:j.rank}),f.jsx("span",{className:se(j),children:j.suit})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-white",children:j.rank}),f.jsx("span",{className:"text-white",children:j.suit})]})},$))})]}),ve(),y&&!T&&f.jsx("div",{className:"text-center py-4",children:f.jsx("p",{className:"text-amber-100 animate-pulse",children:d.currentPlayer>0?`${d.players[d.currentPlayer].name}'s turn...`:"Waiting for other players..."})}),T&&C[0]&&f.jsx("div",{className:"text-center py-3",children:f.jsx("p",{className:"text-green-300 font-semibold",children:"Your cards are revealed!"})}),d.players[0].folded&&f.jsx("div",{className:"text-center py-4",children:f.jsx("p",{className:"text-red-300 font-semibold",children:"You folded"})}),d.players[0].isAllIn&&!T&&d.gamePhase!=="showdown"&&f.jsx("div",{className:"text-center py-4",children:f.jsx("p",{className:"text-yellow-300 font-semibold animate-pulse",children:"You're ALL-IN! Waiting..."})})]})]})]})]}):f.jsxs(Ot,{className:"bg-black/40 border-amber-500/30 backdrop-blur-md",children:[f.jsxs(ea,{className:"border-b border-amber-500/20 pb-4",children:[f.jsx(ta,{className:"text-2xl font-display text-amber-200",children:" Texas Hold'em Poker"}),f.jsx(Ud,{className:"text-amber-200/50",children:"Professional Poker  VIP Exclusive"})]}),f.jsxs(Lt,{className:"p-6 space-y-6",children:[f.jsx("div",{className:"bg-amber-900/20 border border-amber-500/30 p-4 rounded-lg",children:f.jsxs("p",{className:"text-amber-100 text-center",children:["Your Chips: ",f.jsx("span",{className:"font-bold text-2xl",children:t.chips.toLocaleString()})]})}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-amber-100 block mb-4 font-semibold",children:["Number of Opponents: ",r]}),f.jsx(TE,{value:[r],onValueChange:j=>s(j[0]),min:1,max:3,step:1,className:"w-full"}),f.jsxs("div",{className:"flex justify-between text-sm text-amber-200/60 mt-2",children:[f.jsx("span",{children:"Jerry ($25k)"}),f.jsx("span",{children:"Billy ($100k)"}),f.jsx("span",{children:"Faraday ($1M)"})]})]}),f.jsxs("div",{className:"bg-amber-900/20 border border-amber-500/30 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-amber-100 font-semibold mb-3",children:"Real Poker Rules"}),f.jsxs("ul",{className:"text-amber-200/70 text-sm space-y-1",children:[f.jsx("li",{children:" Single deck, proper shuffling"}),f.jsxs("li",{children:[" Blinds: $",P?"50/100":"10/20"]}),f.jsx("li",{children:" Proper betting rounds"}),f.jsx("li",{children:" Win immediately if all bots fold"}),f.jsx("li",{children:" Bots play more aggressively"}),f.jsxs("li",{children:[" Max bet: ",P?"Unlimited":"1000 chips"]})]})]}),f.jsx(he,{onClick:M,disabled:t.chips<100,className:"w-full bg-amber-600 hover:bg-amber-700 text-white font-bold py-4 text-lg",children:t.chips<100?"Not Enough Chips":"Start Game"})]})]}):f.jsx(Ot,{className:"bg-black/40 border-red-500/30 backdrop-blur-md",children:f.jsxs(Lt,{className:"p-6 text-center",children:[f.jsx("p",{className:"text-red-200 mb-4 text-xl",children:" VIP Status Required"}),f.jsx("p",{className:"text-amber-200/60",children:"Purchase VIP Status to unlock Poker!"})]})})}function AW(){const{state:t,convertCoinsToChips:e,convertChipsToCoins:n}=$n(),[r,s]=w.useState(""),i=o=>{const a=parseInt(r);if(isNaN(a)||a<=0){be.error("Please enter a valid amount");return}if(o==="toChips"){const l=Math.floor(a/10),c=l*10;e(a)?(be.success(`Converted $${c} to ${l} Chips`),s("")):be.error("Not enough coins!")}else{const l=a*10;n(a)?(be.success(`Converted ${a} Chips to $${l}`),s("")):be.error("Not enough chips!")}};return f.jsxs("div",{className:"bg-zinc-900/80 p-4 rounded-lg border border-zinc-700 mb-6",children:[f.jsxs("h3",{className:"text-amber-100 font-bold mb-2 flex items-center gap-2",children:[f.jsx($V,{className:"w-4 h-4"})," Cashier"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ur,{type:"number",placeholder:"Amount",value:r,onChange:o=>s(o.target.value),className:"bg-black/50 border-zinc-700 text-white"}),f.jsx(he,{onClick:()=>i("toChips"),className:"bg-emerald-700 hover:bg-emerald-600 text-white",children:"Buy Chips"}),f.jsx(he,{onClick:()=>i("toCoins"),className:"bg-amber-700 hover:bg-amber-600 text-white",children:"Cash Out"})]}),f.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Rate: $10 = 1 Chip"})]})}function IW(){const{user:t}=ri(),{state:e}=$n(),[n,r]=w.useState([]),[s,i]=w.useState({totalPlayers:0,totalCoins:0,highestCoins:0}),[o,a]=w.useState(null),[l,c]=w.useState(!0),[h,d]=w.useState(new Date),p=async()=>{try{c(!0);const v=zo(on(xe,"players"),pg("coins","desc"),cA(10)),y=await fn(v),S=[];let x=0,E=0;y.forEach((N,V)=>{const C=N.data(),_=C.coins||0;x+=_,E=Math.max(E,_),S.push({rank:V+1,username:C.username||"Anonymous",coins:_,userId:N.id}),t&&N.id===t.uid&&a(V+1)}),r(S);const k=(await QU(on(xe,"players"))).data().count;i({totalPlayers:k,totalCoins:x,highestCoins:E}),t&&!o&&await g(t.uid),d(new Date)}catch(v){console.error("Failed to fetch leaderboard:",v)}finally{c(!1)}},g=async v=>{try{const y=zo(on(xe,"players"),pg("coins","desc")),S=await fn(y),x=[];S.forEach(T=>{x.push({id:T.id,...T.data()})});const E=x.findIndex(T=>T.id===v);E>=0&&a(E+1)}catch(y){console.error("Failed to find user rank:",y)}};return w.useEffect(()=>{p();const v=setInterval(()=>{p()},3e4);return()=>clearInterval(v)},[t]),w.useEffect(()=>{t&&p()},[e.coins,t]),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(Ot,{className:"bg-black/40 border-amber-500/30 backdrop-blur-md",children:f.jsx(Lt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-200/60 text-sm uppercase tracking-wider",children:"Total Players"}),f.jsx("p",{className:"text-3xl font-bold text-amber-100 mt-2",children:s.totalPlayers})]}),f.jsx($d,{className:"w-12 h-12 text-amber-500/30"})]})})}),f.jsx(Ot,{className:"bg-black/40 border-amber-500/30 backdrop-blur-md",children:f.jsx(Lt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-200/60 text-sm uppercase tracking-wider",children:"Highest Coins"}),f.jsxs("p",{className:"text-3xl font-bold text-amber-100 mt-2",children:["$",s.highestCoins.toLocaleString()]})]}),f.jsx(cO,{className:"w-12 h-12 text-amber-500/30"})]})})}),f.jsx(Ot,{className:"bg-black/40 border-amber-500/30 backdrop-blur-md",children:f.jsx(Lt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-200/60 text-sm uppercase tracking-wider",children:"Total Coins"}),f.jsxs("p",{className:"text-3xl font-bold text-amber-100 mt-2",children:["$",(s.totalCoins/1e3).toFixed(1),"K"]})]}),f.jsx(lO,{className:"w-12 h-12 text-amber-500/30"})]})})})]}),t&&o&&f.jsx(Ot,{className:"bg-gradient-to-r from-amber-900/30 to-amber-800/30 border-amber-500/50 backdrop-blur-md",children:f.jsx(Lt,{className:"p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-200/60 text-sm uppercase tracking-wider",children:"Your Rank"}),f.jsxs("p",{className:"text-4xl font-bold text-amber-100 mt-2",children:["#",o]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-amber-200/60 text-sm uppercase tracking-wider",children:"Your Coins"}),f.jsxs("p",{className:"text-3xl font-bold text-amber-100 mt-2",children:["$",e.coins.toLocaleString()]})]})]})})}),f.jsxs(Ot,{className:"bg-black/40 border-amber-500/30 backdrop-blur-md",children:[f.jsx(ea,{className:"border-b border-amber-500/20 pb-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(ta,{className:"text-2xl font-display text-amber-200",children:" Live Leaderboard"}),f.jsxs(Ud,{className:"text-amber-200/50",children:["Updated ",h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l&&"  Refreshing..."]})]}),f.jsxs("button",{onClick:p,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 hover:bg-amber-500/30 border border-amber-500/50 text-amber-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx($1,{className:`w-4 h-4 ${l?"animate-spin":""}`}),l?"Refreshing...":"Refresh"]})]})}),f.jsx(Lt,{className:"p-6",children:l?f.jsx("div",{className:"text-center py-8 text-amber-200/60",children:"Loading live leaderboard..."}):n.length===0?f.jsx("div",{className:"text-center py-8 text-amber-200/60",children:"No players yet. Click the coin to start playing!"}):f.jsx("div",{className:"space-y-3",children:n.map(v=>f.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-colors ${t&&v.userId===t.uid?"bg-gradient-to-r from-amber-900/30 to-amber-800/30 border-amber-500/50":"bg-amber-900/10 border-amber-500/20 hover:bg-amber-900/20"}`,children:[f.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[f.jsxs("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-amber-500/20 font-bold text-amber-100",children:[v.rank===1&&"",v.rank===2&&"",v.rank===3&&"",v.rank>3&&v.rank]}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold text-amber-100",children:[v.username,t&&v.userId===t.uid&&f.jsx("span",{className:"ml-2 text-xs bg-amber-500/20 text-amber-300 px-2 py-1 rounded",children:"You"})]}),f.jsxs("p",{className:"text-sm text-amber-200/60",children:["Rank #",v.rank]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-2xl font-bold text-amber-100",children:["$",v.coins.toLocaleString()]}),f.jsxs("p",{className:"text-xs text-amber-200/60",children:[Math.floor(v.coins/10)," chips"]})]})]},v.rank))})})]}),f.jsx(Ot,{className:"bg-black/40 border-blue-500/30 backdrop-blur-md",children:f.jsx(Lt,{className:"p-4",children:f.jsxs("p",{className:"text-blue-200/80 text-sm text-center",children:[" ",f.jsx("span",{className:"font-semibold",children:"Live Leaderboard:"})," Rankings update every 30 seconds based on CURRENT coins. LEADERBOARD IS NOT WORKING RN YOU NEED TO WAIT!."]})})})]})}var yf="Switch",[PW]=ei(yf),[RW,NW]=PW(yf),IP=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:c,form:h,...d}=t,[p,g]=w.useState(null),v=ut(e,T=>g(T)),y=w.useRef(!1),S=p?h||!!p.closest("form"):!0,[x,E]=dc({prop:s,defaultProp:i??!1,onChange:c,caller:yf});return f.jsxs(RW,{scope:n,checked:x,disabled:a,children:[f.jsx(Ge.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":DP(x),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:v,onClick:Fe(t.onClick,T=>{E(k=>!k),S&&(y.current=T.isPropagationStopped(),y.current||T.stopPropagation())})}),S&&f.jsx(NP,{control:p,bubbles:!y.current,name:r,value:l,checked:x,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});IP.displayName=yf;var PP="SwitchThumb",RP=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=NW(PP,n);return f.jsx(Ge.span,{"data-state":DP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});RP.displayName=PP;var DW="SwitchBubbleInput",NP=w.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=w.useRef(null),a=ut(o,i),l=fP(n),c=jy(e);return w.useEffect(()=>{const h=o.current;if(!h)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&g){const v=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(v)}},[l,n,r]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});NP.displayName=DW;function DP(t){return t?"checked":"unchecked"}var MW=IP,jW=RP;function VW({className:t,...e}){return f.jsx(MW,{"data-slot":"switch",className:We("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(jW,{"data-slot":"switch-thumb",className:We("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var OW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],LW=OW.reduce((t,e)=>{const n=Fy(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),FW="Label",MP=w.forwardRef((t,e)=>f.jsx(LW.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MP.displayName=FW;var BW=MP;function Ts({className:t,...e}){return f.jsx(BW,{"data-slot":"label",className:We("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var UW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$W=UW.reduce((t,e)=>{const n=Fy(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),zW="Separator",AE="horizontal",WW=["horizontal","vertical"],jP=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=AE,...s}=t,i=HW(r)?r:AE,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx($W.div,{"data-orientation":i,...a,...s,ref:e})});jP.displayName=zW;function HW(t){return WW.includes(t)}var GW=jP;function qW({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return f.jsx(GW,{"data-slot":"separator",decorative:n,orientation:e,className:We("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}function KW(){const{state:t,toggleCosmetic:e}=$n(),n=[{key:"confettiClick",name:"Confetti Click",description:"Show confetti particles when clicking",icon:"",owned:t.upgrades.confettiClick},{key:"backgroundTheme",name:"Cool Theme",description:"Alternative background theme",icon:"",owned:t.upgrades.backgroundTheme},{key:"neonGlow",name:"Neon Glow",description:"Glowing neon effect on clicker",icon:"",owned:t.upgrades.neonGlow},{key:"particleTrail",name:"Particle Trail",description:"Colorful trail following your cursor",icon:"",owned:t.upgrades.particleTrail},{key:"premiumTheme",name:"Premium Theme",description:"Exclusive purple and gold color scheme",icon:"",owned:t.upgrades.premiumTheme},{key:"rainbowClicker",name:"Rainbow Clicker",description:"Clicker cycles through rainbow colors",icon:"",owned:t.upgrades.rainbowClicker},{key:"starryBackground",name:"Starry Night",description:"Animated starfield background",icon:"",owned:t.upgrades.starryBackground},{key:"goldenFrame",name:"Golden Frame",description:"Luxurious gold border around UI",icon:"",owned:t.upgrades.goldenFrame},{key:"fireworksEffect",name:"Fireworks",description:"Fireworks explode on big wins",icon:"",owned:t.upgrades.fireworksEffect},{key:"velvetCurtains",name:"Velvet Curtains",description:"Rich red velvet theater curtains",icon:"",owned:t.upgrades.velvetCurtains}],r=s=>{var i;(i=n.find(o=>o.key===s))!=null&&i.owned&&e(s)};return f.jsxs(Ot,{className:"h-full bg-black/40 border-amber-500/30 backdrop-blur-md text-amber-50 shadow-2xl",children:[f.jsxs(ea,{className:"border-b border-amber-500/20 pb-4",children:[f.jsxs(ta,{className:"text-2xl font-display text-amber-200 flex items-center gap-2",children:[f.jsx(sO,{className:"w-6 h-6"}),"Settings"]}),f.jsx(Ud,{className:"text-amber-200/50",children:"Customize your casino experience"})]}),f.jsxs(Lt,{className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-100 mb-4",children:"Cosmetic Effects"}),f.jsx("p",{className:"text-sm text-amber-200/60 mb-4",children:"Toggle cosmetic effects on/off. You must purchase them in the Shop first."}),f.jsx("div",{className:"space-y-4",children:n.map(s=>f.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-all ${s.owned?"bg-amber-900/20 border-amber-500/30 cursor-pointer hover:bg-amber-900/30":"bg-gray-900/20 border-gray-500/20 opacity-50 cursor-not-allowed"}`,children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx("span",{className:"text-2xl",children:s.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsx(Ts,{htmlFor:s.key,className:`text-sm font-medium cursor-pointer ${s.owned?"text-amber-100":"text-gray-400"}`,children:s.name}),f.jsx("p",{className:`text-xs ${s.owned?"text-amber-200/60":"text-gray-500"}`,children:s.description}),!s.owned&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:" Purchase in Shop to unlock"})]})]}),f.jsx(VW,{id:s.key,checked:s.owned&&t.activeCosmetics[s.key],onCheckedChange:()=>r(s.key),disabled:!s.owned,className:"data-[state=checked]:bg-amber-500"})]},s.key))})]}),f.jsx(qW,{className:"bg-amber-500/20"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-100 mb-2",children:"Game Info"}),f.jsxs("p",{className:"text-sm text-amber-200/60",children:["Current cosmetics active: ",Object.values(t.activeCosmetics).filter(Boolean).length]})]})]})]})}var zp="rovingFocusGroup.onEntryFocus",QW={bubbles:!1,cancelable:!0},Nc="RovingFocusGroup",[Dg,VP,YW]=pP(Nc),[XW,OP]=ei(Nc,[YW]),[JW,ZW]=XW(Nc),LP=w.forwardRef((t,e)=>f.jsx(Dg.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Dg.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(eH,{...t,ref:e})})}));LP.displayName=Nc;var eH=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...d}=t,p=w.useRef(null),g=ut(e,p),v=g0(i),[y,S]=dc({prop:o,defaultProp:a??null,onChange:l,caller:Nc}),[x,E]=w.useState(!1),T=Oi(c),k=VP(n),N=w.useRef(!1),[V,C]=w.useState(0);return w.useEffect(()=>{const _=p.current;if(_)return _.addEventListener(zp,T),()=>_.removeEventListener(zp,T)},[T]),f.jsx(JW,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:w.useCallback(_=>S(_),[S]),onItemShiftTab:w.useCallback(()=>E(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:w.useCallback(()=>C(_=>_-1),[]),children:f.jsx(Ge.div,{tabIndex:x||V===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{N.current=!0}),onFocus:Fe(t.onFocus,_=>{const A=!N.current;if(_.target===_.currentTarget&&A&&!x){const P=new CustomEvent(zp,QW);if(_.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=k().filter(W=>W.focusable),D=M.find(W=>W.active),I=M.find(W=>W.id===y),ee=[D,I,...M].filter(Boolean).map(W=>W.ref.current);UP(ee,h)}}N.current=!1}),onBlur:Fe(t.onBlur,()=>E(!1))})})}),FP="RovingFocusGroupItem",BP=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=yl(),c=i||l,h=ZW(FP,n),d=h.currentTabStopId===c,p=VP(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=h;return w.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),f.jsx(Dg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:f.jsx(Ge.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:Fe(t.onMouseDown,S=>{r?h.onItemFocus(c):S.preventDefault()}),onFocus:Fe(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:Fe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const x=rH(S,h.orientation,h.dir);if(x!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=p().filter(k=>k.focusable).map(k=>k.ref.current);if(x==="last")T.reverse();else if(x==="prev"||x==="next"){x==="prev"&&T.reverse();const k=T.indexOf(S.currentTarget);T=h.loop?sH(T,k+1):T.slice(k+1)}setTimeout(()=>UP(T))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:y!=null}):o})})});BP.displayName=FP;var tH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rH(t,e,n){const r=nH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tH[r]}function UP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function sH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var iH=LP,oH=BP,vf="Tabs",[aH]=ei(vf,[OP]),$P=OP(),[lH,v0]=aH(vf),zP=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,h=g0(a),[d,p]=dc({prop:r,onChange:s,defaultProp:i??"",caller:vf});return f.jsx(lH,{scope:n,baseId:yl(),value:d,onValueChange:p,orientation:o,dir:h,activationMode:l,children:f.jsx(Ge.div,{dir:h,"data-orientation":o,...c,ref:e})})});zP.displayName=vf;var WP="TabsList",HP=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=v0(WP,n),o=$P(n);return f.jsx(iH,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(Ge.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});HP.displayName=WP;var GP="TabsTrigger",qP=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=v0(GP,n),a=$P(n),l=YP(o.baseId,r),c=XP(o.baseId,r),h=r===o.value;return f.jsx(oH,{asChild:!0,...a,focusable:!s,active:h,children:f.jsx(Ge.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Fe(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:Fe(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:Fe(t.onFocus,()=>{const d=o.activationMode!=="manual";!h&&!s&&d&&o.onValueChange(r)})})})});qP.displayName=GP;var KP="TabsContent",QP=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=v0(KP,n),l=YP(a.baseId,r),c=XP(a.baseId,r),h=r===a.value,d=w.useRef(h);return w.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(wa,{present:s||h,children:({present:p})=>f.jsx(Ge.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&i})})});QP.displayName=KP;function YP(t,e){return`${t}-trigger-${e}`}function XP(t,e){return`${t}-content-${e}`}var cH=zP,uH=HP,dH=qP,hH=QP;function IE({className:t,...e}){return f.jsx(cH,{"data-slot":"tabs",className:We("flex flex-col gap-2",t),...e})}function PE({className:t,...e}){return f.jsx(uH,{"data-slot":"tabs-list",className:We("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function mi({className:t,...e}){return f.jsx(dH,{"data-slot":"tabs-trigger",className:We("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function gi({className:t,...e}){return f.jsx(hH,{"data-slot":"tabs-content",className:We("flex-1 outline-none",t),...e})}function fH(){const{state:t}=$n();return f.jsx(b$,{children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 h-full",children:[f.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[f.jsx(Ot,{className:"bg-black/40 border-amber-500/20 backdrop-blur-sm overflow-hidden",children:f.jsx(Lt,{className:"p-0",children:f.jsx(B8,{})})}),f.jsx("div",{className:"grid gap-8 md:grid-cols-1",children:f.jsx(z8,{})}),(t.upgrades.diceGame||t.upgrades.blackjackGame||t.upgrades.rouletteGame)&&f.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-10 duration-1000",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-amber-500/50 to-transparent"}),f.jsx("h2",{className:"text-2xl font-display font-bold text-amber-200 uppercase tracking-widest",children:"VIP Lounge"}),f.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-amber-500/50 to-transparent"})]}),f.jsx(AW,{}),f.jsxs(IE,{defaultValue:t.upgrades.diceGame?"dice":t.upgrades.blackjackGame?"blackjack":t.upgrades.rouletteGame?"roulette":"poker",className:"w-full",children:[f.jsxs(PE,{className:"grid w-full grid-cols-4 bg-black/60 border border-amber-500/20",children:[f.jsxs(mi,{value:"dice",disabled:!t.upgrades.diceGame,className:"data-[state=active]:bg-amber-600 data-[state=active]:text-white",children:["Dice ",t.upgrades.diceGame?"":""]}),f.jsxs(mi,{value:"blackjack",disabled:!t.upgrades.blackjackGame,className:"data-[state=active]:bg-emerald-700 data-[state=active]:text-white",children:["Blackjack ",t.upgrades.blackjackGame?"":""]}),f.jsxs(mi,{value:"roulette",disabled:!t.upgrades.rouletteGame,className:"data-[state=active]:bg-green-700 data-[state=active]:text-white",children:["Roulette ",t.upgrades.rouletteGame?"":""]}),f.jsxs(mi,{value:"poker",disabled:!t.upgrades.vipStatus,className:"data-[state=active]:bg-purple-700 data-[state=active]:text-white",children:["Poker ",t.upgrades.vipStatus?"":""]})]}),f.jsx(gi,{value:"dice",className:"mt-4",children:f.jsx(W8,{})}),f.jsx(gi,{value:"blackjack",className:"mt-4",children:f.jsx(q8,{})}),f.jsx(gi,{value:"roulette",className:"mt-4",children:f.jsx(Y8,{})}),f.jsx(gi,{value:"poker",className:"mt-4",children:f.jsx(kW,{})})]})]})]}),f.jsx("div",{className:"lg:col-span-7",children:f.jsxs(IE,{defaultValue:"shop",className:"w-full",children:[f.jsxs(PE,{className:"grid w-full grid-cols-3 bg-black/60 border border-amber-500/20 mb-6",children:[f.jsx(mi,{value:"shop",className:"data-[state=active]:bg-amber-600 data-[state=active]:text-white",children:" Shop"}),f.jsx(mi,{value:"leaderboard",className:"data-[state=active]:bg-amber-600 data-[state=active]:text-white",children:" Leaderboard"}),f.jsx(mi,{value:"settings",className:"data-[state=active]:bg-amber-600 data-[state=active]:text-white",children:" Settings"})]}),f.jsx(gi,{value:"shop",children:f.jsx($8,{})}),f.jsx(gi,{value:"leaderboard",children:f.jsx(IW,{})}),f.jsx(gi,{value:"settings",children:f.jsx(KW,{})})]})})]})})}function pH(){return f.jsx(ZU,{children:f.jsx(fH,{})})}function mH({className:t,onKeyDown:e,onCompositionStart:n,onCompositionEnd:r,...s}){const i=qv(),{onCompositionStart:o,onCompositionEnd:a,onKeyDown:l}=zA({onKeyDown:c=>{const h=c.nativeEvent.isComposing||i.justEndedComposing();c.key==="Enter"&&!c.shiftKey&&h||e==null||e(c)},onCompositionStart:c=>{i.setComposing(!0),n==null||n(c)},onCompositionEnd:c=>{i.markCompositionEnd(),setTimeout(()=>{i.setComposing(!1)},100),r==null||r(c)}});return f.jsx("textarea",{"data-slot":"textarea",className:We("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),onCompositionStart:o,onCompositionEnd:a,onKeyDown:l,...s})}const gH=F1("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function JP({className:t,variant:e,...n}){return f.jsx("div",{"data-slot":"alert",role:"alert",className:We(gH({variant:e}),t),...n})}function ZP({className:t,...e}){return f.jsx("div",{"data-slot":"alert-description",className:We("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function yH(){var dn,vt,zn;const{user:t}=ri(),[e,n]=w.useState(!1),[r,s]=w.useState(""),[i,o]=w.useState(1e3),[a,l]=w.useState("give"),[c,h]=w.useState(""),[d,p]=w.useState([]),[g,v]=w.useState(!0),[y,S]=w.useState(null),[x,E]=w.useState(!1),[T,k]=w.useState(!1),[N,V]=w.useState(""),[C,_]=w.useState(!1),[A,P]=w.useState(""),[M,D]=w.useState([]),[I,H]=w.useState(null);w.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{const re=await Yn(je(xe,"players",t.uid));if(re.exists()){const ae=re.data();n(ae.role==="admin"),console.log("Admin check:",ae.role,"Is admin?",ae.role==="admin")}}catch(re){console.error("Failed to check admin status:",re)}})()},[t]);const ee=async()=>{try{v(!0);const L=zo(on(xe,"players")),re=await fn(L),ae=[];re.forEach(pe=>{const ie=pe.data();ae.push({id:pe.id,email:ie.email,displayName:ie.username||ie.displayName||"Unknown",username:ie.username,coins:K(ie.coins,0),role:ie.role||"user",chips:X(ie.chips),clickCount:K(ie.clickCount,0),totalClicks:K(ie.totalClicks,0),highScore:K(ie.highScore,0),upgrades:ie.upgrades,activeCosmetics:ie.activeCosmetics||ie.activeCometics||"{}",upgradesLocked:ie.upgradesLocked||!1,economyFrozen:ie.economyFrozen||!1,hasIssues:!1})}),p(ae),h(`Loaded ${ae.length} users`)}catch(L){h("Failed to load users"),console.error(L)}finally{v(!1)}},W=async()=>{try{console.log("=== DEBUG ANNOUNCEMENTS ===");const L=await fn(on(xe,"announcements"));console.log("Announcements in collection:",L.size),L.forEach(ae=>{console.log(`Announcement ${ae.id}:`,ae.data())});const re=await fn(zo(on(xe,"players"),cA(3)));console.log(`
Sample users:`),re.forEach(ae=>{console.log(`User ${ae.id}:`,{username:ae.data().username,activeAnnouncement:ae.data().activeAnnouncement,hasUnreadAnnouncement:ae.data().hasUnreadAnnouncement})}),h("Debug info logged to console")}catch(L){console.error("Debug failed:",L),h("Debug failed")}},te=async L=>{if(window.confirm("Are you sure you want to remove this announcement?"))try{console.log("Removing announcement:",L),await ku(je(xe,"announcements",L)),L===I&&H(null);const re=await fn(on(xe,"players")),ae=[];re.forEach(pe=>{pe.data().activeAnnouncement===L&&ae.push(nt(je(xe,"players",pe.id),{activeAnnouncement:null,hasUnreadAnnouncement:!1}))}),await Promise.all(ae),h("Announcement removed from all users!"),O()}catch(re){console.error("Failed to remove announcement:",re),h("Failed to remove announcement")}},O=async()=>{try{console.log("Loading announcements...");const L=zo(on(xe,"announcements"),pg("timestamp","desc")),re=await fn(L),ae=[];re.forEach(pe=>{var Ye;const ie=pe.data();ae.push({id:pe.id,message:ie.message||"",timestamp:((Ye=ie.timestamp)==null?void 0:Ye.toDate())||new Date,isActive:ie.isActive||!1}),ie.isActive&&(H(pe.id),console.log("Active announcement found:",pe.id))}),console.log("Loaded",ae.length,"announcements"),D(ae)}catch(L){console.error("Failed to load announcements:",L)}},K=(L,re=0)=>{if(L==null)return re;const ae=Number(L);return isNaN(ae)?re:ae},X=L=>{if(L==null)return 0;if(typeof L=="number")return isNaN(L)?0:L;if(typeof L=="string"){if(L==="Beginner")return 0;const re=Number(L);return isNaN(re)?0:re}return 0},se=L=>X(L).toString();w.useEffect(()=>{(async()=>{if(!r){S(null);return}try{const re=await Yn(je(xe,"players",r));if(re.exists()){const ae=re.data();S({id:re.id,displayName:ae.username||ae.displayName||"Unknown",username:ae.username,coins:K(ae.coins,0),role:ae.role||"user",chips:X(ae.chips),clickCount:K(ae.clickCount,0),totalClicks:K(ae.totalClicks,0),highScore:K(ae.highScore,0),upgradesLocked:ae.upgradesLocked||!1,economyFrozen:ae.economyFrozen||!1})}}catch(re){console.error("Failed to load user details:",re)}})()},[r]);const ve=async()=>{if(!r){h("Please select a user first");return}try{const L=M.find(re=>re.isActive);if(!L){h("No active announcement found");return}await nt(je(xe,"players",r),{activeAnnouncement:L.id,hasUnreadAnnouncement:!0}),h(`Forced announcement to user ${y==null?void 0:y.displayName}. Open that user in a new browser to test.`)}catch(L){console.error("Force announcement error:",L),h("Failed to force announcement")}},j=async()=>{if(!A.trim()){h("Please enter announcement text");return}try{console.log("Creating announcement...");const L=await fn(on(xe,"announcements"));console.log("Found",L.size,"existing announcements");const re=[];L.forEach(ht=>{re.push(nt(je(xe,"announcements",ht.id),{isActive:!1,updatedAt:new Date}))}),await Promise.all(re),console.log("Deactivated old announcements");const ae=`announcement_${Date.now()}`,pe=je(xe,"announcements",ae),ie={message:A.trim(),timestamp:new Date,isActive:!0,createdAt:new Date,createdBy:(t==null?void 0:t.uid)||"admin"};console.log("Saving announcement:",ie),await mg(pe,ie),console.log("Announcement saved with ID:",ae);const Ye=await fn(on(xe,"players"));console.log("Found",Ye.size,"users");const qe=[];let Ae=0;Ye.forEach(ht=>{qe.push(nt(je(xe,"players",ht.id),{activeAnnouncement:ae,hasUnreadAnnouncement:!0,lastUpdated:new Date})),Ae++}),await Promise.all(qe),console.log("Updated",Ae,"users with new announcement"),H(ae),P(""),h(`Announcement created and sent to ${Ae} players!`),O(),ee()}catch(L){console.error("Failed to create announcement:",L),h(`Failed to create announcement: ${L}`)}},$=async()=>{if(!r||!i){h("Please select a user and enter amount");return}if(i<=0){h("Amount must be greater than 0");return}try{const L=je(xe,"players",r),re=await Yn(L);if(!re.exists()){h("User not found");return}const ae=K(re.data().coins,0);let pe=ae;a==="give"?pe=ae+i:a==="take"&&(pe=Math.max(0,ae-i)),await nt(L,{coins:pe,lastUpdated:new Date}),h(`${a==="give"?"Added":"Removed"} ${i} coins from user. New total: ${pe}`),ee()}catch(L){h("Failed to manage coins"),console.error(L)}},G=async(L,re)=>{if(!L||!re){h("Please select a user and role");return}if(window.confirm(`Change user role to "${re}"?`))try{await nt(je(xe,"players",L),{role:re,lastUpdated:new Date}),h(`Role changed to "${re}"`),E(!1),ee()}catch(ae){h("Failed to update role"),console.error(ae)}},J=async()=>{if(!r||!N.trim()){h("Please select a user and enter a username");return}const L=N.trim();if(window.confirm(`Change username to "${L}"?`))try{await nt(je(xe,"players",r),{username:L,lastUpdated:new Date}),h(`Username changed to "${L}"`),k(!1),V(""),ee()}catch(re){h("Failed to update username"),console.error(re)}},B=async()=>{if(!r){h("Please select a user first");return}const L=prompt("Enter chips value (number only):",(y==null?void 0:y.chips)!=null?String(y.chips):"0");if(L!==null)try{const re=X(L);await nt(je(xe,"players",r),{chips:re,lastUpdated:new Date}),h(`Set chips to: ${re}`),ee()}catch(re){h("Failed to update chips"),console.error(re)}},ne=async()=>{if(!r){h("Please select a user first");return}try{const L=je(xe,"players",r),re=await Yn(L);if(!re.exists()){h("User not found");return}const pe=!re.data().upgradesLocked;await nt(L,{upgradesLocked:pe,lastUpdated:new Date}),h(pe?"Upgrades locked for user":"Upgrades unlocked for user"),ee()}catch(L){h("Failed to toggle upgrades lock"),console.error(L)}},we=async()=>{if(!r){h("Please select a user first");return}try{const L=je(xe,"players",r),re=await Yn(L);if(!re.exists()){h("User not found");return}const pe=!re.data().economyFrozen;await nt(L,{economyFrozen:pe,lastUpdated:new Date}),h(pe?"Economy frozen for user":"Economy unfrozen for user"),ee()}catch(L){h("Failed to toggle economy freeze"),console.error(L)}},fe=async()=>{if(!r){h("Please select a user");return}if(window.confirm("Soft Reset: Reset coins/progress but keep cosmetics. Continue?"))try{const L=je(xe,"players",r),re=await Yn(L);if(!re.exists()){h("User not found");return}const ae=re.data();let pe="{}";try{pe=ae.activeCosmetics||ae.activeCometics||"{}"}catch(ie){console.error("Error parsing cosmetics:",ie)}await nt(L,{coins:0,clickCount:0,totalClicks:0,highScore:0,chips:0,upgrades:"{}",activeCosmetics:pe,lastUpdated:new Date});try{await ku(je(xe,"leaderboard",r))}catch{console.log("No leaderboard entry to delete")}h("Soft reset completed (cosmetics preserved)"),ee()}catch(L){h("Failed to soft reset"),console.error(L)}},Ce=async()=>{if(!r){h("Please select a user");return}if(window.confirm(" HARD RESET: COMPLETE WIPE! This will delete ALL user data. Continue?"))try{const L=je(xe,"players",r);await nt(L,{coins:0,clickCount:0,totalClicks:0,highScore:0,chips:0,upgrades:"{}",activeCosmetics:"{}",lastUpdated:new Date,upgradesLocked:!1,economyFrozen:!1,role:(y==null?void 0:y.role)==="admin"?"admin":"user"});try{await ku(je(xe,"leaderboard",r))}catch{console.log("No leaderboard entry to delete")}h("Hard reset completed - complete data wipe"),ee()}catch(L){h("Failed to hard reset"),console.error(L)}},ke=async()=>{if(!r){h("Please select a user");return}if(window.confirm("Are you sure you want to reset this user's data?"))try{await nt(je(xe,"players",r),{coins:0,clickCount:0,chips:0,upgrades:"{}",activeCosmetics:"{}",lastUpdated:new Date}),h("User data reset to zero"),ee()}catch(L){h("Failed to reset user data"),console.error(L)}},dt=async()=>{if(!r){h("Please select a user");return}if(window.confirm("Remove this user from leaderboard?"))try{await ku(je(xe,"leaderboard",r)),h("User removed from leaderboard"),ee()}catch(L){h("Failed to remove from leaderboard"),console.error(L)}},Ue=async()=>{if(window.confirm("This will fix ALL data issues for ALL users. Continue?"))try{const L=await fn(on(xe,"players")),re=[];let ae=0;L.forEach(pe=>{const ie=pe.data(),Ye={};let qe=!1;ie.coins==null||isNaN(Number(ie.coins))?(Ye.coins=0,qe=!0):typeof ie.coins=="string"&&(Ye.coins=Number(ie.coins)||0,qe=!0),ie.clickCount==null||isNaN(Number(ie.clickCount))?(Ye.clickCount=0,qe=!0):typeof ie.clickCount=="string"&&(Ye.clickCount=Number(ie.clickCount)||0,qe=!0),ie.totalClicks==null||isNaN(Number(ie.totalClicks))?(Ye.totalClicks=0,qe=!0):typeof ie.totalClicks=="string"&&(Ye.totalClicks=Number(ie.totalClicks)||0,qe=!0),ie.highScore==null||isNaN(Number(ie.highScore))?(Ye.highScore=0,qe=!0):typeof ie.highScore=="string"&&(Ye.highScore=Number(ie.highScore)||0,qe=!0);const Ae=ie.chips;(Ae==null||Ae==="Beginner"||Ae==="0"||typeof Ae=="string")&&(Ye.chips=X(Ae),qe=!0),ie.activeCometics&&!ie.activeCosmetics&&(Ye.activeCosmetics=ie.activeCometics,qe=!0),qe&&(Ye.lastUpdated=new Date,re.push(nt(je(xe,"players",pe.id),Ye)),ae++)}),await Promise.all(re),h(`Fixed ${ae} users with data issues`),ee()}catch(L){h("Failed to fix data issues"),console.error(L)}},un=async()=>{try{const L=await fn(on(xe,"players")),re=[];L.forEach(ae=>{const pe=ae.data(),ie=[];[{field:"coins",value:pe.coins},{field:"clickCount",value:pe.clickCount},{field:"totalClicks",value:pe.totalClicks},{field:"highScore",value:pe.highScore},{field:"chips",value:pe.chips}].forEach(qe=>{const Ae=qe.value;Ae==null?ie.push(`${qe.field} is null/undefined`):typeof Ae=="string"?Ae==="null"||Ae==="undefined"||Ae==="NaN"?ie.push(`${qe.field} is string "${Ae}"`):!isNaN(Number(Ae))&&qe.field!=="chips"&&ie.push(`${qe.field} is string "${Ae}" (should be number)`):typeof Ae=="number"&&isNaN(Ae)&&ie.push(`${qe.field} is NaN`)}),ie.length>0&&re.push({id:ae.id,issues:ie})}),console.log("Problematic users:",re),p(ae=>ae.map(pe=>({...pe,hasIssues:re.some(ie=>ie.id===pe.id)}))),h(`Found ${re.length} users with data issues. Check console for details.`)}catch(L){console.error("Failed to scan users:",L),h("Failed to scan for data issues")}};return w.useEffect(()=>{e&&(ee(),O())},[e]),e?f.jsx("div",{className:"max-w-7xl mx-auto p-4 space-y-6",children:f.jsxs(Ot,{className:"bg-black/40 border-red-500/30 backdrop-blur-md",children:[f.jsx(ea,{children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs(ta,{className:"flex items-center gap-2 text-2xl text-red-200",children:[f.jsx(lp,{className:"w-6 h-6"}),"Admin Control Panel",f.jsx("span",{className:"text-xs px-2 py-1 bg-red-500/20 text-red-300 rounded",children:"ADMIN-ONLY"})]}),f.jsx("p",{className:"text-red-200/60 text-sm",children:"Full administrative control panel. Only admins can access this."})]}),f.jsxs(he,{onClick:()=>_(!C),className:C?"bg-purple-600 hover:bg-purple-700":"bg-indigo-600 hover:bg-indigo-700",children:[f.jsx(XV,{className:"w-4 h-4 mr-2"}),C?"Hide Announcements":"Show Announcements"]})]})}),f.jsxs(Lt,{children:[C&&f.jsxs("div",{className:"mb-6 p-4 bg-black/40 border border-indigo-500/30 rounded",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-indigo-200",children:"Global Announcements"}),f.jsx(he,{onClick:()=>_(!1),variant:"ghost",size:"sm",className:"text-indigo-300 hover:text-indigo-100",children:f.jsx(Xu,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"space-y-3 mb-6",children:[f.jsxs("div",{children:[f.jsx(Ts,{className:"text-indigo-200",children:"Announcement Message"}),f.jsx(mH,{value:A,onChange:L=>P(L.target.value),placeholder:"Enter message for all players...",className:"bg-black/50 border-indigo-500/30 text-indigo-100 min-h-[100px]"}),f.jsx("p",{className:"text-indigo-200/60 text-xs mt-1",children:"This message will appear for all players until they close it."})]}),f.jsxs(he,{onClick:j,className:"bg-indigo-600 hover:bg-indigo-700 w-full",disabled:!A.trim(),children:[f.jsx(JV,{className:"w-4 h-4 mr-2"}),"Send Announcement to All Players"]})]}),I&&f.jsxs("div",{className:"mb-6 p-4 bg-indigo-900/20 border border-indigo-500/50 rounded",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h4",{className:"font-semibold text-indigo-200",children:"Active Announcement"}),f.jsx(he,{onClick:()=>te(I),size:"sm",className:"bg-red-600 hover:bg-red-700",children:"Remove"})]}),f.jsx("div",{className:"text-indigo-100 bg-black/30 p-3 rounded",children:((dn=M.find(L=>L.id===I))==null?void 0:dn.message)||"Loading..."})]}),M.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-indigo-200 mb-2",children:"Previous Announcements"}),f.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:M.filter(L=>L.id!==I).map(L=>f.jsxs("div",{className:"p-3 bg-black/30 border border-indigo-500/20 rounded",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("p",{className:"text-indigo-100 text-sm flex-1",children:L.message}),f.jsx(he,{onClick:()=>te(L.id),size:"sm",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-red-900/30 ml-2",children:f.jsx(Lx,{className:"w-3 h-3"})})]}),f.jsxs("p",{className:"text-indigo-200/50 text-xs mt-1",children:[L.timestamp.toLocaleDateString()," ",L.timestamp.toLocaleTimeString()]})]},L.id))})]})]}),y&&f.jsxs("div",{className:"mb-6 p-4 bg-black/30 border border-red-500/30 rounded",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("h3",{className:"text-lg font-semibold text-red-200",children:["Selected: ",y.displayName]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(he,{onClick:()=>{E(!0),k(!1)},size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[f.jsx(Ox,{className:"w-3 h-3 mr-1"}),"Change Role"]}),f.jsxs(he,{onClick:()=>{k(!0),E(!1),V(y.displayName||"")},size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[f.jsx(oO,{className:"w-3 h-3 mr-1"}),"Edit Name"]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-red-200/60",children:"Coins:"}),f.jsx("span",{className:"ml-2 text-red-200 font-medium",children:((vt=y.coins)==null?void 0:vt.toLocaleString())||0})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-red-200/60",children:"Clicks:"}),f.jsx("span",{className:"ml-2 text-red-200 font-medium",children:((zn=y.clickCount)==null?void 0:zn.toLocaleString())||0})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-red-200/60",children:"Chips:"}),f.jsx("span",{className:"ml-2 text-red-200 font-medium",children:se(y.chips)})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-red-200/60",children:"Role:"}),f.jsx("span",{className:`ml-2 font-medium ${y.role==="admin"?"text-red-400":y.role==="moderator"?"text-blue-400":y.role==="goodboy"?"text-green-400":"text-yellow-400"}`,children:y.role||"user"})]})]})]}),x&&y&&f.jsxs("div",{className:"mb-6 p-4 bg-black/40 border border-purple-500/30 rounded",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-purple-200",children:["Change Role for ",y.displayName]}),f.jsx(he,{onClick:()=>E(!1),variant:"ghost",size:"sm",className:"text-purple-300 hover:text-purple-100",children:f.jsx(Xu,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2",children:["admin","moderator","goodboy","user"].map(L=>f.jsxs(he,{onClick:()=>G(y.id,L),variant:y.role===L?"default":"outline",className:`flex flex-col items-center h-20 ${y.role===L?L==="admin"?"bg-red-600 border-red-500":L==="moderator"?"bg-blue-600 border-blue-500":L==="goodboy"?"bg-green-600 border-green-500":"bg-gray-600 border-gray-500":"border-purple-500/30 hover:bg-purple-900/30"}`,children:[L==="admin"&&f.jsx(lp,{className:"w-5 h-5 mb-1"}),L==="moderator"&&f.jsx(z1,{className:"w-5 h-5 mb-1"}),L==="goodboy"&&f.jsx(aO,{className:"w-5 h-5 mb-1"}),L==="user"&&f.jsx(uO,{className:"w-5 h-5 mb-1"}),f.jsx("span",{className:"font-semibold capitalize",children:L}),f.jsx("span",{className:"text-xs opacity-70",children:y.role===L?"Current":"Set"})]},L))})]}),T&&y&&f.jsxs("div",{className:"mb-6 p-4 bg-black/40 border border-blue-500/30 rounded",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-blue-200",children:["Edit Username for ",y.displayName]}),f.jsx(he,{onClick:()=>k(!1),variant:"ghost",size:"sm",className:"text-blue-300 hover:text-blue-100",children:f.jsx(Xu,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx(Ts,{className:"text-blue-200",children:"New Username"}),f.jsx(Ur,{value:N,onChange:L=>V(L.target.value),placeholder:"Enter new username...",className:"bg-black/50 border-blue-500/30 text-blue-100"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(he,{onClick:J,className:"bg-blue-600 hover:bg-blue-700",disabled:!N.trim(),children:[f.jsx(WV,{className:"w-4 h-4 mr-2"}),"Update Username"]}),f.jsx(he,{onClick:()=>k(!1),variant:"outline",className:"border-blue-500/30 text-blue-300 hover:bg-blue-900/30",children:"Cancel"})]})]})]}),f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsxs("div",{children:[f.jsx(Ts,{htmlFor:"user-select",className:"text-red-200",children:"Select User"}),f.jsxs("select",{id:"user-select",className:"w-full p-2 bg-black/50 border border-red-500/30 rounded text-red-100",value:r,onChange:L=>{s(L.target.value),E(!1),k(!1)},children:[f.jsx("option",{value:"",children:"Choose a user..."}),d.map(L=>f.jsxs("option",{value:L.id,children:[L.displayName||L.email||L.id,"(",(L.coins||0).toLocaleString()," coins) [",L.role||"user","]"]},L.id))]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx(Ts,{htmlFor:"coin-action",className:"text-red-200",children:"Action"}),f.jsxs("select",{id:"coin-action",className:"w-full p-2 bg-black/50 border border-red-500/30 rounded text-red-100",value:a,onChange:L=>l(L.target.value),children:[f.jsx("option",{value:"give",children:"Give Coins"}),f.jsx("option",{value:"take",children:"Take Coins"})]})]}),f.jsxs("div",{children:[f.jsx(Ts,{htmlFor:"coin-amount",className:"text-red-200",children:"Amount"}),f.jsx(Ur,{id:"coin-amount",type:"number",value:i,onChange:L=>o(Number(L.target.value)),className:"bg-black/50 border-red-500/30 text-red-100",min:"1"})]}),f.jsx("div",{className:"flex items-end",children:f.jsxs(he,{onClick:$,className:`w-full ${a==="give"?"bg-green-600 hover:bg-green-700":"bg-orange-600 hover:bg-orange-700"}`,disabled:!r||i<=0,children:[a==="give"?f.jsx(rO,{className:"w-4 h-4 mr-2"}):f.jsx(ZV,{className:"w-4 h-4 mr-2"}),a==="give"?"Give":"Take"," Coins"]})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[f.jsxs(he,{onClick:un,className:"bg-yellow-600 hover:bg-yellow-700",children:[f.jsx(B1,{className:"w-4 h-4 mr-2"}),"Scan Issues"]}),f.jsxs(he,{onClick:Ue,className:"bg-purple-600 hover:bg-purple-700",children:[f.jsx(dO,{className:"w-4 h-4 mr-2"}),"Fix All Data"]}),f.jsxs(he,{onClick:ee,className:"bg-blue-600 hover:bg-blue-700",children:[f.jsx($1,{className:"w-4 h-4 mr-2"}),"Refresh Users"]}),f.jsxs(he,{onClick:B,className:"bg-indigo-600 hover:bg-indigo-700",disabled:!r,children:[f.jsx(GV,{className:"w-4 h-4 mr-2"}),"Set Chips"]}),f.jsx(he,{onClick:W,className:"bg-gray-600 hover:bg-gray-700",children:"Debug Announcements"}),f.jsxs(he,{onClick:ne,className:y!=null&&y.upgradesLocked?"bg-red-600 hover:bg-red-700":"bg-orange-600 hover:bg-orange-700",disabled:!r,children:[f.jsx(U1,{className:"w-4 h-4 mr-2"}),y!=null&&y.upgradesLocked?"Unlock Upgrades":"Lock Upgrades"]}),f.jsxs(he,{onClick:we,className:y!=null&&y.economyFrozen?"bg-cyan-600 hover:bg-cyan-700":"bg-gray-600 hover:bg-gray-700",disabled:!r,children:[f.jsx(iO,{className:"w-4 h-4 mr-2"}),y!=null&&y.economyFrozen?"Unfreeze Economy":"Freeze Economy"]}),f.jsxs(he,{onClick:fe,className:"bg-orange-600 hover:bg-orange-700",disabled:!r,children:[f.jsx(By,{className:"w-4 h-4 mr-2"}),"Soft Reset"]}),f.jsxs(he,{onClick:Ce,className:"bg-red-700 hover:bg-red-800",disabled:!r,children:[f.jsx(zV,{className:"w-4 h-4 mr-2"}),"Hard Reset"]}),f.jsx(he,{onClick:ve,className:"bg-pink-600 hover:bg-pink-700",disabled:!r,children:"Force to Selected User"}),f.jsxs(he,{onClick:ke,className:"bg-red-600 hover:bg-red-700",disabled:!r,children:[f.jsx(Lx,{className:"w-4 h-4 mr-2"}),"Reset Data"]}),f.jsxs(he,{onClick:dt,className:"bg-pink-600 hover:bg-pink-700",disabled:!r,children:[f.jsx($d,{className:"w-4 h-4 mr-2"}),"Remove Leaderboard"]})]}),c&&f.jsx(JP,{className:"border-red-500/50 bg-red-900/20 mb-6",children:f.jsx(ZP,{className:"text-red-200",children:c})}),f.jsxs("div",{className:"mt-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-xl font-semibold text-red-200",children:["All Users (",d.length,")"]}),f.jsx("div",{className:"flex items-center gap-2 text-sm text-red-200/60",children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),f.jsx("span",{children:"Admin Only"})]})})]}),g?f.jsx("p",{className:"text-red-200/60 text-center py-8",children:"Loading users..."}):f.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:d.map(L=>f.jsx("div",{className:`p-3 rounded border cursor-pointer transition-all hover:bg-red-900/20 ${r===L.id?"bg-red-900/30 border-red-500":"bg-black/30 border-red-500/20"} ${L.hasIssues?"border-yellow-500 bg-yellow-900/20":""}`,onClick:()=>s(L.id),children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"font-medium text-red-100 truncate",children:L.displayName||L.email||L.id}),f.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${L.role==="admin"?"bg-red-500/20 text-red-300":L.role==="moderator"?"bg-blue-500/20 text-blue-300":L.role==="goodboy"?"bg-green-500/20 text-green-300":"bg-gray-500/20 text-gray-300"}`,children:L.role||"user"}),L.upgradesLocked&&f.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-500 text-white",children:""}),L.economyFrozen&&f.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-cyan-500 text-white",children:""})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-xs text-red-200/60",children:[f.jsxs("span",{children:["Coins: ",(L.coins||0).toLocaleString()]}),f.jsxs("span",{children:["Clicks: ",(L.clickCount||0).toLocaleString()]}),f.jsxs("span",{children:["Chips: ",se(L.chips)]}),f.jsxs("span",{children:["Role: ",L.role||"user"]})]})]}),f.jsx("div",{className:"text-right",children:f.jsx(he,{onClick:re=>{re.stopPropagation(),s(L.id),E(!0)},size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300 hover:bg-purple-900/30",children:f.jsx(Ox,{className:"w-3 h-3"})})})]})},L.id))})]})]})]})}):f.jsx(Ot,{className:"max-w-2xl mx-auto mt-8",children:f.jsxs(Lt,{className:"p-8 text-center",children:[f.jsx(lp,{className:"w-16 h-16 mx-auto text-red-500 mb-4"}),f.jsx("h2",{className:"text-2xl font-bold text-red-100 mb-2",children:"Admin-Only Access"}),f.jsx("p",{className:"text-red-200/60",children:'Only users with "admin" role can access this panel.'}),f.jsx("p",{className:"text-red-200/40 text-sm mt-2",children:"Moderators and other roles cannot access this panel."})]})})}function RE({children:t}){const{user:e,loading:n}=ri();return n?f.jsx("div",{children:"Loading..."}):e?f.jsx(f.Fragment,{children:t}):f.jsx(UO,{to:"/"})}function vH(){const{user:t}=ri(),[e,n]=w.useState(!1),[r,s]=w.useState(""),[i,o]=w.useState([]),[a,l]=w.useState(!0),[c,h]=w.useState(!1),[d,p]=w.useState(1),[g,v]=w.useState(!1),[y,S]=w.useState(null),[x,E]=w.useState(null),[T,k]=w.useState(null);w.useEffect(()=>{const D=new Audio("/sounds/click1.mp3"),I=new Audio("/sounds/click2.mp3"),H=new Audio("/sounds/click3.mp3");return D.volume=.5,I.volume=.5,H.volume=.5,D.preload="auto",I.preload="auto",H.preload="auto",D.onerror=()=>console.warn("Failed to load click1.mp3"),I.onerror=()=>console.warn("Failed to load click2.mp3"),H.onerror=()=>console.warn("Failed to load click3.mp3"),S(D),E(I),k(H),()=>{D&&D.pause(),I&&I.pause(),H&&H.pause()}},[]),w.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{const I=await Yn(je(xe,"players",t.uid));if(I.exists()){const H=I.data();n(H.role==="goodboy"||H.role==="admin"||H.role==="moderator"),H.soundEnabled!==void 0&&h(H.soundEnabled),H.selectedSound!==void 0&&p(H.selectedSound)}}catch(I){console.error("Failed to check goodboy status:",I)}})()},[t]);const N=async()=>{try{l(!0);const D=zo(on(xe,"players")),I=await fn(D),H=[];I.forEach(ee=>{const W=ee.data();H.push({id:ee.id,displayName:W.username||W.displayName||"Unknown",coins:W.coins||0,role:W.role||"user",soundEnabled:W.soundEnabled||!1,selectedSound:W.selectedSound||1})}),o(H),s(`Loaded ${H.length} users`)}catch(D){s("Failed to load users"),console.error(D)}finally{l(!1)}},V=async()=>{const D=!c;if(window.confirm(`Are you sure you want to ${D?"ENABLE":"DISABLE"} click sounds for ALL users?`))try{const I=await fn(on(xe,"players")),H=[];I.forEach(ee=>{H.push(nt(je(xe,"players",ee.id),{soundEnabled:D,lastUpdated:new Date}))}),await Promise.all(H),h(D),s(`${D?"Enabled":"Disabled"} click sounds for ALL users`),N(),t!=null&&t.uid&&await nt(je(xe,"players",t.uid),{soundEnabled:D,selectedSound:d,lastUpdated:new Date})}catch(I){s("Failed to update sound settings"),console.error(I)}},C=async D=>{if(window.confirm(`Change ALL users to use Sound ${D}?`))try{const I=await fn(on(xe,"players")),H=[];I.forEach(ee=>{H.push(nt(je(xe,"players",ee.id),{selectedSound:D,lastUpdated:new Date}))}),await Promise.all(H),p(D),s(`Changed ALL users to Sound ${D}`),N(),P(D),t!=null&&t.uid&&await nt(je(xe,"players",t.uid),{soundEnabled:c,selectedSound:D,lastUpdated:new Date})}catch(I){s("Failed to change sound"),console.error(I)}},_=async(D,I)=>{const H=!I;try{await nt(je(xe,"players",D),{soundEnabled:H,lastUpdated:new Date}),s(`${H?"Enabled":"Disabled"} sounds for user`),N()}catch(ee){s("Failed to update user sound"),console.error(ee)}},A=async(D,I)=>{try{await nt(je(xe,"players",D),{selectedSound:I,lastUpdated:new Date}),s(`Changed user to Sound ${I}`),N(),P(I)}catch(H){s("Failed to change user sound"),console.error(H)}},P=D=>{switch(y&&y.pause(),x&&x.pause(),T&&T.pause(),y&&(y.currentTime=0),x&&(x.currentTime=0),T&&(T.currentTime=0),v(!0),D){case 1:y&&y.play().then(()=>{y.onended=()=>v(!1)}).catch(I=>{console.error("Failed to play sound 1:",I),v(!1)});break;case 2:x&&x.play().then(()=>{x.onended=()=>v(!1)}).catch(I=>{console.error("Failed to play sound 2:",I),v(!1)});break;case 3:T&&T.play().then(()=>{T.onended=()=>v(!1)}).catch(I=>{console.error("Failed to play sound 3:",I),v(!1)});break}},M=()=>{y&&y.pause(),x&&x.pause(),T&&T.pause(),y&&(y.currentTime=0),x&&(x.currentTime=0),T&&(T.currentTime=0),v(!1)};return w.useEffect(()=>{e&&N()},[e]),e?f.jsx("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:f.jsxs(Ot,{className:"bg-black/40 border-green-500/30 backdrop-blur-md",children:[f.jsxs(ea,{children:[f.jsxs(ta,{className:"flex items-center gap-2 text-2xl text-green-200",children:[f.jsx(cp,{className:"w-6 h-6"}),"GoodBoy Sound Control Panel"]}),f.jsx("p",{className:"text-green-200/60 text-sm",children:"Control click sounds for all players. Only GoodBoys can access this panel."})]}),f.jsxs(Lt,{children:[f.jsxs("div",{className:"mb-8 p-4 bg-black/30 border border-green-500/30 rounded",children:[f.jsx("h3",{className:"text-lg font-semibold text-green-200 mb-4",children:"Global Sound Controls"}),f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[c?f.jsx(up,{className:"w-5 h-5 text-green-400"}):f.jsx(Fx,{className:"w-5 h-5 text-red-400"}),f.jsxs("div",{children:[f.jsx(Ts,{className:"text-green-200",children:"Global Click Sounds"}),f.jsx("p",{className:"text-green-200/60 text-sm",children:c?"Sounds are ENABLED for all users":"Sounds are DISABLED for all users"})]})]}),f.jsxs("label",{className:"flex items-center cursor-pointer",children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"checkbox",checked:c,onChange:V,className:"sr-only"}),f.jsx("div",{className:`block w-14 h-8 rounded-full transition-colors ${c?"bg-green-600":"bg-gray-700"}`}),f.jsx("div",{className:`absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform ${c?"transform translate-x-6":""}`})]}),f.jsx("span",{className:"ml-3 text-sm font-medium text-green-200",children:c?"ON":"OFF"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ts,{className:"text-green-200",children:"Select Global Click Sound"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[1,2,3].map(D=>f.jsxs(he,{onClick:()=>C(D),variant:d===D?"default":"outline",className:`flex flex-col items-center justify-center h-24 ${d===D?"bg-green-600 hover:bg-green-700 border-green-500":"bg-black/30 border-green-500/30 hover:bg-green-900/30"}`,children:[f.jsx(cp,{className:"w-6 h-6 mb-2"}),f.jsxs("span",{className:"text-lg font-semibold",children:["Sound ",D]}),f.jsx("span",{className:"text-xs opacity-70 mt-1",children:"Click to preview"})]},D))}),f.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[f.jsxs(he,{onClick:()=>P(d),disabled:g,className:"bg-blue-600 hover:bg-blue-700",children:[f.jsx(nO,{className:"w-4 h-4 mr-2"}),"Preview Sound ",d]}),f.jsxs(he,{onClick:M,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-900/30",children:[f.jsx(tO,{className:"w-4 h-4 mr-2"}),"Stop Preview"]})]})]})]}),r&&f.jsx(JP,{className:"border-green-500/50 bg-green-900/20 mb-6",children:f.jsx(ZP,{className:"text-green-200",children:r})}),f.jsxs("div",{className:"mt-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-xl font-semibold text-green-200",children:"Individual User Controls"}),f.jsxs(he,{onClick:N,variant:"outline",className:"border-green-500/30 text-green-300 hover:bg-green-900/30",children:[f.jsx($d,{className:"w-4 h-4 mr-2"}),"Refresh Users"]})]}),a?f.jsx("p",{className:"text-green-200/60 text-center py-8",children:"Loading users..."}):f.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:i.map(D=>f.jsx("div",{className:"p-4 bg-black/30 border border-green-500/20 rounded hover:bg-green-900/10",children:f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("p",{className:"font-medium text-green-100",children:D.displayName||D.id}),D.role==="goodboy"&&f.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500/20 text-green-300",children:"GoodBoy"}),D.role==="admin"&&f.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-red-500/20 text-red-300",children:"Admin"})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-green-200/60",children:[f.jsxs("span",{children:["Coins: ",(D.coins||0).toLocaleString()]}),f.jsxs("span",{children:["Sound: ",D.selectedSound||1]}),f.jsxs("span",{children:["Status: ",D.soundEnabled?" On":" Off"]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs(he,{onClick:()=>_(D.id,D.soundEnabled||!1),variant:"outline",size:"sm",className:`flex items-center gap-2 ${D.soundEnabled?"border-red-500 text-red-400 hover:bg-red-900/30":"border-green-500 text-green-400 hover:bg-green-900/30"}`,children:[D.soundEnabled?f.jsx(Fx,{className:"w-3 h-3"}):f.jsx(up,{className:"w-3 h-3"}),D.soundEnabled?"Disable":"Enable"]}),f.jsx("div",{className:"flex gap-1",children:[1,2,3].map(I=>f.jsx(he,{onClick:()=>A(D.id,I),size:"sm",className:`w-8 h-8 p-0 ${D.selectedSound===I?"bg-green-600 hover:bg-green-700":"bg-black/50 hover:bg-green-900/50"}`,children:I},I))})]})]})},D.id))})]}),f.jsxs("div",{className:"mt-8 p-4 bg-black/20 border border-green-500/20 rounded",children:[f.jsx("h4",{className:"text-lg font-semibold text-green-200 mb-2",children:"How It Works:"}),f.jsxs("ul",{className:"space-y-2 text-green-200/60 text-sm",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(z1,{className:"w-4 h-4 mt-0.5 text-green-400"}),f.jsx("span",{children:'Only users with "goodboy", "admin", or "moderator" role can access this panel'})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(up,{className:"w-4 h-4 mt-0.5 text-green-400"}),f.jsx("span",{children:"Global controls affect ALL users at once"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx($d,{className:"w-4 h-4 mt-0.5 text-green-400"}),f.jsx("span",{children:"Individual controls let you manage each user separately"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx(cp,{className:"w-4 h-4 mt-0.5 text-green-400"}),f.jsx("span",{children:"Users will hear the selected sound when they click coins"})]})]})]})]})]})}):f.jsx(Ot,{className:"max-w-2xl mx-auto mt-8",children:f.jsxs(Lt,{className:"p-8 text-center",children:[f.jsx(qV,{className:"w-16 h-16 mx-auto text-green-500 mb-4"}),f.jsx("h2",{className:"text-2xl font-bold text-green-100 mb-2",children:"GoodBoy Access Required"}),f.jsx("p",{className:"text-green-200/60",children:"You need GoodBoy privileges to access this panel."}),f.jsx("p",{className:"text-green-200/40 text-sm mt-2",children:'Ask an admin to give you the "goodboy" role in Firestore.'})]})})}function wH(){return f.jsxs(BO,{children:[f.jsx(_u,{path:"/goodboy",children:f.jsx(RE,{children:f.jsx(vH,{})})}),f.jsx(_u,{path:"/",component:pH}),f.jsx(_u,{path:"/admin",children:f.jsx(RE,{children:f.jsx(yH,{})})}),f.jsx(_u,{component:$O})]})}function xH(){return f.jsx(zO,{children:f.jsx(JU,{children:f.jsx(HO,{defaultTheme:"light",children:f.jsxs(IV,{children:[f.jsx(TD,{}),f.jsx(wH,{})]})})})})}function _H({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState(!0);return w.useEffect(()=>OC(ol,o=>{n(o),s(!1)}),[]),r?f.jsx("div",{children:"Loading..."}):f.jsx(f.Fragment,{children:t})}Wp.createRoot(document.getElementById("root")).render(f.jsx(Y.StrictMode,{children:f.jsx(_H,{children:f.jsx(xH,{})})}));
